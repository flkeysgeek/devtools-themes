'use strict';var $mr$MessagePortService$service_$$;
$goog$exportSymbol$$("mr.IssueSeverity", {$FATAL$:"fatal", $WARNING$:"warning", $NOTIFICATION$:"notification"});
$goog$exportSymbol$$("mr.IssueAction", {$DISMISS$:"dismiss", $LEARN_MORE$:"learn_more"});
var $mr$Issue$$ = function($title$jscomp$14$$, $severity$$) {
  this.routeId = null;
  this.severity = $severity$$;
  this.isBlocking = "fatal" == this.severity ? !0 : !1;
  this.title = $title$jscomp$14$$;
  this.message = null;
  this.defaultAction = "dismiss";
  this.helpPageId = this.secondaryActions = null;
}, $JSCompiler_StaticMethods_setSecondaryActions$$ = function() {
  var $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_469$$ = new $mr$Issue$$($mr$cloud$Messages$MSG_MR_HANGOUT_PRIVACY$$, "notification");
  $mr$Assertions$assert$$(!0);
  $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_469$$.helpPageId = 6320939;
  $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_469$$.defaultAction = "learn_more";
  $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_469$$.secondaryActions = ["dismiss"];
  return $JSCompiler_StaticMethods_setDefaultActionLearnMore$self$jscomp$inline_469$$;
};
var $module$contents$mr$CancellablePromise_CancellablePromise$$ = function($init$jscomp$1$$, $onCancelled$$) {
  var $$jscomp$this$jscomp$7$$ = this;
  this.$b$ = void 0 === $onCancelled$$ ? null : $onCancelled$$;
  this.$a$ = new Promise(function($onCancelled$$, $reject$jscomp$4$$) {
    var $resolve$jscomp$4$$ = function($init$jscomp$1$$) {
      $$jscomp$this$jscomp$7$$.$b$ = null;
      $reject$jscomp$4$$($init$jscomp$1$$);
    };
    $$jscomp$this$jscomp$7$$.$f$ = $resolve$jscomp$4$$;
    $init$jscomp$1$$(function($init$jscomp$1$$) {
      $$jscomp$this$jscomp$7$$.$b$ = null;
      $onCancelled$$($init$jscomp$1$$);
    }, $resolve$jscomp$4$$);
  });
};
$module$contents$mr$CancellablePromise_CancellablePromise$$.prototype.cancel = function($reason$jscomp$7$$) {
  this.$f$($reason$jscomp$7$$);
  if (this.$b$) {
    var $onCancelled$jscomp$1$$ = this.$b$;
    this.$b$ = null;
    setTimeout(function() {
      return $onCancelled$jscomp$1$$($reason$jscomp$7$$);
    }, 0);
  }
};
var $JSCompiler_StaticMethods_chain$$ = function($JSCompiler_StaticMethods_chain$self$$, $onResolved$$, $onRejected$jscomp$1$$) {
  $onRejected$jscomp$1$$ = void 0 === $onRejected$jscomp$1$$ ? null : $onRejected$jscomp$1$$;
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$5$$, $reject$jscomp$5$$) {
    $JSCompiler_StaticMethods_chain$self$$.$a$.then(function($JSCompiler_StaticMethods_chain$self$$) {
      if ($onResolved$$) {
        try {
          $resolve$jscomp$5$$($onResolved$$($JSCompiler_StaticMethods_chain$self$$));
        } catch ($reason$jscomp$8$$) {
          $reject$jscomp$5$$($reason$jscomp$8$$);
        }
      } else {
        $resolve$jscomp$5$$($JSCompiler_StaticMethods_chain$self$$);
      }
    }, function($JSCompiler_StaticMethods_chain$self$$) {
      if ($onRejected$jscomp$1$$) {
        try {
          $resolve$jscomp$5$$($onRejected$jscomp$1$$($JSCompiler_StaticMethods_chain$self$$));
        } catch ($reason2$$) {
          $reject$jscomp$5$$($reason2$$);
        }
      } else {
        $reject$jscomp$5$$($JSCompiler_StaticMethods_chain$self$$);
      }
    });
  }, function($onResolved$$) {
    $JSCompiler_StaticMethods_chain$self$$.cancel($onResolved$$);
  });
};
$module$contents$mr$CancellablePromise_CancellablePromise$$.prototype.then = function($onResolved$jscomp$1$$, $onRejected$jscomp$2$$) {
  return $JSCompiler_StaticMethods_chain$$(this, $onResolved$jscomp$1$$, void 0 === $onRejected$jscomp$2$$ ? null : $onRejected$jscomp$2$$);
};
var $JSCompiler_StaticMethods_module$contents$mr$CancellablePromise_CancellablePromise_prototype$catch$$ = function($JSCompiler_StaticMethods_module$contents$mr$CancellablePromise_CancellablePromise_prototype$catch$self$$, $onRejected$jscomp$3$$) {
  return $JSCompiler_StaticMethods_chain$$($JSCompiler_StaticMethods_module$contents$mr$CancellablePromise_CancellablePromise_prototype$catch$self$$, null, $onRejected$jscomp$3$$);
}, $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$ = function($value$jscomp$130$$) {
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$6$$) {
    $resolve$jscomp$6$$($value$jscomp$130$$);
  });
}, $module$contents$mr$CancellablePromise_CancellablePromise$reject$$ = function($reason$jscomp$11$$) {
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$7$$, $reject$jscomp$7$$) {
    $reject$jscomp$7$$($reason$jscomp$11$$);
  });
}, $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$ = function($promise$jscomp$3$$) {
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$8$$, $reject$jscomp$8$$) {
    $promise$jscomp$3$$.then($resolve$jscomp$8$$, $reject$jscomp$8$$);
  });
}, $module$contents$mr$CancellablePromise_CancellablePromise$withUncancellableStep$$ = function($promise$jscomp$4$$, $startCancellableStep$$) {
  var $wasCancelled$$ = !1, $innerPromise$$ = null;
  return new $module$contents$mr$CancellablePromise_CancellablePromise$$(function($resolve$jscomp$9$$, $reject$jscomp$9$$) {
    $promise$jscomp$4$$.then(function($promise$jscomp$4$$) {
      $wasCancelled$$ || ($innerPromise$$ = $startCancellableStep$$($promise$jscomp$4$$), $innerPromise$$.$a$.then($resolve$jscomp$9$$, $reject$jscomp$9$$));
    }, $reject$jscomp$9$$);
  }, function($promise$jscomp$4$$) {
    $innerPromise$$ ? $innerPromise$$.cancel($promise$jscomp$4$$) : $wasCancelled$$ = !0;
  });
};
var $mr$PlatformUtils$isWindows8OrNewer$$ = function() {
  var $$jscomp$destructuring$var1_version$jscomp$9$$ = $$jscomp$makeIterator$$(navigator.userAgent.match(/Windows NT (\d+.\d+)/) || []);
  $$jscomp$destructuring$var1_version$jscomp$9$$.next();
  $$jscomp$destructuring$var1_version$jscomp$9$$ = $$jscomp$destructuring$var1_version$jscomp$9$$.next().value;
  return 6.2 <= parseFloat($$jscomp$destructuring$var1_version$jscomp$9$$);
}, $mr$PlatformUtils$getCurrentOS$$ = function() {
  var $userAgent$jscomp$6$$ = navigator.userAgent;
  return $userAgent$jscomp$6$$.includes("CrOS") ? "ChromeOS" : $userAgent$jscomp$6$$.includes("Windows") ? "Windows" : $userAgent$jscomp$6$$.includes("Macintosh") ? "Mac" : $userAgent$jscomp$6$$.includes("Linux") ? "Linux" : "Other";
};
var $mr$mirror$Config$isTDLSSupportedByPlatform$$ = !("undefined" == typeof chrome || !chrome.networkingPrivate || !chrome.networkingPrivate.setWifiTDLSEnabledState || "ChromeOS" != $mr$PlatformUtils$getCurrentOS$$()), $mr$mirror$Config$isDesktopAudioCaptureAvailable$$ = ["ChromeOS", "Windows"].includes($mr$PlatformUtils$getCurrentOS$$());
var $mr$mirror$CaptureParameters$$ = function($captureSurface$$, $mirrorSettings$$, $opt_offscreenTabUrl$$, $opt_presentationId$$) {
  $opt_offscreenTabUrl$$ && ($mr$Assertions$assert$$("offscreen_tab" == $captureSurface$$), $mr$Assertions$assert$$($opt_presentationId$$));
  this.$b$ = $captureSurface$$;
  this.$a$ = $mirrorSettings$$;
  this.$f$ = $opt_offscreenTabUrl$$ || null;
  this.$presentationId$ = $opt_presentationId$$ || null;
}, $JSCompiler_StaticMethods_toMediaConstraints$$ = function($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$, $constraints$jscomp$inline_473_opt_sourceId_sourceId$jscomp$inline_476$$) {
  if ("tab" == $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$.$b$) {
    $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$ = $JSCompiler_StaticMethods_toTabMediaConstraints_$$($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$);
  } else {
    if ("offscreen_tab" == $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$.$b$) {
      $mr$Assertions$assert$$($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$.$presentationId$, "Missing offscreen capture presentation id"), $constraints$jscomp$inline_473_opt_sourceId_sourceId$jscomp$inline_476$$ = $JSCompiler_StaticMethods_toTabMediaConstraints_$$($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$), $constraints$jscomp$inline_473_opt_sourceId_sourceId$jscomp$inline_476$$.presentationId = 
      $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$.$presentationId$, $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$ = $constraints$jscomp$inline_473_opt_sourceId_sourceId$jscomp$inline_476$$;
    } else {
      $constraints$jscomp$inline_473_opt_sourceId_sourceId$jscomp$inline_476$$ = $mr$Assertions$assertString$$($constraints$jscomp$inline_473_opt_sourceId_sourceId$jscomp$inline_476$$);
      var $constraints$jscomp$inline_477$$ = {audio:!1, video:!1};
      $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$.$a$.shouldCaptureVideo && ($constraints$jscomp$inline_477$$.video = {mandatory:{chromeMediaSource:"desktop", chromeMediaSourceId:$constraints$jscomp$inline_473_opt_sourceId_sourceId$jscomp$inline_476$$}}, $JSCompiler_StaticMethods_setCommonVideoConstraints_$$($JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$, $constraints$jscomp$inline_477$$.video.mandatory));
      $mr$mirror$Config$isDesktopAudioCaptureAvailable$$ && $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$.$a$.shouldCaptureAudio && ($constraints$jscomp$inline_477$$.audio = {mandatory:{chromeMediaSource:"desktop", chromeMediaSourceId:$constraints$jscomp$inline_473_opt_sourceId_sourceId$jscomp$inline_476$$}});
      $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$ = $constraints$jscomp$inline_477$$;
    }
  }
  return $JSCompiler_StaticMethods_toMediaConstraints$self_JSCompiler_temp$jscomp$90_JSCompiler_temp$jscomp$91$$;
}, $JSCompiler_StaticMethods_toTabMediaConstraints_$$ = function($JSCompiler_StaticMethods_toTabMediaConstraints_$self$$) {
  var $constraints$jscomp$10$$ = {audio:$JSCompiler_StaticMethods_toTabMediaConstraints_$self$$.$a$.shouldCaptureAudio, video:$JSCompiler_StaticMethods_toTabMediaConstraints_$self$$.$a$.shouldCaptureVideo};
  $JSCompiler_StaticMethods_toTabMediaConstraints_$self$$.$a$.shouldCaptureVideo && ($constraints$jscomp$10$$.videoConstraints = {mandatory:{enableAutoThrottling:!0}}, $JSCompiler_StaticMethods_setCommonVideoConstraints_$$($JSCompiler_StaticMethods_toTabMediaConstraints_$self$$, $constraints$jscomp$10$$.videoConstraints.mandatory));
  return $constraints$jscomp$10$$;
}, $JSCompiler_StaticMethods_setCommonVideoConstraints_$$ = function($JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$, $constraints$jscomp$13$$) {
  var $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$ = $JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$a$.minWidth, $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ = $JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$a$.minHeight;
  if ($JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$a$.senderSideLetterboxing) {
    $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$ = $JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$a$;
    if (0 == $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.minHeight || 0 == $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxHeight ? 0 : Math.floor(100.0 * $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.minWidth / $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.minHeight) == 
    Math.floor(100.0 * $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxWidth / $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxHeight)) {
      $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$ = {width:$JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.minWidth, height:$JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.minHeight};
    } else {
      for (var $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxWidth, $b$jscomp$inline_481_width$jscomp$inline_483$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxHeight; 0 != $b$jscomp$inline_481_width$jscomp$inline_483$$;) {
        var $remainder$jscomp$inline_482_upFactor$jscomp$inline_485$$ = $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ % $b$jscomp$inline_481_width$jscomp$inline_483$$, $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ = $b$jscomp$inline_481_width$jscomp$inline_483$$, $b$jscomp$inline_481_width$jscomp$inline_483$$ = $remainder$jscomp$inline_482_upFactor$jscomp$inline_485$$;
      }
      $b$jscomp$inline_481_width$jscomp$inline_483$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxWidth / $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$;
      $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxHeight / $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$;
      if ($b$jscomp$inline_481_width$jscomp$inline_483$$ < $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.minWidth || $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ < $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.minHeight) {
        if ($remainder$jscomp$inline_482_upFactor$jscomp$inline_485$$ = Math.max($JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.minWidth / $b$jscomp$inline_481_width$jscomp$inline_483$$, $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.minHeight / $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$), $b$jscomp$inline_481_width$jscomp$inline_483$$ *= 
        $remainder$jscomp$inline_482_upFactor$jscomp$inline_485$$, $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ *= $remainder$jscomp$inline_482_upFactor$jscomp$inline_485$$, $b$jscomp$inline_481_width$jscomp$inline_483$$ > $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxWidth || $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ > $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxHeight) {
          $b$jscomp$inline_481_width$jscomp$inline_483$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxWidth, $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$.maxHeight;
        }
      }
      $b$jscomp$inline_481_width$jscomp$inline_483$$ = Math.round($b$jscomp$inline_481_width$jscomp$inline_483$$);
      $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ = Math.round($a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$);
      $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$ = {width:$b$jscomp$inline_481_width$jscomp$inline_483$$, height:$a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$};
    }
    $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ = $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$;
    $JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$ = $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$.width;
    $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$ = $a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$.height;
  }
  Object.assign($constraints$jscomp$13$$, {minWidth:$JSCompiler_StaticMethods_getMinDimensionsToMatchAspectRatio$self$jscomp$inline_479_JSCompiler_inline_result$jscomp$95_minWidth$$, minHeight:$a$jscomp$inline_480_altMin_height$jscomp$inline_484_minHeight$$, maxWidth:$JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$a$.maxWidth, maxHeight:$JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$a$.maxHeight, maxFrameRate:$JSCompiler_StaticMethods_setCommonVideoConstraints_$self$$.$a$.maxFrameRate});
};
var $mr$Timing$$ = function($name$jscomp$128$$) {
  this.$b$ = $name$jscomp$128$$;
  this.$f$ = Date.now();
}, $JSCompiler_StaticMethods_getFullName_$$ = function($name$jscomp$129$$, $opt_suffix$$) {
  null != $opt_suffix$$ && ($name$jscomp$129$$ += "_" + $opt_suffix$$);
  return $name$jscomp$129$$;
};
$mr$Timing$$.prototype.$a$ = function($opt_suffix$jscomp$1$$) {
  $mr$Timing$recordDuration$$($JSCompiler_StaticMethods_getFullName_$$(this.$b$, $opt_suffix$jscomp$1$$), Date.now() - this.$f$);
};
var $mr$Timing$recordDuration$$ = function($name$jscomp$132$$, $duration$jscomp$2$$) {
  0 > $duration$jscomp$2$$ && ($JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$Timing$logger_$$, "Timing analytics event with negative time"), $duration$jscomp$2$$ = 0);
  1E4 < $duration$jscomp$2$$ && ($duration$jscomp$2$$ = 1E4);
  try {
    chrome.metricsPrivate.recordTime($name$jscomp$132$$, $duration$jscomp$2$$);
  } catch ($e$jscomp$11$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$Timing$logger_$$, "Failed to record time " + $duration$jscomp$2$$ + " in " + $name$jscomp$132$$);
  }
}, $mr$Timing$logger_$$ = $mr$Logger$getInstance$$("mr.Timing"), $mr$MediumTiming$$ = function($name$jscomp$133$$) {
  $mr$Timing$$.call(this, $name$jscomp$133$$);
};
$$jscomp$inherits$$($mr$MediumTiming$$, $mr$Timing$$);
$mr$MediumTiming$$.prototype.$a$ = function($name$jscomp$inline_487_opt_suffix$jscomp$2$$) {
  $name$jscomp$inline_487_opt_suffix$jscomp$2$$ = $JSCompiler_StaticMethods_getFullName_$$(this.$b$, $name$jscomp$inline_487_opt_suffix$jscomp$2$$);
  var $duration$jscomp$inline_488$$ = Date.now() - this.$f$;
  if (0 > $duration$jscomp$inline_488$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$MediumTiming$logger_$$, "Timing analytics event with negative time");
  } else {
    1E4 > $duration$jscomp$inline_488$$ && ($duration$jscomp$inline_488$$ = 1E4);
    18E4 < $duration$jscomp$inline_488$$ && ($duration$jscomp$inline_488$$ = 18E4);
    try {
      chrome.metricsPrivate.recordMediumTime($name$jscomp$inline_487_opt_suffix$jscomp$2$$, $duration$jscomp$inline_488$$);
    } catch ($e$jscomp$inline_489$$) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$MediumTiming$logger_$$, "Failed to record time " + $duration$jscomp$inline_488$$ + " in " + $name$jscomp$inline_487_opt_suffix$jscomp$2$$);
    }
  }
};
var $mr$MediumTiming$logger_$$ = $mr$Logger$getInstance$$("mr.MediumTiming"), $mr$LongTiming$$ = function($name$jscomp$136$$) {
  $mr$Timing$$.call(this, $name$jscomp$136$$);
};
$$jscomp$inherits$$($mr$LongTiming$$, $mr$Timing$$);
$mr$LongTiming$$.prototype.$a$ = function($name$jscomp$inline_491_opt_suffix$jscomp$3$$) {
  $name$jscomp$inline_491_opt_suffix$jscomp$3$$ = $JSCompiler_StaticMethods_getFullName_$$(this.$b$, $name$jscomp$inline_491_opt_suffix$jscomp$3$$);
  var $duration$jscomp$inline_492$$ = Date.now() - this.$f$;
  if (0 > $duration$jscomp$inline_492$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$LongTiming$logger_$$, "Timing analytics event with negative time");
  } else {
    18E4 > $duration$jscomp$inline_492$$ && ($duration$jscomp$inline_492$$ = 18E4);
    36E5 < $duration$jscomp$inline_492$$ && ($duration$jscomp$inline_492$$ = 36E5);
    try {
      chrome.metricsPrivate.recordLongTime($name$jscomp$inline_491_opt_suffix$jscomp$3$$, $duration$jscomp$inline_492$$);
    } catch ($e$jscomp$inline_493$$) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$LongTiming$logger_$$, "Failed to record time " + $duration$jscomp$inline_492$$ + " in " + $name$jscomp$inline_491_opt_suffix$jscomp$3$$);
    }
  }
};
var $mr$LongTiming$logger_$$ = $mr$Logger$getInstance$$("mr.LongTiming"), $mr$Analytics$logger_$$ = $mr$Logger$getInstance$$("mr.Analytics"), $mr$Analytics$recordEvent$$ = function($name$jscomp$139$$) {
  try {
    chrome.metricsPrivate.recordUserAction($name$jscomp$139$$);
  } catch ($e$jscomp$14$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$Analytics$logger_$$, "Failed to record event " + $name$jscomp$139$$);
  }
}, $mr$Analytics$recordEnum$$ = function($name$jscomp$140$$, $value$jscomp$132$$, $config$jscomp$7_values$jscomp$8$$) {
  var $foundKey$$, $size$jscomp$12$$ = 0, $key$jscomp$75$$;
  for ($key$jscomp$75$$ in $config$jscomp$7_values$jscomp$8$$) {
    $size$jscomp$12$$++, $config$jscomp$7_values$jscomp$8$$[$key$jscomp$75$$] == $value$jscomp$132$$ && ($foundKey$$ = $key$jscomp$75$$);
  }
  if ($foundKey$$) {
    $config$jscomp$7_values$jscomp$8$$ = {metricName:$name$jscomp$140$$, type:"histogram-linear", min:1, max:$size$jscomp$12$$, buckets:$size$jscomp$12$$ + 1};
    try {
      chrome.metricsPrivate.recordValue($config$jscomp$7_values$jscomp$8$$, $value$jscomp$132$$);
    } catch ($e$jscomp$15$$) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$Analytics$logger_$$, "Failed to record enum value " + $foundKey$$ + " (" + $value$jscomp$132$$ + ") in " + $name$jscomp$140$$, $e$jscomp$15$$);
    }
  } else {
    $mr$Analytics$logger_$$.error("Unknown analytics value, " + $value$jscomp$132$$ + " for histogram, " + $name$jscomp$140$$, Error());
  }
}, $mr$Analytics$recordSmallCount$$ = function($name$jscomp$141$$, $count$jscomp$13$$) {
  try {
    if (0 > $count$jscomp$13$$) {
      throw Error("Invalid count for " + $name$jscomp$141$$ + ": " + $count$jscomp$13$$);
    }
    100 < $count$jscomp$13$$ && $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$Analytics$logger_$$, "Small count for " + $name$jscomp$141$$ + " exceeded limits: " + $count$jscomp$13$$, Error());
    chrome.metricsPrivate.recordSmallCount($name$jscomp$141$$, $count$jscomp$13$$);
  } catch ($e$jscomp$16$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$Analytics$logger_$$, "Failed to record small count " + $name$jscomp$141$$ + " (" + $count$jscomp$13$$ + ")", $e$jscomp$16$$);
  }
};
var $mr$MirrorAnalytics$CapturingFailure$$ = {$CAPTURE_TAB_FAIL_EMPTY_STREAM$:0, $CAPTURE_DESKTOP_FAIL_ERROR_TIMEOUT$:1, $CAPTURE_TAB_TIMEOUT$:2, $CAPTURE_DESKTOP_FAIL_ERROR_USER_CANCEL$:3, $ANSWER_NOT_RECEIVED$:4, $CAPTURE_TAB_FAIL_ERROR_TIMEOUT$:5, $ICE_CONNECTION_CLOSED$:6, $TAB_FAIL$:7, $DESKTOP_FAIL$:8, $UNKNOWN$:9}, $mr$mirror$Error$$ = function($$jscomp$tmp$error$jscomp$1_message$jscomp$46$$, $reason$jscomp$14$$) {
  $$jscomp$tmp$error$jscomp$1_message$jscomp$46$$ = Error.call(this, $$jscomp$tmp$error$jscomp$1_message$jscomp$46$$);
  this.message = $$jscomp$tmp$error$jscomp$1_message$jscomp$46$$.message;
  "stack" in $$jscomp$tmp$error$jscomp$1_message$jscomp$46$$ && (this.stack = $$jscomp$tmp$error$jscomp$1_message$jscomp$46$$.stack);
  this.reason = 0 <= $reason$jscomp$14$$ && 9 >= $reason$jscomp$14$$ ? $reason$jscomp$14$$ : 9;
};
$$jscomp$inherits$$($mr$mirror$Error$$, Error);
var $mr$mirror$MirrorMediaStream$$ = function($captureParams$$) {
  this.$b$ = $captureParams$$;
  this.$a$ = this.$onStreamEnded_$ = null;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.mirror.MirrorMediaStream");
};
$mr$mirror$MirrorMediaStream$$.prototype.start = function() {
  return "tab" == this.$b$.$b$ ? $JSCompiler_StaticMethods_startTabCapturing_$$(this) : "offscreen_tab" == this.$b$.$b$ ? $JSCompiler_StaticMethods_startOffscreenTabCapturing_$$(this) : $JSCompiler_StaticMethods_startDesktopCapturing_$$(this);
};
var $JSCompiler_StaticMethods_startTabCapturing_$$ = function($JSCompiler_StaticMethods_startTabCapturing_$self$$) {
  var $constraints$jscomp$14$$ = $JSCompiler_StaticMethods_toMediaConstraints$$($JSCompiler_StaticMethods_startTabCapturing_$self$$.$b$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_startTabCapturing_$self$$.$logger_$, "Starting tab capture with constraints " + JSON.stringify($constraints$jscomp$14$$));
  return new Promise(function($resolve$jscomp$10$$, $reject$jscomp$10$$) {
    chrome.tabCapture.capture($constraints$jscomp$14$$, function($constraints$jscomp$14$$) {
      $constraints$jscomp$14$$ ? ($JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$$($JSCompiler_StaticMethods_startTabCapturing_$self$$, $constraints$jscomp$14$$), $resolve$jscomp$10$$($JSCompiler_StaticMethods_startTabCapturing_$self$$)) : $reject$jscomp$10$$($JSCompiler_StaticMethods_createTabCaptureError_$$());
    });
    window.setTimeout(function() {
      $reject$jscomp$10$$(new $mr$mirror$Error$$("chrome.tabCapture.capture failed to call its callback", 2));
    }, 5000);
  });
};
$mr$mirror$MirrorMediaStream$$.prototype.$f$ = function($event$jscomp$10$$) {
  $event$jscomp$10$$ && $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, function() {
    return "Track " + JSON.stringify($event$jscomp$10$$.target) + " ended";
  });
  this.stop();
};
var $JSCompiler_StaticMethods_createTabCaptureError_$$ = function() {
  return chrome.runtime.lastError && chrome.runtime.lastError.message ? new $mr$mirror$Error$$(chrome.runtime.lastError.message, 7) : new $mr$mirror$Error$$("empty_stream", 0);
}, $JSCompiler_StaticMethods_startDesktopCapturing_$$ = function($JSCompiler_StaticMethods_startDesktopCapturing_$self$$) {
  return (new Promise(function($JSCompiler_StaticMethods_startDesktopCapturing_$self$$, $reject$jscomp$11$$) {
    var $resolve$jscomp$11$$ = ["screen", "audio"];
    "Linux" == $mr$PlatformUtils$getCurrentOS$$() && $resolve$jscomp$11$$.push("window");
    var $requestId$jscomp$1$$ = chrome.desktopCapture.chooseDesktopMedia($resolve$jscomp$11$$, $JSCompiler_StaticMethods_startDesktopCapturing_$self$$);
    window.setTimeout(function() {
      chrome.desktopCapture.cancelChooseDesktopMedia($requestId$jscomp$1$$);
      $reject$jscomp$11$$(new $mr$mirror$Error$$("timeout", 1));
    }, 60000);
  })).then(function($sourceId$jscomp$1$$) {
    if (!$sourceId$jscomp$1$$) {
      throw new $mr$mirror$Error$$("User cancelled capture dialog", 3);
    }
    var $constraints$jscomp$15$$ = $JSCompiler_StaticMethods_toMediaConstraints$$($JSCompiler_StaticMethods_startDesktopCapturing_$self$$.$b$, $sourceId$jscomp$1$$);
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_startDesktopCapturing_$self$$.$logger_$, function() {
      return "Starting desktop capture with constraints " + JSON.stringify($constraints$jscomp$15$$);
    });
    return new Promise(function($JSCompiler_StaticMethods_startDesktopCapturing_$self$$, $sourceId$jscomp$1$$) {
      navigator.webkitGetUserMedia($constraints$jscomp$15$$, $JSCompiler_StaticMethods_startDesktopCapturing_$self$$, function($JSCompiler_StaticMethods_startDesktopCapturing_$self$$) {
        var $constraints$jscomp$15$$ = 8;
        if ("PermissionDeniedError" == $JSCompiler_StaticMethods_startDesktopCapturing_$self$$.name || "NotAllowedError" == $JSCompiler_StaticMethods_startDesktopCapturing_$self$$.name) {
          $constraints$jscomp$15$$ = 3;
        }
        $sourceId$jscomp$1$$(new $mr$mirror$Error$$($JSCompiler_StaticMethods_startDesktopCapturing_$self$$.name + " " + $JSCompiler_StaticMethods_startDesktopCapturing_$self$$.constraintName + ": " + $JSCompiler_StaticMethods_startDesktopCapturing_$self$$.message, $constraints$jscomp$15$$));
      });
    });
  }).then(function($stream$jscomp$4$$) {
    if ($stream$jscomp$4$$) {
      $JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$$($JSCompiler_StaticMethods_startDesktopCapturing_$self$$, $stream$jscomp$4$$);
    } else {
      throw new $mr$mirror$Error$$("empty_stream", 8);
    }
    return $JSCompiler_StaticMethods_startDesktopCapturing_$self$$;
  });
}, $JSCompiler_StaticMethods_startOffscreenTabCapturing_$$ = function($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$) {
  $mr$Assertions$assert$$(!!$JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$.$b$.$f$);
  var $constraints$jscomp$16$$ = $JSCompiler_StaticMethods_toMediaConstraints$$($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$.$b$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$.$logger_$, function() {
    return "Starting offscreen tab capture with constraints " + JSON.stringify($constraints$jscomp$16$$);
  });
  return new Promise(function($resolve$jscomp$13$$, $reject$jscomp$13$$) {
    chrome.tabCapture.captureOffscreenTab($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$.$b$.$f$.toString(), $constraints$jscomp$16$$, function($constraints$jscomp$16$$) {
      $constraints$jscomp$16$$ ? ($JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$$($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$, $constraints$jscomp$16$$), $resolve$jscomp$13$$($JSCompiler_StaticMethods_startOffscreenTabCapturing_$self$$)) : $reject$jscomp$13$$($JSCompiler_StaticMethods_createTabCaptureError_$$());
    });
  });
}, $JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$$ = function($JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$self$$, $stream$jscomp$6$$) {
  $JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$self$$.$a$ = $stream$jscomp$6$$;
  $mr$Assertions$assert$$($stream$jscomp$6$$.getAudioTracks().length || $stream$jscomp$6$$.getVideoTracks().length, "Expecting at least one audio or video track.");
  $stream$jscomp$6$$.getTracks().forEach(function($stream$jscomp$6$$) {
    $stream$jscomp$6$$.onended = $JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$self$$.$f$.bind($JSCompiler_StaticMethods_mr_mirror_MirrorMediaStream_prototype$setStream_$self$$);
  });
};
$mr$mirror$MirrorMediaStream$$.prototype.stop = function() {
  this.$a$ && (this.$a$.getTracks().forEach(function($track$jscomp$5$$) {
    $track$jscomp$5$$.onended = null;
    $track$jscomp$5$$.stop();
  }), this.$a$ = null, this.$onStreamEnded_$ && this.$onStreamEnded_$());
};
var $mr$EventAnalytics$firstEvent_$$, $mr$EventAnalytics$Event$$ = {$MEDIA_ROUTER$:0, $CAST_CHANNEL_ON_ERROR$:1, $CAST_CHANNEL_ON_MESSAGE$:2, $DIAL_ON_DEVICE_LIST$:3, $DIAL_ON_ERROR$:4, $GCM_ON_MESSAGE$:5, $IDENTITY_ON_SIGN_IN_CHANGED$:6, $MDNS_ON_SERVICE_LIST$:7, $NETWORKING_PRIVATE_ON_NETWORKS_CHANGED$:8, $NETWORKING_PRIVATE_ON_NETWORK_LIST_CHANGED$:9, $PROCESSES_ON_UPDATED$:10, $RUNTIME_ON_MESSAGE$:11, $RUNTIME_ON_MESSAGE_EXTERNAL$:12, $SETTINGS_PRIVATE_ON_PREFS_CHANGED$:13, $TABS_ON_UPDATED$:14}, 
$mr$EventAnalytics$recordEvent$$ = function($eventType$jscomp$3$$) {
  void 0 == $mr$EventAnalytics$firstEvent_$$ && ($mr$Analytics$recordEnum$$("MediaRouter.Provider.WakeEvent", $eventType$jscomp$3$$, $mr$EventAnalytics$Event$$), $mr$EventAnalytics$firstEvent_$$ = $eventType$jscomp$3$$);
};
var $mr$MediaSourceUtils$isMirrorSource$$ = function($sourceUrn$$) {
  return $mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$$) || $mr$MediaSourceUtils$isDesktopMirrorSource$$($sourceUrn$$);
}, $mr$MediaSourceUtils$isPresentationSource$$ = function($sourceUrn$jscomp$1$$) {
  if (!$sourceUrn$jscomp$1$$.startsWith("http:") && !$sourceUrn$jscomp$1$$.startsWith("https:")) {
    return !1;
  }
  var $link$$ = document.createElement("a");
  $link$$.href = $sourceUrn$jscomp$1$$;
  return "http:" != $link$$.protocol && "https:" != $link$$.protocol ? !1 : -1 != $link$$.hash.indexOf("__testprovider__") ? -1 != $link$$.hash.indexOf("__oneUA__") : -1 == $link$$.hash.indexOf("__castAppId__");
}, $mr$MediaSourceUtils$MIRROR_APP_ID_ORIGIN_WHITELIST_$$ = ["https://docs.google.com"], $mr$MediaSourceUtils$getWhitelistedOrigins$$ = function($sourceUrn$jscomp$2$$) {
  return window.localStorage["debug.allowAllOrigins"] ? null : -1 != $sourceUrn$jscomp$2$$.indexOf("0F5096E8") ? $mr$MediaSourceUtils$MIRROR_APP_ID_ORIGIN_WHITELIST_$$ : null;
}, $mr$MediaSourceUtils$isTabMirrorSource$$ = function($sourceUrn$jscomp$3$$) {
  return $sourceUrn$jscomp$3$$.startsWith("urn:x-org.chromium.media:source:tab:") || -1 != $sourceUrn$jscomp$3$$.indexOf("0F5096E8");
}, $mr$MediaSourceUtils$isDesktopMirrorSource$$ = function($sourceUrn$jscomp$4$$) {
  return "urn:x-org.chromium.media:source:desktop" == $sourceUrn$jscomp$4$$;
};
var $mr$TabUtils$getTab$$ = function($tabId$jscomp$11$$) {
  return (new Promise(function($resolve$jscomp$14$$) {
    chrome.tabs.get($tabId$jscomp$11$$, $resolve$jscomp$14$$);
  })).then(function($tab$$) {
    if (!$tab$$) {
      throw Error("No such tab " + $tabId$jscomp$11$$);
    }
    return $tab$$;
  });
};
var $mr$Module$$ = function() {
}, $mr$Module$load$$ = function($moduleId$jscomp$1$$) {
  var $module$jscomp$1_resolver$jscomp$1$$ = $mr$Module$moduleById_$$.get($moduleId$jscomp$1$$) || null;
  if ($module$jscomp$1_resolver$jscomp$1$$) {
    return Promise.resolve($module$jscomp$1_resolver$jscomp$1$$);
  }
  $module$jscomp$1_resolver$jscomp$1$$ = $mr$Module$resolverByModuleId_$$.get($moduleId$jscomp$1$$);
  $module$jscomp$1_resolver$jscomp$1$$ || ($module$jscomp$1_resolver$jscomp$1$$ = new $mr$PromiseResolver$$, $mr$Module$resolverByModuleId_$$.set($moduleId$jscomp$1$$, $module$jscomp$1_resolver$jscomp$1$$), $mr$Module$loadBundleForModule_$$($moduleId$jscomp$1$$, $module$jscomp$1_resolver$jscomp$1$$));
  return $module$jscomp$1_resolver$jscomp$1$$.$a$;
}, $mr$Module$loadBundleForModule_$$ = function($moduleId$jscomp$2$$, $resolver$jscomp$2$$) {
  var $bundle$$ = $mr$Module$MODULE_TO_BUNDLE_MAPPING_$$.get($moduleId$jscomp$2$$) || null;
  if (!$bundle$$) {
    $resolver$jscomp$2$$.reject(Error("No corresponding bundle for " + $moduleId$jscomp$2$$));
  } else {
    if (!$mr$Module$DEFAULT_LOAD_BUNDLES_$$.has($bundle$$)) {
      var $bundlePromise$$ = $mr$Module$bundlePromises_$$.get($bundle$$);
      $bundlePromise$$ || ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$Module$logger_$$, "Loading bundle " + $bundle$$ + " for module " + $moduleId$jscomp$2$$), $bundlePromise$$ = $mr$Module$doLoadBundle_$$($bundle$$), $mr$Module$bundlePromises_$$.set($bundle$$, $bundlePromise$$));
      $bundlePromise$$.catch(function($moduleId$jscomp$2$$) {
        $resolver$jscomp$2$$.reject($moduleId$jscomp$2$$);
      });
    }
  }
}, $mr$Module$doLoadBundle_$$ = function($bundle$jscomp$1$$) {
  var $resolver$jscomp$3$$ = new $mr$PromiseResolver$$;
  $resolver$jscomp$3$$.$a$.then(function() {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$Module$logger_$$, "Bundle " + $bundle$jscomp$1$$ + " loaded");
  }, function($resolver$jscomp$3$$) {
    $mr$Module$logger_$$.error("Failed to load bundle " + $bundle$jscomp$1$$);
    throw $resolver$jscomp$3$$;
  });
  var $script$jscomp$8$$ = document.createElement("script");
  $script$jscomp$8$$.src = chrome.extension.getURL($bundle$jscomp$1$$);
  $script$jscomp$8$$.setAttribute("type", "text/javascript");
  $script$jscomp$8$$.async = !0;
  $script$jscomp$8$$.onload = function() {
    return $resolver$jscomp$3$$.resolve(void 0);
  };
  $script$jscomp$8$$.onerror = function() {
    return $resolver$jscomp$3$$.reject(Error("Failed to load bundle " + $bundle$jscomp$1$$));
  };
  document.head.appendChild($script$jscomp$8$$);
  return $resolver$jscomp$3$$.$a$;
}, $mr$Module$onModuleLoaded$$ = function($moduleId$jscomp$4_resolver$jscomp$4$$, $module$jscomp$2$$) {
  if ($mr$Module$moduleById_$$.has($moduleId$jscomp$4_resolver$jscomp$4$$)) {
    throw Error("Duplicate module " + $moduleId$jscomp$4_resolver$jscomp$4$$);
  }
  $mr$Module$moduleById_$$.set($moduleId$jscomp$4_resolver$jscomp$4$$, $module$jscomp$2$$);
  ($moduleId$jscomp$4_resolver$jscomp$4$$ = $mr$Module$resolverByModuleId_$$.get($moduleId$jscomp$4_resolver$jscomp$4$$)) && $moduleId$jscomp$4_resolver$jscomp$4$$.resolve($module$jscomp$2$$);
};
$mr$Module$$.prototype.handleEvent = function($event$jscomp$11$$, $args$jscomp$9$$) {
  for (var $$jscomp$restIndex$$ = 1; $$jscomp$restIndex$$ < arguments.length; ++$$jscomp$restIndex$$) {
  }
  throw Error("Not implemented");
};
var $mr$Module$MODULE_TO_BUNDLE_MAPPING_$$ = new Map([["mr.cast.ChannelService", "background_script.js"], ["mr.cast.SinkDiscoveryService", "background_script.js"], ["mr.mirror.cast.Service", "mirroring_cast_streaming.js"], ["mr.cloud.discovery.CloudSinkDiscoveryService", "background_script.js"], ["mr.dial.SinkDiscoveryService", "background_script.js"], ["mr.mirror.hangouts.HangoutsService", "mirroring_hangouts.js"], ["mr.mirror.hangouts.MeetingsService", "mirroring_hangouts.js"], ["mr.ProviderManager", 
"background_script.js"], ["mr.mirror.webrtc.WebRtcService", "mirroring_webrtc.js"]]), $mr$Module$DEFAULT_LOAD_BUNDLES_$$ = new Set(["background_script.js"]), $mr$Module$logger_$$ = $mr$Logger$getInstance$$("mr.Module"), $mr$Module$moduleById_$$ = new Map, $mr$Module$resolverByModuleId_$$ = new Map, $mr$Module$bundlePromises_$$ = new Map;
var $mr$mirror$Messages$MSG_MR_MIRROR_NO_AUDIO_CAPTURED$$ = chrome.i18n.getMessage("545449835455981095");
var $mr$mirror$Service$$ = function($serviceName$jscomp$2$$, $mirrorServiceCallbacks$$) {
  this.$J$ = $serviceName$jscomp$2$$;
  this.$j$ = $mirrorServiceCallbacks$$ || null;
  this.$b$ = this.$a$ = null;
  this.$logger$ = $mr$Logger$getInstance$$("mr.mirror.Service." + $serviceName$jscomp$2$$);
  this.$B$ = this.$I$.bind(this);
  this.$g$ = !1;
};
$$jscomp$inherits$$($mr$mirror$Service$$, $mr$Module$$);
$mr$mirror$Service$$.prototype.$initialize$ = function($mirrorServiceCallbacks$jscomp$1$$) {
  this.$g$ || (this.$j$ = $mirrorServiceCallbacks$jscomp$1$$, this.$g$ = !0, this.$doInitialize$());
};
$mr$mirror$Service$$.prototype.$doInitialize$ = function() {
};
$mr$mirror$Service$$.prototype.getName = function() {
  return this.$J$;
};
var $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$$ = function($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$, $route$jscomp$1$$, $sourceUrn$jscomp$5$$, $mirrorSettings$jscomp$1$$, $opt_presentationId$jscomp$1$$, $opt_streamStartedCallback$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$logger$, "Start mirroring on route " + $route$jscomp$1$$.id);
  return $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$g$ ? $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_ensureMirroringOfSourceIsAllowed_$$($sourceUrn$jscomp$5$$, $route$jscomp$1$$.$mirrorInitData$.tabId).then(function() {
    return $JSCompiler_StaticMethods_stopCurrentMirroring$$($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$);
  }).then(function() {
    var $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$ = $mr$mirror$Service$createCaptureParameters_$$($sourceUrn$jscomp$5$$, $mirrorSettings$jscomp$1$$, $opt_presentationId$jscomp$1$$);
    return (new $mr$mirror$MirrorMediaStream$$($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$)).start();
  }).then(function($sourceUrn$jscomp$5$$) {
    if ($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$b$) {
      throw $sourceUrn$jscomp$5$$.stop(), new $mr$mirror$Error$$("Cannot start multiple streams");
    }
    $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$b$ = $sourceUrn$jscomp$5$$;
    $sourceUrn$jscomp$5$$ = $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$h$.bind($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$);
    $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$b$.$onStreamEnded_$ = $sourceUrn$jscomp$5$$;
    return $opt_streamStartedCallback$$ ? $opt_streamStartedCallback$$($route$jscomp$1$$).$a$ : $route$jscomp$1$$;
  }).then(function($route$jscomp$1$$) {
    if ($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$a$) {
      throw new $mr$mirror$Error$$("Cannot start multiple sessions");
    }
    if (!$JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$b$) {
      throw new $mr$mirror$Error$$("Media stream ended before session could start.");
    }
    $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$a$ = $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$createMirrorSession$($mirrorSettings$jscomp$1$$, $route$jscomp$1$$);
    return $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$a$.start($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$b$.$a$);
  }).then(function() {
    $mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$jscomp$5$$) && !chrome.tabs.onUpdated.hasListener($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$B$) && chrome.tabs.onUpdated.addListener($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$B$);
    return $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$D$($route$jscomp$1$$, $sourceUrn$jscomp$5$$, $mirrorSettings$jscomp$1$$);
  }).then(null, function($route$jscomp$1$$) {
    $JSCompiler_StaticMethods_onStartError_$$($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$, $route$jscomp$1$$);
    return $JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$self$$.$h$().then(function() {
      throw $route$jscomp$1$$;
    });
  })) : $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Not initialized"));
}, $JSCompiler_StaticMethods_ensureMirroringOfSourceIsAllowed_$$ = function($sourceUrn$jscomp$7$$, $opt_tabId$jscomp$3$$) {
  return $mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$jscomp$7$$) ? $opt_tabId$jscomp$3$$ ? $mr$TabUtils$getTab$$($opt_tabId$jscomp$3$$).then(function($sourceUrn$jscomp$7$$) {
    if (!$sourceUrn$jscomp$7$$.active) {
      throw new $mr$mirror$Error$$("Tab to be mirrored is not active", 7);
    }
  }) : Promise.reject(new $mr$mirror$Error$$("BUG: Tab ID is required.")) : Promise.resolve();
};
$mr$mirror$Service$$.prototype.$H$ = function($route$jscomp$3$$, $sourceUrn$jscomp$8$$, $mirrorSettings$jscomp$3$$, $opt_presentationId$jscomp$3$$, $opt_streamStartedCallback$jscomp$2$$) {
  var $$jscomp$this$jscomp$14$$ = this;
  if (!this.$a$) {
    return Promise.reject(new $mr$mirror$Error$$("No session to update streams on", 7));
  }
  if (!this.$a$.$supportsUpdateStream$()) {
    return Promise.reject(new $mr$mirror$Error$$("Session does not support updating stream", 7));
  }
  var $streamSwapped$$ = !1;
  return Promise.resolve().then(function() {
    var $route$jscomp$3$$ = $mr$mirror$Service$createCaptureParameters_$$($sourceUrn$jscomp$8$$, $mirrorSettings$jscomp$3$$, $opt_presentationId$jscomp$3$$);
    return (new $mr$mirror$MirrorMediaStream$$($route$jscomp$3$$)).start();
  }).then(function($sourceUrn$jscomp$8$$) {
    $$jscomp$this$jscomp$14$$.$b$ && ($$jscomp$this$jscomp$14$$.$b$.$onStreamEnded_$ = null, $$jscomp$this$jscomp$14$$.$b$.stop(), $$jscomp$this$jscomp$14$$.$recordStreamEnded$());
    $$jscomp$this$jscomp$14$$.$b$ = $sourceUrn$jscomp$8$$;
    $sourceUrn$jscomp$8$$ = $$jscomp$this$jscomp$14$$.$h$.bind($$jscomp$this$jscomp$14$$);
    $$jscomp$this$jscomp$14$$.$b$.$onStreamEnded_$ = $sourceUrn$jscomp$8$$;
    $streamSwapped$$ = !0;
    return $opt_streamStartedCallback$jscomp$2$$ ? $opt_streamStartedCallback$jscomp$2$$($route$jscomp$3$$).$a$ : $route$jscomp$3$$;
  }).then(function() {
    if (!$$jscomp$this$jscomp$14$$.$a$) {
      throw new $mr$mirror$Error$$("Session ended while updating stream");
    }
    if (!$$jscomp$this$jscomp$14$$.$b$) {
      throw new $mr$mirror$Error$$("Media stream ended before session could be updated.");
    }
    $$jscomp$this$jscomp$14$$.$a$.$mr_mirror_Session_prototype$onRouteUpdated$();
    return $$jscomp$this$jscomp$14$$.$a$.$updateStream$($$jscomp$this$jscomp$14$$.$b$.$a$);
  }).then(this.$D$.bind(this, $route$jscomp$3$$, $sourceUrn$jscomp$8$$, $mirrorSettings$jscomp$3$$)).then(null, function($route$jscomp$3$$) {
    $JSCompiler_StaticMethods_onStartError_$$($$jscomp$this$jscomp$14$$, $route$jscomp$3$$);
    if ($streamSwapped$$) {
      return $$jscomp$this$jscomp$14$$.$h$().then(function() {
        throw $route$jscomp$3$$;
      });
    }
    throw $route$jscomp$3$$;
  });
};
$mr$mirror$Service$$.prototype.$D$ = function($route$jscomp$4$$, $sourceUrn$jscomp$9$$, $mirrorSettings$jscomp$4$$) {
  var $$jscomp$this$jscomp$15$$ = this;
  return new Promise(function($resolve$jscomp$15$$, $reject$jscomp$15$$) {
    if ($$jscomp$this$jscomp$15$$.$a$) {
      if ($mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$jscomp$9$$)) {
        $JSCompiler_StaticMethods_updateTabInfoWithTabId$$($$jscomp$this$jscomp$15$$.$a$, $route$jscomp$4$$.$mirrorInitData$.tabId).then(function() {
          $JSCompiler_StaticMethods_sendMetadataToSink$$($$jscomp$this$jscomp$15$$.$a$);
          $$jscomp$this$jscomp$15$$.$recordTabMirrorStartSuccess$();
          $resolve$jscomp$15$$($$jscomp$this$jscomp$15$$.$a$.$getRoute$());
        }, function($route$jscomp$4$$) {
          $$jscomp$this$jscomp$15$$.$logger$.error("Failed to obtain initial tab info.", $route$jscomp$4$$);
          $reject$jscomp$15$$($route$jscomp$4$$);
        });
      } else {
        if ($mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$9$$)) {
          var $metadata$$ = "Capturing " + $route$jscomp$4$$.mediaSource;
          $JSCompiler_StaticMethods_setMetadata$$($$jscomp$this$jscomp$15$$.$a$, $metadata$$, $metadata$$, null);
          $JSCompiler_StaticMethods_sendMetadataToSink$$($$jscomp$this$jscomp$15$$.$a$);
          $$jscomp$this$jscomp$15$$.$recordOffscreenTabMirrorStartSuccess$();
        } else {
          $JSCompiler_StaticMethods_setMetadata$$($$jscomp$this$jscomp$15$$.$a$, "Capturing Desktop", "Capturing Desktop", null), $JSCompiler_StaticMethods_sendMetadataToSink$$($$jscomp$this$jscomp$15$$.$a$), $$jscomp$this$jscomp$15$$.$recordDesktopMirrorStartSuccess$();
        }
        $JSCompiler_StaticMethods_checkCaptureIssues_$$($$jscomp$this$jscomp$15$$, $mirrorSettings$jscomp$4$$, $$jscomp$this$jscomp$15$$.$b$);
        $resolve$jscomp$15$$($$jscomp$this$jscomp$15$$.$a$.$getRoute$());
      }
    } else {
      $reject$jscomp$15$$(new $mr$mirror$Error$$("Session gone before executing post-startup steps", 7));
    }
  });
};
var $JSCompiler_StaticMethods_onStartError_$$ = function($JSCompiler_StaticMethods_onStartError_$self$$, $error$jscomp$7$$) {
  $error$jscomp$7$$.reason = null != $error$jscomp$7$$.reason ? $error$jscomp$7$$.reason : 9;
  $JSCompiler_StaticMethods_onStartError_$self$$.$logger$.error("Failed to start mirroring: " + $error$jscomp$7$$.message + (",  reason = " + $error$jscomp$7$$.reason + ": " + $error$jscomp$7$$.stack));
  $JSCompiler_StaticMethods_onStartError_$self$$.$recordMirrorStartFailure$($error$jscomp$7$$.reason);
}, $JSCompiler_StaticMethods_stopCurrentMirroring$$ = function($JSCompiler_StaticMethods_stopCurrentMirroring$self$$) {
  return $JSCompiler_StaticMethods_stopCurrentMirroring$self$$.$g$ ? $JSCompiler_StaticMethods_stopCurrentMirroring$self$$.$h$().then(function($hadSession$$) {
    $hadSession$$ && $JSCompiler_StaticMethods_stopCurrentMirroring$self$$.$recordMirrorSessionEnded$();
    return $hadSession$$;
  }) : Promise.reject("Not initialized");
};
$mr$mirror$Service$$.prototype.$h$ = function() {
  var $$jscomp$this$jscomp$17$$ = this;
  chrome.tabs.onUpdated.removeListener(this.$B$);
  var $streamToCleanUp$$ = this.$b$;
  this.$b$ = null;
  $streamToCleanUp$$ && ($streamToCleanUp$$.$onStreamEnded_$ = null);
  var $sessionToCleanUp$$ = this.$a$;
  this.$a$ = null;
  var $cleanupPromise$$;
  $sessionToCleanUp$$ ? $cleanupPromise$$ = this.$beforeCleanUpSession$($sessionToCleanUp$$).catch(function($streamToCleanUp$$) {
    return $$jscomp$this$jscomp$17$$.$logger$.error("Error in before-cleanup steps", $streamToCleanUp$$);
  }).then(function() {
    return $sessionToCleanUp$$.stop();
  }).catch(function($streamToCleanUp$$) {
    return $$jscomp$this$jscomp$17$$.$logger$.error("Error stopping session", $streamToCleanUp$$);
  }).then(function() {
    $$jscomp$this$jscomp$17$$.$j$.$onMirrorSessionEnded$($sessionToCleanUp$$.$getRoute$().id);
  }).catch(function($streamToCleanUp$$) {
    return $$jscomp$this$jscomp$17$$.$logger$.error("Error in ended callbacks", $streamToCleanUp$$);
  }).then(function() {
    return !0;
  }) : $cleanupPromise$$ = Promise.resolve(!1);
  $streamToCleanUp$$ && ($cleanupPromise$$ = $cleanupPromise$$.then(function($sessionToCleanUp$$) {
    $streamToCleanUp$$.stop();
    $$jscomp$this$jscomp$17$$.$recordStreamEnded$();
    return $sessionToCleanUp$$;
  }));
  return $cleanupPromise$$;
};
$mr$mirror$Service$$.prototype.$beforeCleanUpSession$ = function() {
  return Promise.resolve();
};
$mr$mirror$Service$$.prototype.$I$ = function($tabId$jscomp$12$$, $changeInfo$$, $tab$jscomp$2$$) {
  $mr$EventAnalytics$recordEvent$$(14);
  this.$a$ && this.$a$.tabId && this.$a$.tabId == $tabId$jscomp$12$$ && ("complete" == $changeInfo$$.status || $changeInfo$$.favIconUrl && "complete" == $tab$jscomp$2$$.status) && (this.$a$.$updateTabInfo$($tab$jscomp$2$$), this.$j$.$onMirrorContentTitleUpdated$(this.$a$.$getRoute$()), $JSCompiler_StaticMethods_sendMetadataToSink$$(this.$a$));
};
var $mr$mirror$Service$createCaptureParameters_$$ = function($sourceUrn$jscomp$10$$, $mirrorSettings$jscomp$5$$, $opt_presentationId$jscomp$4$$) {
  if ($mr$MediaSourceUtils$isTabMirrorSource$$($sourceUrn$jscomp$10$$)) {
    return new $mr$mirror$CaptureParameters$$("tab", $mirrorSettings$jscomp$5$$);
  }
  if ($mr$MediaSourceUtils$isDesktopMirrorSource$$($sourceUrn$jscomp$10$$)) {
    return new $mr$mirror$CaptureParameters$$("desktop", $mirrorSettings$jscomp$5$$);
  }
  if ($mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$10$$)) {
    if (!$opt_presentationId$jscomp$4$$) {
      throw new $mr$mirror$Error$$("Missing offscreen tab presentation id");
    }
    return new $mr$mirror$CaptureParameters$$("offscreen_tab", $mirrorSettings$jscomp$5$$, $sourceUrn$jscomp$10$$, $opt_presentationId$jscomp$4$$);
  }
  throw new $mr$mirror$Error$$("Source URN does not suggest a known capture type.");
}, $JSCompiler_StaticMethods_checkCaptureIssues_$$ = function($JSCompiler_StaticMethods_checkCaptureIssues_$self$$, $settings$$, $mediaStream$jscomp$1$$) {
  $settings$$.shouldCaptureAudio && $mediaStream$jscomp$1$$.$a$ && !$mediaStream$jscomp$1$$.$a$.getAudioTracks().length && $JSCompiler_StaticMethods_checkCaptureIssues_$self$$.$j$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$getIssueSender$().send(new $mr$Issue$$($mr$mirror$Messages$MSG_MR_MIRROR_NO_AUDIO_CAPTURED$$, "notification"));
};
$JSCompiler_prototypeAlias$$ = $mr$mirror$Service$$.prototype;
$JSCompiler_prototypeAlias$$.$createMirrorSession$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordTabMirrorStartSuccess$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordDesktopMirrorStartSuccess$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordOffscreenTabMirrorStartSuccess$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordMirrorSessionEnded$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordMirrorStartFailure$ = function() {
};
$JSCompiler_prototypeAlias$$.$recordStreamEnded$ = function() {
};
$JSCompiler_prototypeAlias$$.$mr_mirror_Service_prototype$requestLogUpload$ = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
var $mr$mirror$Session$$ = function($route$jscomp$6$$) {
  this.$g$ = $route$jscomp$6$$;
  this.$B$ = !1;
  this.tabId = this.$F$ = this.iconUrl = null;
}, $JSCompiler_StaticMethods_setMetadata$$ = function($JSCompiler_StaticMethods_setMetadata$self$$, $localTitle$$, $remoteTitle$$, $iconUrl$jscomp$1$$) {
  $JSCompiler_StaticMethods_setMetadata$self$$.$g$.description = $localTitle$$;
  $JSCompiler_StaticMethods_setMetadata$self$$.$B$ || $JSCompiler_StaticMethods_setMetadata$self$$.$g$.offTheRecord ? ($JSCompiler_StaticMethods_setMetadata$self$$.$F$ = null, $JSCompiler_StaticMethods_setMetadata$self$$.iconUrl = null) : ($JSCompiler_StaticMethods_setMetadata$self$$.$F$ = $remoteTitle$$, $JSCompiler_StaticMethods_setMetadata$self$$.iconUrl = $iconUrl$jscomp$1$$);
  $JSCompiler_StaticMethods_setMetadata$self$$.$mr_mirror_Session_prototype$onRouteUpdated$();
}, $JSCompiler_StaticMethods_sendMetadataToSink$$ = function($JSCompiler_StaticMethods_sendMetadataToSink$self$$) {
  $JSCompiler_StaticMethods_sendMetadataToSink$self$$.$B$ || $JSCompiler_StaticMethods_sendMetadataToSink$self$$.$g$.offTheRecord || $JSCompiler_StaticMethods_sendMetadataToSink$self$$.$sendMetadataToSinkInternal$();
}, $JSCompiler_StaticMethods_updateTabInfoWithTabId$$ = function($JSCompiler_StaticMethods_updateTabInfoWithTabId$self$$, $tabId$jscomp$13$$) {
  $JSCompiler_StaticMethods_updateTabInfoWithTabId$self$$.tabId = $tabId$jscomp$13$$;
  return $mr$TabUtils$getTab$$($tabId$jscomp$13$$).then($JSCompiler_StaticMethods_updateTabInfoWithTabId$self$$.$updateTabInfo$.bind($JSCompiler_StaticMethods_updateTabInfoWithTabId$self$$));
};
$JSCompiler_prototypeAlias$$ = $mr$mirror$Session$$.prototype;
$JSCompiler_prototypeAlias$$.$updateTabInfo$ = function($tab$jscomp$4$$) {
  this.$B$ = $tab$jscomp$4$$.incognito;
  var $url$jscomp$61$$ = new URL($tab$jscomp$4$$.url);
  $JSCompiler_StaticMethods_setMetadata$$(this, $tab$jscomp$4$$.title, "file:" == $url$jscomp$61$$.protocol ? "Local content (Tab)" : $url$jscomp$61$$.hostname + " (Tab)", $tab$jscomp$4$$.favIconUrl);
};
$JSCompiler_prototypeAlias$$.$getRoute$ = function() {
  return this.$g$;
};
$JSCompiler_prototypeAlias$$.start = function() {
};
$JSCompiler_prototypeAlias$$.$supportsUpdateStream$ = function() {
  return !1;
};
$JSCompiler_prototypeAlias$$.$updateStream$ = function() {
};
$JSCompiler_prototypeAlias$$.stop = function() {
  return Promise.resolve();
};
$JSCompiler_prototypeAlias$$.$sendMetadataToSinkInternal$ = function() {
};
$JSCompiler_prototypeAlias$$.$mr_mirror_Session_prototype$onRouteUpdated$ = function() {
};
var $mr$mirror$Settings$$ = function() {
  var $$jscomp$this$jscomp$18$$ = this;
  this.maxWidth = 1920;
  this.maxHeight = 1080;
  this.minHeight = this.minWidth = 180;
  this.senderSideLetterboxing = !1;
  this.maxFrameRate = 30;
  this.minVideoBitrate = 300;
  this.maxVideoBitrate = 5000;
  this.audioBitrate = 0;
  this.maxLatencyMillis = 800;
  this.animatedLatencyMillis = this.minLatencyMillis = 400;
  this.dscpEnabled = ["Mac", "Linux", "ChromeOS"].includes($mr$PlatformUtils$getCurrentOS$$()) || $mr$PlatformUtils$isWindows8OrNewer$$();
  this.enableLogging = !0;
  this.useTdls = !1;
  this.shouldCaptureAudio = this.shouldCaptureVideo = !0;
  var $overrides$jscomp$1$$ = window.localStorage ? window.localStorage.getItem($mr$mirror$Settings$OverridesKey$$) : null;
  if ($overrides$jscomp$1$$) {
    try {
      var $parsedOverrides$$ = JSON.parse(String($overrides$jscomp$1$$));
      if ($parsedOverrides$$ instanceof Object) {
        $JSCompiler_StaticMethods_update_$$(this, $parsedOverrides$$), $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$Logger$getInstance$$("mr.mirror.Settings"), function() {
          return "Initial mr.mirror.Settings overridden to: " + $JSCompiler_StaticMethods_toJsonString$$($$jscomp$this$jscomp$18$$);
        });
      } else {
        throw Error("localStorage[" + $mr$mirror$Settings$OverridesKey$$ + "] " + ("does not parse as an Object: " + $overrides$jscomp$1$$));
      }
    } catch ($exception$jscomp$6$$) {
      throw $mr$Logger$getInstance$$("mr.mirror.Settings").error($mr$mirror$Settings$OverridesKey$$ + ' must be of the form \'{"maxWidth":640, "maxHeight":360}\'.', $exception$jscomp$6$$), Error("Overrides not parseable.  See ERROR log for details.");
    }
  }
};
$mr$mirror$Settings$$.prototype.clone = function() {
  var $settings$jscomp$1$$ = new $mr$mirror$Settings$$;
  $JSCompiler_StaticMethods_update_$$($settings$jscomp$1$$, this);
  return $settings$jscomp$1$$;
};
var $JSCompiler_StaticMethods_toJsonString$$ = function($JSCompiler_StaticMethods_toJsonString$self$$) {
  return JSON.stringify($JSCompiler_StaticMethods_toJsonString$self$$, function($JSCompiler_StaticMethods_toJsonString$self$$, $value$jscomp$133$$) {
    if (0 == $JSCompiler_StaticMethods_toJsonString$self$$.length || !$JSCompiler_StaticMethods_toJsonString$self$$.endsWith("_")) {
      return $value$jscomp$133$$;
    }
  });
}, $JSCompiler_StaticMethods_update_$$ = function($JSCompiler_StaticMethods_update_$self$$, $settings$jscomp$2$$) {
  for (var $$jscomp$iter$0$$ = $$jscomp$makeIterator$$(Object.keys($settings$jscomp$2$$)), $$jscomp$key$key_key$jscomp$77$$ = $$jscomp$iter$0$$.next(); !$$jscomp$key$key_key$jscomp$77$$.done; $$jscomp$key$key_key$jscomp$77$$ = $$jscomp$iter$0$$.next()) {
    $$jscomp$key$key_key$jscomp$77$$ = $$jscomp$key$key_key$jscomp$77$$.value, $$jscomp$key$key_key$jscomp$77$$.endsWith("_") || typeof $settings$jscomp$2$$[$$jscomp$key$key_key$jscomp$77$$] !== typeof $JSCompiler_StaticMethods_update_$self$$[$$jscomp$key$key_key$jscomp$77$$] || ($JSCompiler_StaticMethods_update_$self$$[$$jscomp$key$key_key$jscomp$77$$] = $settings$jscomp$2$$[$$jscomp$key$key_key$jscomp$77$$]);
  }
}, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$$ = function($JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$) {
  var $clampedWidth_screenWidth$$ = screen.width, $clampedHeight_screenHeight$$ = screen.height;
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxHeight * $clampedWidth_screenWidth$$ < $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxWidth * $clampedHeight_screenHeight$$ ? ($clampedWidth_screenWidth$$ = Math.min($JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxWidth, $clampedWidth_screenWidth$$), $clampedWidth_screenWidth$$ -= $clampedWidth_screenWidth$$ % 160, $clampedHeight_screenHeight$$ = 90 * $clampedWidth_screenWidth$$ / 160) : 
  ($clampedHeight_screenHeight$$ = Math.min($JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxHeight, $clampedHeight_screenHeight$$), $clampedHeight_screenHeight$$ -= $clampedHeight_screenHeight$$ % 90, $clampedWidth_screenWidth$$ = 160 * $clampedHeight_screenHeight$$ / 90);
  if ($clampedWidth_screenWidth$$ < Math.max(160, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.minWidth) || $clampedHeight_screenHeight$$ < Math.max(90, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.minHeight)) {
    $clampedWidth_screenWidth$$ = Math.max(160, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.minWidth), $clampedHeight_screenHeight$$ = Math.max(90, $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.minHeight);
  }
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxWidth = $clampedWidth_screenWidth$$;
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$self$$.maxHeight = $clampedHeight_screenHeight$$;
}, $mr$mirror$Settings$OverridesKey$$ = "mr.mirror.Settings.Overrides";
var $mr$webrtc$Message$$ = function($type$jscomp$127$$, $opt_data$jscomp$14$$) {
  this.type = $type$jscomp$127$$;
  this.data = $opt_data$jscomp$14$$;
}, $mr$webrtc$Message$fromString$$ = function($messageJson_messageStr$$) {
  $messageJson_messageStr$$ = JSON.parse($messageJson_messageStr$$);
  if (!$messageJson_messageStr$$.type) {
    throw Error("Invalid message");
  }
  return new $mr$webrtc$Message$$($messageJson_messageStr$$.type, $messageJson_messageStr$$.data);
}, $mr$webrtc$OfferMessageData$$ = function($description$jscomp$8$$, $opt_settings$$, $opt_mediaConstraints$$, $opt_presentationUrl$$) {
  this.description = $description$jscomp$8$$;
  this.settings = $opt_settings$$ || null;
  this.mediaConstraints = $opt_mediaConstraints$$ || null;
  this.presentationUrl = $opt_presentationUrl$$ || null;
};
var $mr$webrtc$PeerConnection$$ = function($routeId$jscomp$3$$, $turnCreds$$) {
  $mr$Assertions$assert$$(void 0 !== webkitRTCPeerConnection, "webkitRTCPeerConnection is not available.  Do you need to set flags?");
  this.$logger_$ = $mr$Logger$getInstance$$("cv2.PeerConnection");
  this.$I$ = $mr$webrtc$PeerConnection$MEDIA_CONSTRAINTS$$;
  this.$a$ = $JSCompiler_StaticMethods_createPeerConnection_$$(this, $turnCreds$$);
  this.$h$ = this.$a$.createDataChannel($routeId$jscomp$3$$, {reliable:!1});
  this.$F$ = new $mr$PromiseResolver$$;
  this.$o$ = !1;
  this.$g$ = 0;
  this.$f$ = null;
  this.$w$ = this.$j$ = 0;
  this.$b$ = !1;
  this.$D$ = function() {
  };
  this.$l$ = function() {
  };
  this.$B$ = function() {
  };
  this.$A$ = function() {
  };
}, $JSCompiler_StaticMethods_setOnConnectionSuccess$$ = function($JSCompiler_StaticMethods_setOnConnectionSuccess$self$$, $successFn$$) {
  $JSCompiler_StaticMethods_setOnConnectionSuccess$self$$.$l$ = $successFn$$;
}, $JSCompiler_StaticMethods_setOnConnectionFailure$$ = function($JSCompiler_StaticMethods_setOnConnectionFailure$self$$, $failureFn$$) {
  $JSCompiler_StaticMethods_setOnConnectionFailure$self$$.$B$ = $failureFn$$;
}, $JSCompiler_StaticMethods_setOnConnectionClosed$$ = function($JSCompiler_StaticMethods_setOnConnectionClosed$self$$, $closedFn$$) {
  $JSCompiler_StaticMethods_setOnConnectionClosed$self$$.$A$ = $closedFn$$;
}, $JSCompiler_StaticMethods_setOnOfferDescriptionReady$$ = function($JSCompiler_StaticMethods_setOnOfferDescriptionReady$self$$, $onOfferFn$$) {
  $JSCompiler_StaticMethods_setOnOfferDescriptionReady$self$$.$D$ = $onOfferFn$$;
}, $JSCompiler_StaticMethods_setOnDataChannelMessage$$ = function($JSCompiler_StaticMethods_setOnDataChannelMessage$self$$, $onMessageFn$$) {
  $JSCompiler_StaticMethods_setOnDataChannelMessage$self$$.$h$.onmessage = function($JSCompiler_StaticMethods_setOnDataChannelMessage$self$$) {
    $onMessageFn$$($JSCompiler_StaticMethods_setOnDataChannelMessage$self$$.data);
  };
}, $JSCompiler_StaticMethods_getPeerConnectionConfig_$$ = function($turnCreds$jscomp$1$$) {
  var $config$jscomp$8$$ = {};
  $config$jscomp$8$$.iceServers = [{url:"stun:stun.l.google.com:19302"}].concat($turnCreds$jscomp$1$$);
  return $config$jscomp$8$$;
}, $JSCompiler_StaticMethods_createPeerConnection_$$ = function($JSCompiler_StaticMethods_createPeerConnection_$self$$, $peerConnection_turnCreds$jscomp$2$$) {
  var $config$jscomp$9$$ = $JSCompiler_StaticMethods_getPeerConnectionConfig_$$($peerConnection_turnCreds$jscomp$2$$);
  $peerConnection_turnCreds$jscomp$2$$ = new webkitRTCPeerConnection($config$jscomp$9$$);
  $peerConnection_turnCreds$jscomp$2$$.onicecandidate = $JSCompiler_StaticMethods_createPeerConnection_$self$$.$J$.bind($JSCompiler_StaticMethods_createPeerConnection_$self$$);
  $peerConnection_turnCreds$jscomp$2$$.$a$ = $JSCompiler_StaticMethods_createPeerConnection_$self$$.$L$.bind($JSCompiler_StaticMethods_createPeerConnection_$self$$);
  $peerConnection_turnCreds$jscomp$2$$.oniceconnectionstatechange = $JSCompiler_StaticMethods_createPeerConnection_$self$$.$K$.bind($JSCompiler_StaticMethods_createPeerConnection_$self$$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_createPeerConnection_$self$$.$logger_$, function() {
    return "Created webkitRTCPeerConnnection with config: " + JSON.stringify($config$jscomp$9$$);
  });
  return $peerConnection_turnCreds$jscomp$2$$;
};
$mr$webrtc$PeerConnection$$.prototype.start = function() {
  this.$b$ || (this.$b$ = !0, $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$$(this));
};
$mr$webrtc$PeerConnection$$.prototype.stop = function() {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Stopping peer connection...");
  this.$b$ && (this.$b$ = !1, "closed" != this.$a$.signalingState && this.$a$.close());
  this.$a$ = null;
};
var $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$$ = function($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$logger_$, "Sending offer to peer.");
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$j$ = Date.now();
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$a$.createOffer($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$H$.bind($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$), function($error$jscomp$8$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$logger_$, "Error creating offer.", $error$jscomp$8$$);
  }, $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$I$);
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$F$.$a$.then(function($sessionDescription$$) {
    $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$createOffer_$self$$.$D$($sessionDescription$$);
  });
};
$mr$webrtc$PeerConnection$$.prototype.$H$ = function($sessionDescription$jscomp$1$$) {
  var $$jscomp$this$jscomp$20$$ = this;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, function() {
    return "Setting local description: " + JSON.stringify($sessionDescription$jscomp$1$$);
  });
  this.$a$.setLocalDescription($sessionDescription$jscomp$1$$, function() {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($$jscomp$this$jscomp$20$$.$logger_$, "Local description set successfully");
  }, function($sessionDescription$jscomp$1$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($$jscomp$this$jscomp$20$$.$logger_$, "Error setting local description.", $sessionDescription$jscomp$1$$);
  });
};
var $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$$ = function($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$, $sessionDescription$jscomp$2$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$logger_$, function() {
    return "<===: " + JSON.stringify($sessionDescription$jscomp$2$$);
  });
  var $description$jscomp$10$$ = new RTCSessionDescription($sessionDescription$jscomp$2$$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$logger_$, function() {
    return "Setting remote description: " + JSON.stringify($description$jscomp$10$$);
  });
  $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$a$.setRemoteDescription($description$jscomp$10$$, function() {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$logger_$, "Remote description set successfully.");
  }, function($sessionDescription$jscomp$2$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$self$$.$logger_$, "Error setting remote description.", $sessionDescription$jscomp$2$$);
  });
};
$mr$webrtc$PeerConnection$$.prototype.$J$ = function($event$jscomp$13$$) {
  var $$jscomp$this$jscomp$22$$ = this;
  $event$jscomp$13$$.candidate ? (this.$g$++, this.$w$ = Date.now(), 1 == this.$g$ ? ($mr$Assertions$assert$$(null == this.$f$), this.$f$ = setTimeout(function() {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($$jscomp$this$jscomp$22$$.$logger_$, "ICE candidate gathering timed out.");
    $$jscomp$this$jscomp$22$$.$f$ = null;
    $JSCompiler_StaticMethods_resolveSessionDescription_$$($$jscomp$this$jscomp$22$$);
  }, 5E3)) : this.$o$ && $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, "Received ICE candidate after resolving session description.")) : ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "End of ICE candidates."), $mr$Timing$recordDuration$$("MediaRouter.WebRtc.IceCandidateGathering.Duration.Reported", Date.now() - this.$j$), $JSCompiler_StaticMethods_resolveSessionDescription_$$(this), 0 < this.$g$ && $mr$Timing$recordDuration$$("MediaRouter.WebRtc.IceCandidateGathering.Duration.Real", 
  this.$w$ - this.$j$));
};
$mr$webrtc$PeerConnection$$.prototype.$L$ = function() {
  "completed" == this.$a$.iceGatheringState && $JSCompiler_StaticMethods_resolveSessionDescription_$$(this);
};
var $JSCompiler_StaticMethods_resolveSessionDescription_$$ = function($JSCompiler_StaticMethods_resolveSessionDescription_$self$$) {
  clearTimeout($JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$f$);
  $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$f$ = null;
  if (!$JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$o$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$logger_$, "Resolving sesion description after gathering " + $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$g$ + " ICE candidates.");
    var $description$jscomp$inline_511$$ = $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$a$.localDescription;
    $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$F$.resolve({type:$description$jscomp$inline_511$$.type, sdp:$description$jscomp$inline_511$$.sdp});
    $JSCompiler_StaticMethods_resolveSessionDescription_$self$$.$o$ = !0;
  }
};
$mr$webrtc$PeerConnection$$.prototype.$K$ = function($event$jscomp$14$$) {
  var $$jscomp$this$jscomp$23$$ = this;
  if (this.$a$) {
    var $state$jscomp$3$$ = this.$a$.iceConnectionState;
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "New ICE connection state: " + $state$jscomp$3$$ + ".");
    "connected" == $state$jscomp$3$$ ? this.$l$("iceconnected") : "completed" == $state$jscomp$3$$ ? this.$l$("icecompleted") : "failed" == $state$jscomp$3$$ ? ($JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, function() {
      return "Ice connection failed: " + JSON.stringify($event$jscomp$14$$);
    }), this.$B$("icefailed")) : "closed" == $state$jscomp$3$$ ? this.$A$("iceclosed") : "disconnected" == $state$jscomp$3$$ && ($JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, "Ice connection state is bad."), this.$b$ && ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Restarting ICE."), this.$a$.createOffer(this.$H$.bind(this), function($event$jscomp$14$$) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($$jscomp$this$jscomp$23$$.$logger_$, "Error creating new offer.", $event$jscomp$14$$);
    }, $mr$webrtc$PeerConnection$ICE_RESTART_MEDIA_CONSTRAINTS$$)));
  }
};
var $mr$webrtc$PeerConnection$MEDIA_CONSTRAINTS$$ = {mandatory:{OfferToReceiveAudio:!0, OfferToReceiveVideo:!0}}, $mr$webrtc$PeerConnection$ICE_RESTART_MEDIA_CONSTRAINTS$$ = {mandatory:{IceRestart:!0, OfferToReceiveAudio:!0, OfferToReceiveVideo:!0}};
var $mr$PersistentData$storageObj_$$ = window.localStorage, $mr$PersistentDataManager$charsUsed_$$ = 0, $mr$PersistentDataManager$getTemporaryData$$ = function($data$jscomp$49_obj$jscomp$75$$) {
  return ($data$jscomp$49_obj$jscomp$75$$ = window.localStorage.getItem($mr$PersistentDataManager$getStorageKey_$$($data$jscomp$49_obj$jscomp$75$$, !1))) ? JSON.parse($data$jscomp$49_obj$jscomp$75$$) : null;
}, $mr$PersistentDataManager$getPersistentData$$ = function($data$jscomp$50_obj$jscomp$76$$) {
  return ($data$jscomp$50_obj$jscomp$76$$ = window.localStorage.getItem($mr$PersistentDataManager$getStorageKey_$$($data$jscomp$50_obj$jscomp$76$$, !0))) ? JSON.parse($data$jscomp$50_obj$jscomp$76$$) : null;
}, $mr$PersistentDataManager$register$$ = function($obj$jscomp$77$$) {
  if ($mr$PersistentDataManager$dataInstances_$$.has($obj$jscomp$77$$.$getStorageKey$())) {
    throw Error("Duplicate instance name " + $obj$jscomp$77$$.$getStorageKey$());
  }
  $mr$PersistentDataManager$dataInstances_$$.set($obj$jscomp$77$$.$getStorageKey$(), $obj$jscomp$77$$);
  $obj$jscomp$77$$.$loadSavedData$();
}, $mr$PersistentDataManager$mrInstanceId_$$ = null, $mr$PersistentDataManager$logger_$$ = $mr$Logger$getInstance$$("mr.PersistentDataManager"), $mr$PersistentDataManager$dataInstances_$$ = new Map, $mr$PersistentDataManager$getStorageKey_$$ = function($obj$jscomp$79$$, $persistent$$) {
  return "mr." + ($persistent$$ ? "persistent." : "temp.") + $obj$jscomp$79$$.$getStorageKey$();
}, $mr$PersistentDataManager$isChromeReloaded$$ = function($mrInstanceId$jscomp$1$$) {
  return !!window.localStorage.getItem("mrInstanceId") && window.localStorage.getItem("mrInstanceId") !== $mrInstanceId$jscomp$1$$;
}, $mr$PersistentDataManager$onSuspend_$$ = function() {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$PersistentDataManager$logger_$$, "onSuspend");
  $mr$PersistentDataManager$write$$("version", chrome.runtime.getManifest().version);
  $mr$PersistentDataManager$mrInstanceId_$$ && $mr$PersistentDataManager$write$$("mrInstanceId", $mr$PersistentDataManager$mrInstanceId_$$);
  $mr$PersistentDataManager$dataInstances_$$.forEach($mr$PersistentDataManager$saveData$$);
}, $mr$PersistentDataManager$saveData$$ = function($obj$jscomp$80$$) {
  var $data$jscomp$51$$ = $obj$jscomp$80$$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$();
  $data$jscomp$51$$ && void 0 != $data$jscomp$51$$[0] && $mr$PersistentDataManager$write$$($mr$PersistentDataManager$getStorageKey_$$($obj$jscomp$80$$, !1), JSON.stringify($data$jscomp$51$$[0]));
  $data$jscomp$51$$ && void 0 != $data$jscomp$51$$[1] && $mr$PersistentDataManager$write$$($mr$PersistentDataManager$getStorageKey_$$($obj$jscomp$80$$, !0), JSON.stringify($data$jscomp$51$$[1]));
}, $mr$PersistentDataManager$write$$ = function($key$jscomp$79$$, $value$jscomp$136$$) {
  var $currentValue_sizeDelta$$ = window.localStorage.getItem($key$jscomp$79$$);
  $currentValue_sizeDelta$$ = null != $currentValue_sizeDelta$$ ? $value$jscomp$136$$.length - $currentValue_sizeDelta$$.length : $key$jscomp$79$$.length + $value$jscomp$136$$.length;
  5200000 < $mr$PersistentDataManager$charsUsed_$$ + $currentValue_sizeDelta$$ && ($JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$PersistentDataManager$logger_$$, "Unable to write " + $currentValue_sizeDelta$$ + " chars"), $mr$PersistentDataManager$removeTemporary_$$());
  if (5200000 < $mr$PersistentDataManager$charsUsed_$$ + $currentValue_sizeDelta$$) {
    throw $mr$PersistentDataManager$logger_$$.error("Unable to write " + $currentValue_sizeDelta$$ + " chars after clearing temporary"), Error("Setting the value of '" + $key$jscomp$79$$ + "' would exceed the quota, according to accounting.");
  }
  try {
    window.localStorage.setItem($key$jscomp$79$$, $value$jscomp$136$$);
  } catch ($error$jscomp$12$$) {
    throw Error("Setting the value of '" + $key$jscomp$79$$ + "' would exceed the quota, according to the browser.");
  }
  $mr$PersistentDataManager$charsUsed_$$ += $currentValue_sizeDelta$$;
}, $mr$PersistentDataManager$writeBlob$$ = function($value$jscomp$137$$) {
  $value$jscomp$137$$ = 0 == $value$jscomp$137$$.size % 2 ? new Blob([$value$jscomp$137$$, new Uint8Array([0, 0])]) : new Blob([$value$jscomp$137$$, new Uint8Array([1])]);
  return new Promise(function($resolve$jscomp$16$$, $reject$jscomp$16$$) {
    var $reader$$ = new FileReader;
    $reader$$.onloadend = function() {
      if ($reader$$.error) {
        $reject$jscomp$16$$($reader$$.error);
      } else {
        try {
          for (var $value$jscomp$137$$ = $reader$$.result, $pieces$$ = [], $pos$$ = 0, $end$jscomp$5$$ = $value$jscomp$137$$.byteLength; $pos$$ < $end$jscomp$5$$; $pos$$ += 8192) {
            $pieces$$.push(String.fromCharCode.apply(null, new Uint16Array($value$jscomp$137$$, $pos$$, Math.min($end$jscomp$5$$ - $pos$$, 8192) / 2)));
          }
          $mr$PersistentDataManager$write$$("mr.temp.mirror.cast.Service.eventsBlob", $pieces$$.join(""));
          $resolve$jscomp$16$$();
        } catch ($error$jscomp$13$$) {
          $reject$jscomp$16$$($error$jscomp$13$$);
        }
      }
    };
    $reader$$.readAsArrayBuffer($value$jscomp$137$$);
  });
}, $mr$PersistentDataManager$removeTemporary_$$ = function() {
  for (var $$jscomp$iter$2$$ = $$jscomp$makeIterator$$(Object.keys($mr$PersistentData$storageObj_$$)), $$jscomp$key$key$jscomp$2_key$jscomp$82$$ = $$jscomp$iter$2$$.next(); !$$jscomp$key$key$jscomp$2_key$jscomp$82$$.done; $$jscomp$key$key$jscomp$2_key$jscomp$82$$ = $$jscomp$iter$2$$.next()) {
    $$jscomp$key$key$jscomp$2_key$jscomp$82$$ = $$jscomp$key$key$jscomp$2_key$jscomp$82$$.value, $$jscomp$key$key$jscomp$2_key$jscomp$82$$.startsWith("mr.temp.") && ($mr$PersistentDataManager$charsUsed_$$ -= $$jscomp$key$key$jscomp$2_key$jscomp$82$$.length + window.localStorage.getItem($$jscomp$key$key$jscomp$2_key$jscomp$82$$).length, delete window.localStorage[$$jscomp$key$key$jscomp$2_key$jscomp$82$$]);
  }
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$PersistentDataManager$logger_$$, "removeTemporary_: " + $mr$PersistentDataManager$charsUsed_$$ + " chars used");
};
var $goog$async$FreeList$$ = function($create$$, $reset$$, $limit$jscomp$2$$) {
  this.$h$ = $limit$jscomp$2$$;
  this.$f$ = $create$$;
  this.$g$ = $reset$$;
  this.$b$ = 0;
  this.$a$ = null;
};
$goog$async$FreeList$$.prototype.get = function() {
  if (0 < this.$b$) {
    this.$b$--;
    var $item$jscomp$1$$ = this.$a$;
    this.$a$ = $item$jscomp$1$$.next;
    $item$jscomp$1$$.next = null;
  } else {
    $item$jscomp$1$$ = this.$f$();
  }
  return $item$jscomp$1$$;
};
var $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$$ = function($JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$, $item$jscomp$2$$) {
  $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$g$($item$jscomp$2$$);
  $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$b$ < $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$h$ && ($JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$b$++, $item$jscomp$2$$.next = $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$a$, $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$self$$.$a$ = $item$jscomp$2$$);
};
var $goog$functions$constant$$ = function($retValue$$) {
  return function() {
    return $retValue$$;
  };
}, $goog$functions$FALSE$$ = $goog$functions$constant$$(!1), $goog$functions$TRUE$$ = $goog$functions$constant$$(!0), $goog$functions$identity$$ = function($opt_returnValue$jscomp$1$$) {
  return $opt_returnValue$jscomp$1$$;
}, $goog$functions$error$$ = function($message$jscomp$48$$) {
  return function() {
    throw Error($message$jscomp$48$$);
  };
}, $goog$functions$lock$$ = function($f$jscomp$32$$) {
  var $opt_numArgs$$ = $opt_numArgs$$ || 0;
  return function() {
    return $f$jscomp$32$$.apply(this, Array.prototype.slice.call(arguments, 0, $opt_numArgs$$));
  };
};
var $goog$async$throwException$$ = function($exception$jscomp$7$$) {
  $goog$global$$.setTimeout(function() {
    throw $exception$jscomp$7$$;
  }, 0);
}, $goog$async$nextTick$setImmediate_$$, $goog$async$nextTick$getSetImmediateEmulator_$$ = function() {
  var $Channel$$ = $goog$global$$.MessageChannel;
  "undefined" === typeof $Channel$$ && "undefined" !== typeof window && window.postMessage && window.addEventListener && !$goog$labs$userAgent$util$matchUserAgent$$("Presto") && ($Channel$$ = function() {
    var $Channel$$ = document.createElement("IFRAME");
    $Channel$$.style.display = "none";
    $Channel$$.src = "";
    document.documentElement.appendChild($Channel$$);
    var $channel$jscomp$3$$ = $Channel$$.contentWindow, $Channel$$ = $channel$jscomp$3$$.document;
    $Channel$$.open();
    $Channel$$.write("");
    $Channel$$.close();
    var $head$$ = "callImmediate" + Math.random(), $tail$$ = "file:" == $channel$jscomp$3$$.location.protocol ? "*" : $channel$jscomp$3$$.location.protocol + "//" + $channel$jscomp$3$$.location.host, $Channel$$ = $goog$bind$$(function($Channel$$) {
      if (("*" == $tail$$ || $Channel$$.origin == $tail$$) && $Channel$$.data == $head$$) {
        this.port1.onmessage();
      }
    }, this);
    $channel$jscomp$3$$.addEventListener("message", $Channel$$, !1);
    this.port1 = {};
    this.port2 = {postMessage:function() {
      $channel$jscomp$3$$.postMessage($head$$, $tail$$);
    }};
  });
  if ("undefined" !== typeof $Channel$$ && !$goog$labs$userAgent$util$matchUserAgent$$("Trident") && !$goog$labs$userAgent$util$matchUserAgent$$("MSIE")) {
    var $channel$jscomp$3$$ = new $Channel$$, $head$$ = {}, $tail$$ = $head$$;
    $channel$jscomp$3$$.port1.onmessage = function() {
      if ($goog$isDef$$($head$$.next)) {
        $head$$ = $head$$.next;
        var $Channel$$ = $head$$.$cb$;
        $head$$.$cb$ = null;
        $Channel$$();
      }
    };
    return function($Channel$$) {
      $tail$$.next = {$cb$:$Channel$$};
      $tail$$ = $tail$$.next;
      $channel$jscomp$3$$.port2.postMessage(0);
    };
  }
  return "undefined" !== typeof document && "onreadystatechange" in document.createElement("SCRIPT") ? function($Channel$$) {
    var $channel$jscomp$3$$ = document.createElement("SCRIPT");
    $channel$jscomp$3$$.onreadystatechange = function() {
      $channel$jscomp$3$$.onreadystatechange = null;
      $channel$jscomp$3$$.parentNode.removeChild($channel$jscomp$3$$);
      $channel$jscomp$3$$ = null;
      $Channel$$();
      $Channel$$ = null;
    };
    document.documentElement.appendChild($channel$jscomp$3$$);
  } : function($Channel$$) {
    $goog$global$$.setTimeout($Channel$$, 0);
  };
};
var $goog$async$WorkQueue$$ = function() {
  this.$b$ = this.$a$ = null;
}, $goog$async$WorkQueue$freelist_$$ = new $goog$async$FreeList$$(function() {
  return new $goog$async$WorkItem$$;
}, function($item$jscomp$3$$) {
  $item$jscomp$3$$.reset();
}, 100);
$goog$async$WorkQueue$$.prototype.add = function($fn$jscomp$18$$, $scope$jscomp$1$$) {
  var $item$jscomp$4$$ = $goog$async$WorkQueue$freelist_$$.get();
  $item$jscomp$4$$.set($fn$jscomp$18$$, $scope$jscomp$1$$);
  this.$b$ ? this.$b$.next = $item$jscomp$4$$ : ($goog$asserts$assert$$(!this.$a$), this.$a$ = $item$jscomp$4$$);
  this.$b$ = $item$jscomp$4$$;
};
$goog$async$WorkQueue$$.prototype.remove = function() {
  var $item$jscomp$5$$ = null;
  this.$a$ && ($item$jscomp$5$$ = this.$a$, this.$a$ = this.$a$.next, this.$a$ || (this.$b$ = null), $item$jscomp$5$$.next = null);
  return $item$jscomp$5$$;
};
var $goog$async$WorkItem$$ = function() {
  this.next = this.scope = this.$a$ = null;
};
$goog$async$WorkItem$$.prototype.set = function($fn$jscomp$19$$, $scope$jscomp$2$$) {
  this.$a$ = $fn$jscomp$19$$;
  this.scope = $scope$jscomp$2$$;
  this.next = null;
};
$goog$async$WorkItem$$.prototype.reset = function() {
  this.next = this.scope = this.$a$ = null;
};
var $goog$async$run$$ = function($callback$jscomp$420$$, $opt_context$jscomp$11$$) {
  $goog$async$run$schedule_$$ || $goog$async$run$initializeRunner_$$();
  $goog$async$run$workQueueScheduled_$$ || ($goog$async$run$schedule_$$(), $goog$async$run$workQueueScheduled_$$ = !0);
  $goog$async$run$workQueue_$$.add($callback$jscomp$420$$, $opt_context$jscomp$11$$);
}, $goog$async$run$schedule_$$, $goog$async$run$initializeRunner_$$ = function() {
  if (-1 != String($goog$global$$.Promise).indexOf("[native code]")) {
    var $promise$jscomp$5$$ = $goog$global$$.Promise.resolve(void 0);
    $goog$async$run$schedule_$$ = function() {
      $promise$jscomp$5$$.then($goog$async$run$processWorkQueue$$);
    };
  } else {
    $goog$async$run$schedule_$$ = function() {
      var $promise$jscomp$5$$ = $goog$async$run$processWorkQueue$$;
      !$goog$isFunction$$($goog$global$$.setImmediate) || $goog$global$$.Window && $goog$global$$.Window.prototype && !$goog$labs$userAgent$util$matchUserAgent$$("Edge") && $goog$global$$.Window.prototype.setImmediate == $goog$global$$.setImmediate ? ($goog$async$nextTick$setImmediate_$$ || ($goog$async$nextTick$setImmediate_$$ = $goog$async$nextTick$getSetImmediateEmulator_$$()), $goog$async$nextTick$setImmediate_$$($promise$jscomp$5$$)) : $goog$global$$.setImmediate($promise$jscomp$5$$);
    };
  }
}, $goog$async$run$workQueueScheduled_$$ = !1, $goog$async$run$workQueue_$$ = new $goog$async$WorkQueue$$, $goog$async$run$processWorkQueue$$ = function() {
  for (var $item$jscomp$7$$; $item$jscomp$7$$ = $goog$async$run$workQueue_$$.remove();) {
    try {
      $item$jscomp$7$$.$a$.call($item$jscomp$7$$.scope);
    } catch ($e$jscomp$20$$) {
      $goog$async$throwException$$($e$jscomp$20$$);
    }
    $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$$($goog$async$WorkQueue$freelist_$$, $item$jscomp$7$$);
  }
  $goog$async$run$workQueueScheduled_$$ = !1;
};
var $goog$labs$userAgent$platform$isIphone$$ = function() {
  return $goog$labs$userAgent$util$matchUserAgent$$("iPhone") && !$goog$labs$userAgent$util$matchUserAgent$$("iPod") && !$goog$labs$userAgent$util$matchUserAgent$$("iPad");
}, $goog$labs$userAgent$platform$isIos$$ = function() {
  return $goog$labs$userAgent$platform$isIphone$$() || $goog$labs$userAgent$util$matchUserAgent$$("iPad") || $goog$labs$userAgent$util$matchUserAgent$$("iPod");
};
var $goog$reflect$sinkValue$$ = function($x$jscomp$78$$) {
  $goog$reflect$sinkValue$$[" "]($x$jscomp$78$$);
  return $x$jscomp$78$$;
};
$goog$reflect$sinkValue$$[" "] = $goog$nullFunction$$;
var $goog$reflect$canAccessProperty$$ = function($obj$jscomp$82$$, $prop$jscomp$5$$) {
  try {
    return $goog$reflect$sinkValue$$($obj$jscomp$82$$[$prop$jscomp$5$$]), !0;
  } catch ($e$jscomp$21$$) {
  }
  return !1;
}, $goog$reflect$cache$$ = function($key$jscomp$85$$, $valueFn$$) {
  var $cacheObj$$ = $goog$userAgent$isVersionOrHigherCache_$$;
  return Object.prototype.hasOwnProperty.call($cacheObj$$, $key$jscomp$85$$) ? $cacheObj$$[$key$jscomp$85$$] : $cacheObj$$[$key$jscomp$85$$] = $valueFn$$($key$jscomp$85$$);
};
var $goog$userAgent$getNavigator$$ = function() {
  return $goog$global$$.navigator || null;
}, $goog$userAgent$OPERA$$ = $goog$labs$userAgent$util$matchUserAgent$$("Opera"), $goog$userAgent$IE$$ = $goog$labs$userAgent$util$matchUserAgent$$("Trident") || $goog$labs$userAgent$util$matchUserAgent$$("MSIE"), $goog$userAgent$EDGE$$ = $goog$labs$userAgent$util$matchUserAgent$$("Edge"), $goog$userAgent$GECKO$$ = $goog$labs$userAgent$util$matchUserAgent$$("Gecko") && !(-1 != $goog$labs$userAgent$util$userAgent_$$.toLowerCase().indexOf("webkit") && !$goog$labs$userAgent$util$matchUserAgent$$("Edge")) && 
!($goog$labs$userAgent$util$matchUserAgent$$("Trident") || $goog$labs$userAgent$util$matchUserAgent$$("MSIE")) && !$goog$labs$userAgent$util$matchUserAgent$$("Edge"), $goog$userAgent$WEBKIT$$ = -1 != $goog$labs$userAgent$util$userAgent_$$.toLowerCase().indexOf("webkit") && !$goog$labs$userAgent$util$matchUserAgent$$("Edge"), $goog$userAgent$MOBILE$$ = $goog$userAgent$WEBKIT$$ && $goog$labs$userAgent$util$matchUserAgent$$("Mobile"), $navigator$jscomp$inline_520$$ = $goog$userAgent$getNavigator$$(), 
$goog$userAgent$PLATFORM$$ = $navigator$jscomp$inline_520$$ && $navigator$jscomp$inline_520$$.platform || "", $goog$userAgent$MAC$$ = $goog$labs$userAgent$util$matchUserAgent$$("Macintosh"), $goog$userAgent$WINDOWS$$ = $goog$labs$userAgent$util$matchUserAgent$$("Windows"), $goog$userAgent$LINUX$$ = $goog$labs$userAgent$util$matchUserAgent$$("Linux") || $goog$labs$userAgent$util$matchUserAgent$$("CrOS"), $goog$userAgent$ANDROID$$ = $goog$labs$userAgent$util$matchUserAgent$$("Android"), $goog$userAgent$IPHONE$$ = 
$goog$labs$userAgent$platform$isIphone$$(), $goog$userAgent$IPAD$$ = $goog$labs$userAgent$util$matchUserAgent$$("iPad"), $goog$userAgent$IPOD$$ = $goog$labs$userAgent$util$matchUserAgent$$("iPod"), $goog$userAgent$getDocumentMode_$$ = function() {
  var $doc$jscomp$8$$ = $goog$global$$.document;
  return $doc$jscomp$8$$ ? $doc$jscomp$8$$.documentMode : void 0;
}, $JSCompiler_inline_result$jscomp$100$$;
a: {
  var $version$jscomp$inline_522$$ = "", $arr$jscomp$inline_523$$ = function() {
    var $userAgent$jscomp$7$$ = $goog$labs$userAgent$util$userAgent_$$;
    if ($goog$userAgent$GECKO$$) {
      return /rv\:([^\);]+)(\)|;)/.exec($userAgent$jscomp$7$$);
    }
    if ($goog$userAgent$EDGE$$) {
      return /Edge\/([\d\.]+)/.exec($userAgent$jscomp$7$$);
    }
    if ($goog$userAgent$IE$$) {
      return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($userAgent$jscomp$7$$);
    }
    if ($goog$userAgent$WEBKIT$$) {
      return /WebKit\/(\S+)/.exec($userAgent$jscomp$7$$);
    }
    if ($goog$userAgent$OPERA$$) {
      return /(?:Version)[ \/]?(\S+)/.exec($userAgent$jscomp$7$$);
    }
  }();
  $arr$jscomp$inline_523$$ && ($version$jscomp$inline_522$$ = $arr$jscomp$inline_523$$ ? $arr$jscomp$inline_523$$[1] : "");
  if ($goog$userAgent$IE$$) {
    var $docMode$jscomp$inline_524$$ = $goog$userAgent$getDocumentMode_$$();
    if (null != $docMode$jscomp$inline_524$$ && $docMode$jscomp$inline_524$$ > parseFloat($version$jscomp$inline_522$$)) {
      $JSCompiler_inline_result$jscomp$100$$ = String($docMode$jscomp$inline_524$$);
      break a;
    }
  }
  $JSCompiler_inline_result$jscomp$100$$ = $version$jscomp$inline_522$$;
}
var $goog$userAgent$VERSION$$ = $JSCompiler_inline_result$jscomp$100$$, $goog$userAgent$isVersionOrHigherCache_$$ = {}, $goog$userAgent$isVersionOrHigher$$ = function($version$jscomp$14$$) {
  return $goog$reflect$cache$$($version$jscomp$14$$, function() {
    return 0 <= $goog$string$compareVersions$$($goog$userAgent$VERSION$$, $version$jscomp$14$$);
  });
}, $JSCompiler_inline_result$jscomp$101$$;
var $doc$jscomp$inline_526$$ = $goog$global$$.document;
$JSCompiler_inline_result$jscomp$101$$ = $doc$jscomp$inline_526$$ && $goog$userAgent$IE$$ ? $goog$userAgent$getDocumentMode_$$() || ("CSS1Compat" == $doc$jscomp$inline_526$$.compatMode ? parseInt($goog$userAgent$VERSION$$, 10) : 5) : void 0;
var $goog$debug$expose$$ = function($obj$jscomp$83$$) {
  if ("undefined" == typeof $obj$jscomp$83$$) {
    return "undefined";
  }
  if (null == $obj$jscomp$83$$) {
    return "NULL";
  }
  var $str$jscomp$86$$ = [], $x$jscomp$79$$;
  for ($x$jscomp$79$$ in $obj$jscomp$83$$) {
    if (!$goog$isFunction$$($obj$jscomp$83$$[$x$jscomp$79$$])) {
      var $s$jscomp$17$$ = $x$jscomp$79$$ + " = ";
      try {
        $s$jscomp$17$$ += $obj$jscomp$83$$[$x$jscomp$79$$];
      } catch ($e$jscomp$22$$) {
        $s$jscomp$17$$ += "*** " + $e$jscomp$22$$ + " ***";
      }
      $str$jscomp$86$$.push($s$jscomp$17$$);
    }
  }
  return $str$jscomp$86$$.join("\n");
}, $goog$debug$deepExpose$$ = function($i$jscomp$74_obj$jscomp$84$$) {
  var $str$jscomp$87$$ = [], $uidsToCleanup$$ = [], $ancestorUids$$ = {}, $helper$$ = function($i$jscomp$74_obj$jscomp$84$$, $space$$) {
    var $obj$jscomp$85$$ = $space$$ + "  ";
    try {
      if ($goog$isDef$$($i$jscomp$74_obj$jscomp$84$$)) {
        if (null === $i$jscomp$74_obj$jscomp$84$$) {
          $str$jscomp$87$$.push("NULL");
        } else {
          if ($goog$isString$$($i$jscomp$74_obj$jscomp$84$$)) {
            $str$jscomp$87$$.push('"' + $i$jscomp$74_obj$jscomp$84$$.replace(/\n/g, "\n" + $space$$) + '"');
          } else {
            if ($goog$isFunction$$($i$jscomp$74_obj$jscomp$84$$)) {
              $str$jscomp$87$$.push(String($i$jscomp$74_obj$jscomp$84$$).replace(/\n/g, "\n" + $space$$));
            } else {
              if ($goog$isObject$$($i$jscomp$74_obj$jscomp$84$$)) {
                $i$jscomp$74_obj$jscomp$84$$[$goog$UID_PROPERTY_$$] || $uidsToCleanup$$.push($i$jscomp$74_obj$jscomp$84$$);
                var $uid$$ = $i$jscomp$74_obj$jscomp$84$$[$goog$UID_PROPERTY_$$] || ($i$jscomp$74_obj$jscomp$84$$[$goog$UID_PROPERTY_$$] = ++$goog$uidCounter_$$);
                if ($ancestorUids$$[$uid$$]) {
                  $str$jscomp$87$$.push("*** reference loop detected (id=" + $uid$$ + ") ***");
                } else {
                  $ancestorUids$$[$uid$$] = !0;
                  $str$jscomp$87$$.push("{");
                  for (var $x$jscomp$80$$ in $i$jscomp$74_obj$jscomp$84$$) {
                    $goog$isFunction$$($i$jscomp$74_obj$jscomp$84$$[$x$jscomp$80$$]) || ($str$jscomp$87$$.push("\n"), $str$jscomp$87$$.push($obj$jscomp$85$$), $str$jscomp$87$$.push($x$jscomp$80$$ + " = "), $helper$$($i$jscomp$74_obj$jscomp$84$$[$x$jscomp$80$$], $obj$jscomp$85$$));
                  }
                  $str$jscomp$87$$.push("\n" + $space$$ + "}");
                  delete $ancestorUids$$[$uid$$];
                }
              } else {
                $str$jscomp$87$$.push($i$jscomp$74_obj$jscomp$84$$);
              }
            }
          }
        }
      } else {
        $str$jscomp$87$$.push("undefined");
      }
    } catch ($e$jscomp$23$$) {
      $str$jscomp$87$$.push("*** " + $e$jscomp$23$$ + " ***");
    }
  };
  $helper$$($i$jscomp$74_obj$jscomp$84$$, "");
  for ($i$jscomp$74_obj$jscomp$84$$ = 0; $i$jscomp$74_obj$jscomp$84$$ < $uidsToCleanup$$.length; $i$jscomp$74_obj$jscomp$84$$++) {
    $goog$removeUid$$($uidsToCleanup$$[$i$jscomp$74_obj$jscomp$84$$]);
  }
  return $str$jscomp$87$$.join("");
}, $goog$debug$getStacktraceSimple$$ = function($opt_depth$$) {
  var $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$ = $goog$debug$getStacktraceSimple$$;
  var $fn$jscomp$20_tempErr$jscomp$inline_529$$ = Error();
  if (Error.captureStackTrace) {
    Error.captureStackTrace($fn$jscomp$20_tempErr$jscomp$inline_529$$, $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$), $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$ = String($fn$jscomp$20_tempErr$jscomp$inline_529$$.stack);
  } else {
    try {
      throw $fn$jscomp$20_tempErr$jscomp$inline_529$$;
    } catch ($e$jscomp$inline_531$$) {
      $fn$jscomp$20_tempErr$jscomp$inline_529$$ = $e$jscomp$inline_531$$;
    }
    $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$ = ($fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$ = $fn$jscomp$20_tempErr$jscomp$inline_529$$.stack) ? String($fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$) : null;
  }
  if ($fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$) {
    return $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$;
  }
  $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$ = [];
  for (var $fn$jscomp$20_tempErr$jscomp$inline_529$$ = arguments.callee.caller, $depth$jscomp$1$$ = 0; $fn$jscomp$20_tempErr$jscomp$inline_529$$ && (!$opt_depth$$ || $depth$jscomp$1$$ < $opt_depth$$);) {
    $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$.push($goog$debug$getFunctionName$$($fn$jscomp$20_tempErr$jscomp$inline_529$$));
    $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$.push("()\n");
    try {
      $fn$jscomp$20_tempErr$jscomp$inline_529$$ = $fn$jscomp$20_tempErr$jscomp$inline_529$$.caller;
    } catch ($e$jscomp$25$$) {
      $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$.push("[exception trying to get caller]\n");
      break;
    }
    $depth$jscomp$1$$++;
    if (50 <= $depth$jscomp$1$$) {
      $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$.push("[...long stack...]");
      break;
    }
  }
  $opt_depth$$ && $depth$jscomp$1$$ >= $opt_depth$$ ? $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$.push("[...reached max depth limit...]") : $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$.push("[end]");
  return $fn$jscomp$inline_528_sb$jscomp$2_stack$jscomp$1_stack$jscomp$inline_530$$.join("");
}, $goog$debug$getFunctionName$$ = function($fn$jscomp$24_functionSource$$) {
  if ($goog$debug$fnNameCache_$$[$fn$jscomp$24_functionSource$$]) {
    return $goog$debug$fnNameCache_$$[$fn$jscomp$24_functionSource$$];
  }
  $fn$jscomp$24_functionSource$$ = String($fn$jscomp$24_functionSource$$);
  if (!$goog$debug$fnNameCache_$$[$fn$jscomp$24_functionSource$$]) {
    var $matches$$ = /function ([^\(]+)/.exec($fn$jscomp$24_functionSource$$);
    $goog$debug$fnNameCache_$$[$fn$jscomp$24_functionSource$$] = $matches$$ ? $matches$$[1] : "[Anonymous]";
  }
  return $goog$debug$fnNameCache_$$[$fn$jscomp$24_functionSource$$];
}, $goog$debug$fnNameCache_$$ = {};
var $goog$debug$LogRecord$$ = function($level$jscomp$11$$, $msg$jscomp$2$$, $loggerName$$, $opt_time$$, $opt_sequenceNumber$$) {
  this.reset($level$jscomp$11$$, $msg$jscomp$2$$, $loggerName$$, $opt_time$$, $opt_sequenceNumber$$);
};
$goog$debug$LogRecord$$.prototype.$a$ = null;
var $goog$debug$LogRecord$nextSequenceNumber_$$ = 0;
$goog$debug$LogRecord$$.prototype.reset = function($level$jscomp$12$$, $msg$jscomp$3$$, $loggerName$jscomp$1$$, $opt_time$jscomp$1$$, $opt_sequenceNumber$jscomp$1$$) {
  "number" == typeof $opt_sequenceNumber$jscomp$1$$ || $goog$debug$LogRecord$nextSequenceNumber_$$++;
  this.$h$ = $opt_time$jscomp$1$$ || $goog$now$$();
  this.$b$ = $level$jscomp$12$$;
  this.$g$ = $msg$jscomp$3$$;
  this.$f$ = $loggerName$jscomp$1$$;
  delete this.$a$;
};
$goog$debug$LogRecord$$.prototype.getMessage = function() {
  return this.$g$;
};
var $goog$debug$Logger$$ = function($name$jscomp$144$$) {
  this.$h$ = $name$jscomp$144$$;
  this.$a$ = this.$g$ = this.$b$ = this.$f$ = null;
}, $goog$debug$Logger$Level$$ = function($name$jscomp$145$$, $value$jscomp$141$$) {
  this.name = $name$jscomp$145$$;
  this.value = $value$jscomp$141$$;
};
$goog$debug$Logger$Level$$.prototype.toString = function() {
  return this.name;
};
var $goog$debug$Logger$Level$SEVERE$$ = new $goog$debug$Logger$Level$$("SEVERE", 1000), $goog$debug$Logger$Level$WARNING$$ = new $goog$debug$Logger$Level$$("WARNING", 900), $goog$debug$Logger$Level$INFO$$ = new $goog$debug$Logger$Level$$("INFO", 800), $goog$debug$Logger$Level$CONFIG$$ = new $goog$debug$Logger$Level$$("CONFIG", 700), $goog$debug$Logger$Level$FINE$$ = new $goog$debug$Logger$Level$$("FINE", 500), $goog$debug$Logger$Level$FINER$$ = new $goog$debug$Logger$Level$$("FINER", 400), $goog$debug$Logger$Level$ALL$$ = 
new $goog$debug$Logger$Level$$("ALL", 0);
$goog$debug$Logger$$.prototype.getName = function() {
  return this.$h$;
};
$goog$debug$Logger$$.prototype.getChildren = function() {
  this.$g$ || (this.$g$ = {});
  return this.$g$;
};
var $JSCompiler_StaticMethods_getEffectiveLevel$$ = function($JSCompiler_StaticMethods_getEffectiveLevel$self$$) {
  if ($JSCompiler_StaticMethods_getEffectiveLevel$self$$.$b$) {
    return $JSCompiler_StaticMethods_getEffectiveLevel$self$$.$b$;
  }
  if ($JSCompiler_StaticMethods_getEffectiveLevel$self$$.$f$) {
    return $JSCompiler_StaticMethods_getEffectiveLevel$$($JSCompiler_StaticMethods_getEffectiveLevel$self$$.$f$);
  }
  $goog$asserts$fail$$("Root logger has no level set.");
  return null;
};
$goog$debug$Logger$$.prototype.log = function($level$jscomp$19_logRecord$jscomp$inline_537$$, $msg$jscomp$7$$, $opt_exception$$) {
  $level$jscomp$19_logRecord$jscomp$inline_537$$.value >= $JSCompiler_StaticMethods_getEffectiveLevel$$(this).value && ($goog$isFunction$$($msg$jscomp$7$$) && ($msg$jscomp$7$$ = $msg$jscomp$7$$()), $level$jscomp$19_logRecord$jscomp$inline_537$$ = new $goog$debug$LogRecord$$($level$jscomp$19_logRecord$jscomp$inline_537$$, String($msg$jscomp$7$$), this.$h$), $opt_exception$$ && ($level$jscomp$19_logRecord$jscomp$inline_537$$.$a$ = $opt_exception$$), $JSCompiler_StaticMethods_doLogRecord_$$(this, $level$jscomp$19_logRecord$jscomp$inline_537$$));
};
$goog$debug$Logger$$.prototype.config = function($msg$jscomp$13$$, $opt_exception$jscomp$6$$) {
  this.log($goog$debug$Logger$Level$CONFIG$$, $msg$jscomp$13$$, $opt_exception$jscomp$6$$);
};
$goog$debug$Logger$$.prototype.logRecord = function($logRecord$jscomp$1$$) {
  $logRecord$jscomp$1$$.$b$.value >= $JSCompiler_StaticMethods_getEffectiveLevel$$(this).value && $JSCompiler_StaticMethods_doLogRecord_$$(this, $logRecord$jscomp$1$$);
};
var $JSCompiler_StaticMethods_doLogRecord_$$ = function($JSCompiler_StaticMethods_doLogRecord_$self_target$jscomp$63$$, $logRecord$jscomp$2$$) {
  var $handler$jscomp$inline_547_msg$jscomp$inline_542$$ = "log:" + $logRecord$jscomp$2$$.getMessage();
  $goog$global$$.console && ($goog$global$$.console.timeStamp ? $goog$global$$.console.timeStamp($handler$jscomp$inline_547_msg$jscomp$inline_542$$) : $goog$global$$.console.markTimeline && $goog$global$$.console.markTimeline($handler$jscomp$inline_547_msg$jscomp$inline_542$$));
  for ($goog$global$$.msWriteProfilerMark && $goog$global$$.msWriteProfilerMark($handler$jscomp$inline_547_msg$jscomp$inline_542$$); $JSCompiler_StaticMethods_doLogRecord_$self_target$jscomp$63$$;) {
    var $JSCompiler_StaticMethods_callPublish_$self$jscomp$inline_544$$ = $JSCompiler_StaticMethods_doLogRecord_$self_target$jscomp$63$$, $logRecord$jscomp$inline_545$$ = $logRecord$jscomp$2$$;
    if ($JSCompiler_StaticMethods_callPublish_$self$jscomp$inline_544$$.$a$) {
      for (var $i$jscomp$inline_546$$ = 0; $handler$jscomp$inline_547_msg$jscomp$inline_542$$ = $JSCompiler_StaticMethods_callPublish_$self$jscomp$inline_544$$.$a$[$i$jscomp$inline_546$$]; $i$jscomp$inline_546$$++) {
        $handler$jscomp$inline_547_msg$jscomp$inline_542$$($logRecord$jscomp$inline_545$$);
      }
    }
    $JSCompiler_StaticMethods_doLogRecord_$self_target$jscomp$63$$ = $JSCompiler_StaticMethods_doLogRecord_$self_target$jscomp$63$$.$f$;
  }
}, $goog$debug$LogManager$loggers_$$ = {}, $goog$debug$LogManager$rootLogger_$$ = null, $goog$debug$LogManager$initialize$$ = function() {
  $goog$debug$LogManager$rootLogger_$$ || ($goog$debug$LogManager$rootLogger_$$ = new $goog$debug$Logger$$(""), $goog$debug$LogManager$loggers_$$[""] = $goog$debug$LogManager$rootLogger_$$, $goog$debug$LogManager$rootLogger_$$.$b$ = $goog$debug$Logger$Level$CONFIG$$);
}, $goog$debug$LogManager$getLogger$$ = function($name$jscomp$149$$) {
  $goog$debug$LogManager$initialize$$();
  var $JSCompiler_temp$jscomp$109_logger$jscomp$inline_553$$;
  if (!($JSCompiler_temp$jscomp$109_logger$jscomp$inline_553$$ = $goog$debug$LogManager$loggers_$$[$name$jscomp$149$$])) {
    $JSCompiler_temp$jscomp$109_logger$jscomp$inline_553$$ = new $goog$debug$Logger$$($name$jscomp$149$$);
    var $lastDotIndex$jscomp$inline_554_parentLogger$jscomp$inline_556$$ = $name$jscomp$149$$.lastIndexOf("."), $leafName$jscomp$inline_555$$ = $name$jscomp$149$$.substr($lastDotIndex$jscomp$inline_554_parentLogger$jscomp$inline_556$$ + 1), $lastDotIndex$jscomp$inline_554_parentLogger$jscomp$inline_556$$ = $goog$debug$LogManager$getLogger$$($name$jscomp$149$$.substr(0, $lastDotIndex$jscomp$inline_554_parentLogger$jscomp$inline_556$$));
    $lastDotIndex$jscomp$inline_554_parentLogger$jscomp$inline_556$$.getChildren()[$leafName$jscomp$inline_555$$] = $JSCompiler_temp$jscomp$109_logger$jscomp$inline_553$$;
    $JSCompiler_temp$jscomp$109_logger$jscomp$inline_553$$.$f$ = $lastDotIndex$jscomp$inline_554_parentLogger$jscomp$inline_556$$;
    $goog$debug$LogManager$loggers_$$[$name$jscomp$149$$] = $JSCompiler_temp$jscomp$109_logger$jscomp$inline_553$$;
  }
  return $JSCompiler_temp$jscomp$109_logger$jscomp$inline_553$$;
};
var $goog$Disposable$$ = function() {
  this.$o$ = this.$o$;
  this.$J$ = this.$J$;
};
$goog$Disposable$$.prototype.$o$ = !1;
$goog$Disposable$$.prototype.$dispose$ = function() {
  this.$o$ || (this.$o$ = !0, this.$disposeInternal$());
};
$goog$Disposable$$.prototype.$h$ = function($disposable$$) {
  $JSCompiler_StaticMethods_addOnDisposeCallback$$(this, $goog$partial$$($goog$dispose$$, $disposable$$));
};
var $JSCompiler_StaticMethods_addOnDisposeCallback$$ = function($JSCompiler_StaticMethods_addOnDisposeCallback$self$$, $callback$jscomp$421$$) {
  $JSCompiler_StaticMethods_addOnDisposeCallback$self$$.$o$ ? $goog$isDef$$(void 0) ? $callback$jscomp$421$$.call(void 0) : $callback$jscomp$421$$() : ($JSCompiler_StaticMethods_addOnDisposeCallback$self$$.$J$ || ($JSCompiler_StaticMethods_addOnDisposeCallback$self$$.$J$ = []), $JSCompiler_StaticMethods_addOnDisposeCallback$self$$.$J$.push($goog$isDef$$(void 0) ? $goog$bind$$($callback$jscomp$421$$, void 0) : $callback$jscomp$421$$));
};
$goog$Disposable$$.prototype.$disposeInternal$ = function() {
  if (this.$J$) {
    for (; this.$J$.length;) {
      this.$J$.shift()();
    }
  }
};
var $goog$dispose$$ = function($obj$jscomp$87$$) {
  $obj$jscomp$87$$ && "function" == typeof $obj$jscomp$87$$.$dispose$ && $obj$jscomp$87$$.$dispose$();
}, $goog$disposeAll$$ = function($var_args$jscomp$94$$) {
  for (var $i$jscomp$82$$ = 0, $len$$ = arguments.length; $i$jscomp$82$$ < $len$$; ++$i$jscomp$82$$) {
    var $disposable$jscomp$1$$ = arguments[$i$jscomp$82$$];
    $goog$isArrayLike$$($disposable$jscomp$1$$) ? $goog$disposeAll$$.apply(null, $disposable$jscomp$1$$) : $goog$dispose$$($disposable$jscomp$1$$);
  }
};
var $goog$events$BrowserFeature$HAS_W3C_EVENT_SUPPORT$$ = !$goog$userAgent$IE$$ || 9 <= Number($JSCompiler_inline_result$jscomp$101$$), $goog$events$BrowserFeature$SET_KEY_CODE_TO_PREVENT_DEFAULT$$ = $goog$userAgent$IE$$ && !$goog$userAgent$isVersionOrHigher$$("9");
!$goog$userAgent$WEBKIT$$ || $goog$userAgent$isVersionOrHigher$$("528");
$goog$userAgent$GECKO$$ && $goog$userAgent$isVersionOrHigher$$("1.9b") || $goog$userAgent$IE$$ && $goog$userAgent$isVersionOrHigher$$("8") || $goog$userAgent$OPERA$$ && $goog$userAgent$isVersionOrHigher$$("9.5") || $goog$userAgent$WEBKIT$$ && $goog$userAgent$isVersionOrHigher$$("528");
$goog$userAgent$GECKO$$ && !$goog$userAgent$isVersionOrHigher$$("8") || $goog$userAgent$IE$$ && $goog$userAgent$isVersionOrHigher$$("9");
var $goog$events$Event$$ = function($type$jscomp$129$$, $opt_target$jscomp$2$$) {
  this.type = $type$jscomp$129$$;
  this.$f$ = this.target = $opt_target$jscomp$2$$;
  this.$returnValue_$ = !0;
};
$goog$events$Event$$.prototype.$g$ = function() {
  this.$returnValue_$ = !1;
};
var $goog$events$BrowserEvent$$ = function($opt_e$$, $opt_currentTarget$$) {
  $goog$events$Event$$.call(this, $opt_e$$ ? $opt_e$$.type : "");
  this.relatedTarget = this.$f$ = this.target = null;
  this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0;
  this.key = "";
  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;
  this.$a$ = this.state = null;
  $opt_e$$ && this.init($opt_e$$, $opt_currentTarget$$);
};
$goog$inherits$$($goog$events$BrowserEvent$$, $goog$events$Event$$);
$goog$events$BrowserEvent$$.prototype.init = function($e$jscomp$30$$, $opt_currentTarget$jscomp$1_relatedTarget$$) {
  var $type$jscomp$130$$ = this.type = $e$jscomp$30$$.type, $relevantTouch$$ = $e$jscomp$30$$.changedTouches ? $e$jscomp$30$$.changedTouches[0] : null;
  this.target = $e$jscomp$30$$.target || $e$jscomp$30$$.srcElement;
  this.$f$ = $opt_currentTarget$jscomp$1_relatedTarget$$;
  ($opt_currentTarget$jscomp$1_relatedTarget$$ = $e$jscomp$30$$.relatedTarget) ? $goog$userAgent$GECKO$$ && ($goog$reflect$canAccessProperty$$($opt_currentTarget$jscomp$1_relatedTarget$$, "nodeName") || ($opt_currentTarget$jscomp$1_relatedTarget$$ = null)) : "mouseover" == $type$jscomp$130$$ ? $opt_currentTarget$jscomp$1_relatedTarget$$ = $e$jscomp$30$$.fromElement : "mouseout" == $type$jscomp$130$$ && ($opt_currentTarget$jscomp$1_relatedTarget$$ = $e$jscomp$30$$.toElement);
  this.relatedTarget = $opt_currentTarget$jscomp$1_relatedTarget$$;
  null === $relevantTouch$$ ? (this.clientX = void 0 !== $e$jscomp$30$$.clientX ? $e$jscomp$30$$.clientX : $e$jscomp$30$$.pageX, this.clientY = void 0 !== $e$jscomp$30$$.clientY ? $e$jscomp$30$$.clientY : $e$jscomp$30$$.pageY, this.screenX = $e$jscomp$30$$.screenX || 0, this.screenY = $e$jscomp$30$$.screenY || 0) : (this.clientX = void 0 !== $relevantTouch$$.clientX ? $relevantTouch$$.clientX : $relevantTouch$$.pageX, this.clientY = void 0 !== $relevantTouch$$.clientY ? $relevantTouch$$.clientY : 
  $relevantTouch$$.pageY, this.screenX = $relevantTouch$$.screenX || 0, this.screenY = $relevantTouch$$.screenY || 0);
  this.button = $e$jscomp$30$$.button;
  this.key = $e$jscomp$30$$.key || "";
  this.ctrlKey = $e$jscomp$30$$.ctrlKey;
  this.altKey = $e$jscomp$30$$.altKey;
  this.shiftKey = $e$jscomp$30$$.shiftKey;
  this.metaKey = $e$jscomp$30$$.metaKey;
  this.state = $e$jscomp$30$$.state;
  this.$a$ = $e$jscomp$30$$;
  $e$jscomp$30$$.defaultPrevented && this.$g$();
};
$goog$events$BrowserEvent$$.prototype.$g$ = function() {
  $goog$events$BrowserEvent$$.$superClass_$.$g$.call(this);
  var $be$$ = this.$a$;
  if ($be$$.preventDefault) {
    $be$$.preventDefault();
  } else {
    if ($be$$.returnValue = !1, $goog$events$BrowserFeature$SET_KEY_CODE_TO_PREVENT_DEFAULT$$) {
      try {
        if ($be$$.ctrlKey || 112 <= $be$$.keyCode && 123 >= $be$$.keyCode) {
          $be$$.keyCode = -1;
        }
      } catch ($ex$jscomp$1$$) {
      }
    }
  }
};
var $goog$events$Listenable$IMPLEMENTED_BY_PROP$$ = "closure_listenable_" + (1e6 * Math.random() | 0), $goog$events$Listenable$isImplementedBy$$ = function($obj$jscomp$88$$) {
  return !(!$obj$jscomp$88$$ || !$obj$jscomp$88$$[$goog$events$Listenable$IMPLEMENTED_BY_PROP$$]);
}, $goog$events$ListenableKey$counter_$$ = 0;
var $goog$events$Listener$$ = function($listener$jscomp$77$$, $src$jscomp$14$$, $type$jscomp$131$$, $capture$$, $opt_handler$jscomp$2$$) {
  this.listener = $listener$jscomp$77$$;
  this.proxy = null;
  this.src = $src$jscomp$14$$;
  this.type = $type$jscomp$131$$;
  this.capture = !!$capture$$;
  this.$handler$ = $opt_handler$jscomp$2$$;
  this.key = ++$goog$events$ListenableKey$counter_$$;
  this.removed = this.$callOnce$ = !1;
}, $JSCompiler_StaticMethods_markAsRemoved$$ = function($JSCompiler_StaticMethods_markAsRemoved$self$$) {
  $JSCompiler_StaticMethods_markAsRemoved$self$$.removed = !0;
  $JSCompiler_StaticMethods_markAsRemoved$self$$.listener = null;
  $JSCompiler_StaticMethods_markAsRemoved$self$$.proxy = null;
  $JSCompiler_StaticMethods_markAsRemoved$self$$.src = null;
  $JSCompiler_StaticMethods_markAsRemoved$self$$.$handler$ = null;
};
var $goog$events$ListenerMap$$ = function($src$jscomp$15$$) {
  this.src = $src$jscomp$15$$;
  this.$a$ = {};
  this.$b$ = 0;
};
$goog$events$ListenerMap$$.prototype.add = function($listenerArray_type$jscomp$133$$, $listener$jscomp$78_listenerObj$$, $callOnce$$, $opt_useCapture$jscomp$5$$, $opt_listenerScope$$) {
  var $typeStr$$ = $listenerArray_type$jscomp$133$$.toString();
  $listenerArray_type$jscomp$133$$ = this.$a$[$typeStr$$];
  $listenerArray_type$jscomp$133$$ || ($listenerArray_type$jscomp$133$$ = this.$a$[$typeStr$$] = [], this.$b$++);
  var $index$jscomp$61$$ = $goog$events$ListenerMap$findListenerIndex_$$($listenerArray_type$jscomp$133$$, $listener$jscomp$78_listenerObj$$, $opt_useCapture$jscomp$5$$, $opt_listenerScope$$);
  -1 < $index$jscomp$61$$ ? ($listener$jscomp$78_listenerObj$$ = $listenerArray_type$jscomp$133$$[$index$jscomp$61$$], $callOnce$$ || ($listener$jscomp$78_listenerObj$$.$callOnce$ = !1)) : ($listener$jscomp$78_listenerObj$$ = new $goog$events$Listener$$($listener$jscomp$78_listenerObj$$, this.src, $typeStr$$, !!$opt_useCapture$jscomp$5$$, $opt_listenerScope$$), $listener$jscomp$78_listenerObj$$.$callOnce$ = $callOnce$$, $listenerArray_type$jscomp$133$$.push($listener$jscomp$78_listenerObj$$));
  return $listener$jscomp$78_listenerObj$$;
};
$goog$events$ListenerMap$$.prototype.remove = function($type$jscomp$134_typeStr$jscomp$1$$, $index$jscomp$62_listener$jscomp$79$$, $opt_useCapture$jscomp$6$$, $opt_listenerScope$jscomp$1$$) {
  $type$jscomp$134_typeStr$jscomp$1$$ = $type$jscomp$134_typeStr$jscomp$1$$.toString();
  if (!($type$jscomp$134_typeStr$jscomp$1$$ in this.$a$)) {
    return !1;
  }
  var $listenerArray$jscomp$1$$ = this.$a$[$type$jscomp$134_typeStr$jscomp$1$$];
  $index$jscomp$62_listener$jscomp$79$$ = $goog$events$ListenerMap$findListenerIndex_$$($listenerArray$jscomp$1$$, $index$jscomp$62_listener$jscomp$79$$, $opt_useCapture$jscomp$6$$, $opt_listenerScope$jscomp$1$$);
  return -1 < $index$jscomp$62_listener$jscomp$79$$ ? ($JSCompiler_StaticMethods_markAsRemoved$$($listenerArray$jscomp$1$$[$index$jscomp$62_listener$jscomp$79$$]), $goog$array$removeAt$$($listenerArray$jscomp$1$$, $index$jscomp$62_listener$jscomp$79$$), 0 == $listenerArray$jscomp$1$$.length && (delete this.$a$[$type$jscomp$134_typeStr$jscomp$1$$], this.$b$--), !0) : !1;
};
var $JSCompiler_StaticMethods_removeByKey$$ = function($JSCompiler_StaticMethods_removeByKey$self$$, $listener$jscomp$80$$) {
  var $type$jscomp$135$$ = $listener$jscomp$80$$.type;
  if (!($type$jscomp$135$$ in $JSCompiler_StaticMethods_removeByKey$self$$.$a$)) {
    return !1;
  }
  var $removed$$ = $goog$array$remove$$($JSCompiler_StaticMethods_removeByKey$self$$.$a$[$type$jscomp$135$$], $listener$jscomp$80$$);
  $removed$$ && ($JSCompiler_StaticMethods_markAsRemoved$$($listener$jscomp$80$$), 0 == $JSCompiler_StaticMethods_removeByKey$self$$.$a$[$type$jscomp$135$$].length && (delete $JSCompiler_StaticMethods_removeByKey$self$$.$a$[$type$jscomp$135$$], $JSCompiler_StaticMethods_removeByKey$self$$.$b$--));
  return $removed$$;
};
$goog$events$ListenerMap$$.prototype.removeAll = function($opt_type$jscomp$11_typeStr$jscomp$2$$) {
  $opt_type$jscomp$11_typeStr$jscomp$2$$ = $opt_type$jscomp$11_typeStr$jscomp$2$$ && $opt_type$jscomp$11_typeStr$jscomp$2$$.toString();
  var $count$jscomp$15$$ = 0, $type$jscomp$136$$;
  for ($type$jscomp$136$$ in this.$a$) {
    if (!$opt_type$jscomp$11_typeStr$jscomp$2$$ || $type$jscomp$136$$ == $opt_type$jscomp$11_typeStr$jscomp$2$$) {
      for (var $listenerArray$jscomp$2$$ = this.$a$[$type$jscomp$136$$], $i$jscomp$83$$ = 0; $i$jscomp$83$$ < $listenerArray$jscomp$2$$.length; $i$jscomp$83$$++) {
        ++$count$jscomp$15$$, $JSCompiler_StaticMethods_markAsRemoved$$($listenerArray$jscomp$2$$[$i$jscomp$83$$]);
      }
      delete this.$a$[$type$jscomp$136$$];
      this.$b$--;
    }
  }
  return $count$jscomp$15$$;
};
var $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$$ = function($JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$, $i$jscomp$85_type$jscomp$138$$, $listener$jscomp$81$$, $capture$jscomp$2$$, $opt_listenerScope$jscomp$2$$) {
  $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$ = $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$.$a$[$i$jscomp$85_type$jscomp$138$$.toString()];
  $i$jscomp$85_type$jscomp$138$$ = -1;
  $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$ && ($i$jscomp$85_type$jscomp$138$$ = $goog$events$ListenerMap$findListenerIndex_$$($JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$, $listener$jscomp$81$$, $capture$jscomp$2$$, $opt_listenerScope$jscomp$2$$));
  return -1 < $i$jscomp$85_type$jscomp$138$$ ? $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$self_listenerArray$jscomp$4$$[$i$jscomp$85_type$jscomp$138$$] : null;
}, $goog$events$ListenerMap$findListenerIndex_$$ = function($listenerArray$jscomp$6$$, $listener$jscomp$82$$, $opt_useCapture$jscomp$7$$, $opt_listenerScope$jscomp$3$$) {
  for (var $i$jscomp$87$$ = 0; $i$jscomp$87$$ < $listenerArray$jscomp$6$$.length; ++$i$jscomp$87$$) {
    var $listenerObj$jscomp$3$$ = $listenerArray$jscomp$6$$[$i$jscomp$87$$];
    if (!$listenerObj$jscomp$3$$.removed && $listenerObj$jscomp$3$$.listener == $listener$jscomp$82$$ && $listenerObj$jscomp$3$$.capture == !!$opt_useCapture$jscomp$7$$ && $listenerObj$jscomp$3$$.$handler$ == $opt_listenerScope$jscomp$3$$) {
      return $i$jscomp$87$$;
    }
  }
  return -1;
};
var $goog$events$LISTENER_MAP_PROP_$$ = "closure_lm_" + (1e6 * Math.random() | 0), $goog$events$onStringMap_$$ = {}, $goog$events$listenerCountEstimate_$$ = 0, $goog$events$listen$$ = function($src$jscomp$16$$, $type$jscomp$140$$, $listener$jscomp$83$$, $opt_capt$$, $opt_handler$jscomp$3$$) {
  if ($goog$isArray$$($type$jscomp$140$$)) {
    for (var $i$jscomp$88$$ = 0; $i$jscomp$88$$ < $type$jscomp$140$$.length; $i$jscomp$88$$++) {
      $goog$events$listen$$($src$jscomp$16$$, $type$jscomp$140$$[$i$jscomp$88$$], $listener$jscomp$83$$, $opt_capt$$, $opt_handler$jscomp$3$$);
    }
    return null;
  }
  $listener$jscomp$83$$ = $goog$events$wrapListener$$($listener$jscomp$83$$);
  return $goog$events$Listenable$isImplementedBy$$($src$jscomp$16$$) ? $src$jscomp$16$$.listen($type$jscomp$140$$, $listener$jscomp$83$$, $opt_capt$$, $opt_handler$jscomp$3$$) : $goog$events$listen_$$($src$jscomp$16$$, $type$jscomp$140$$, $listener$jscomp$83$$, !1, $opt_capt$$, $opt_handler$jscomp$3$$);
}, $goog$events$listen_$$ = function($src$jscomp$17$$, $type$jscomp$141$$, $listener$jscomp$84_listenerObj$jscomp$4$$, $callOnce$jscomp$1_proxy$jscomp$1$$, $opt_capt$jscomp$1$$, $opt_handler$jscomp$4$$) {
  if (!$type$jscomp$141$$) {
    throw Error("Invalid event type");
  }
  var $capture$jscomp$3$$ = !!$opt_capt$jscomp$1$$, $listenerMap$$ = $goog$events$getListenerMap_$$($src$jscomp$17$$);
  $listenerMap$$ || ($src$jscomp$17$$[$goog$events$LISTENER_MAP_PROP_$$] = $listenerMap$$ = new $goog$events$ListenerMap$$($src$jscomp$17$$));
  $listener$jscomp$84_listenerObj$jscomp$4$$ = $listenerMap$$.add($type$jscomp$141$$, $listener$jscomp$84_listenerObj$jscomp$4$$, $callOnce$jscomp$1_proxy$jscomp$1$$, $opt_capt$jscomp$1$$, $opt_handler$jscomp$4$$);
  if ($listener$jscomp$84_listenerObj$jscomp$4$$.proxy) {
    return $listener$jscomp$84_listenerObj$jscomp$4$$;
  }
  $callOnce$jscomp$1_proxy$jscomp$1$$ = $goog$events$getProxy$$();
  $listener$jscomp$84_listenerObj$jscomp$4$$.proxy = $callOnce$jscomp$1_proxy$jscomp$1$$;
  $callOnce$jscomp$1_proxy$jscomp$1$$.src = $src$jscomp$17$$;
  $callOnce$jscomp$1_proxy$jscomp$1$$.listener = $listener$jscomp$84_listenerObj$jscomp$4$$;
  if ($src$jscomp$17$$.addEventListener) {
    $src$jscomp$17$$.addEventListener($type$jscomp$141$$.toString(), $callOnce$jscomp$1_proxy$jscomp$1$$, $capture$jscomp$3$$);
  } else {
    if ($src$jscomp$17$$.attachEvent) {
      $src$jscomp$17$$.attachEvent($goog$events$getOnString_$$($type$jscomp$141$$.toString()), $callOnce$jscomp$1_proxy$jscomp$1$$);
    } else {
      throw Error("addEventListener and attachEvent are unavailable.");
    }
  }
  $goog$events$listenerCountEstimate_$$++;
  return $listener$jscomp$84_listenerObj$jscomp$4$$;
}, $goog$events$getProxy$$ = function() {
  var $proxyCallbackFunction$$ = $goog$events$handleBrowserEvent_$$, $f$jscomp$39$$ = $goog$events$BrowserFeature$HAS_W3C_EVENT_SUPPORT$$ ? function($eventObject$$) {
    return $proxyCallbackFunction$$.call($f$jscomp$39$$.src, $f$jscomp$39$$.listener, $eventObject$$);
  } : function($eventObject$jscomp$1_v$jscomp$1$$) {
    $eventObject$jscomp$1_v$jscomp$1$$ = $proxyCallbackFunction$$.call($f$jscomp$39$$.src, $f$jscomp$39$$.listener, $eventObject$jscomp$1_v$jscomp$1$$);
    if (!$eventObject$jscomp$1_v$jscomp$1$$) {
      return $eventObject$jscomp$1_v$jscomp$1$$;
    }
  };
  return $f$jscomp$39$$;
}, $goog$events$listenOnce$$ = function($src$jscomp$18$$, $type$jscomp$142$$, $listener$jscomp$85$$, $opt_capt$jscomp$2$$, $opt_handler$jscomp$5$$) {
  if ($goog$isArray$$($type$jscomp$142$$)) {
    for (var $i$jscomp$89$$ = 0; $i$jscomp$89$$ < $type$jscomp$142$$.length; $i$jscomp$89$$++) {
      $goog$events$listenOnce$$($src$jscomp$18$$, $type$jscomp$142$$[$i$jscomp$89$$], $listener$jscomp$85$$, $opt_capt$jscomp$2$$, $opt_handler$jscomp$5$$);
    }
    return null;
  }
  $listener$jscomp$85$$ = $goog$events$wrapListener$$($listener$jscomp$85$$);
  return $goog$events$Listenable$isImplementedBy$$($src$jscomp$18$$) ? $JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$$($src$jscomp$18$$, $type$jscomp$142$$, $listener$jscomp$85$$, $opt_capt$jscomp$2$$, $opt_handler$jscomp$5$$) : $goog$events$listen_$$($src$jscomp$18$$, $type$jscomp$142$$, $listener$jscomp$85$$, !0, $opt_capt$jscomp$2$$, $opt_handler$jscomp$5$$);
}, $goog$events$unlisten$$ = function($listenerMap$jscomp$1_src$jscomp$20$$, $listenerObj$jscomp$5_type$jscomp$143$$, $listener$jscomp$87$$, $opt_capt$jscomp$4$$, $opt_handler$jscomp$7$$) {
  if ($goog$isArray$$($listenerObj$jscomp$5_type$jscomp$143$$)) {
    for (var $i$jscomp$90$$ = 0; $i$jscomp$90$$ < $listenerObj$jscomp$5_type$jscomp$143$$.length; $i$jscomp$90$$++) {
      $goog$events$unlisten$$($listenerMap$jscomp$1_src$jscomp$20$$, $listenerObj$jscomp$5_type$jscomp$143$$[$i$jscomp$90$$], $listener$jscomp$87$$, $opt_capt$jscomp$4$$, $opt_handler$jscomp$7$$);
    }
  } else {
    $listener$jscomp$87$$ = $goog$events$wrapListener$$($listener$jscomp$87$$), $goog$events$Listenable$isImplementedBy$$($listenerMap$jscomp$1_src$jscomp$20$$) ? $listenerMap$jscomp$1_src$jscomp$20$$.$w$($listenerObj$jscomp$5_type$jscomp$143$$, $listener$jscomp$87$$, $opt_capt$jscomp$4$$, $opt_handler$jscomp$7$$) : $listenerMap$jscomp$1_src$jscomp$20$$ && ($listenerMap$jscomp$1_src$jscomp$20$$ = $goog$events$getListenerMap_$$($listenerMap$jscomp$1_src$jscomp$20$$)) && ($listenerObj$jscomp$5_type$jscomp$143$$ = 
    $JSCompiler_StaticMethods_goog_events_ListenerMap_prototype$getListener$$($listenerMap$jscomp$1_src$jscomp$20$$, $listenerObj$jscomp$5_type$jscomp$143$$, $listener$jscomp$87$$, !!$opt_capt$jscomp$4$$, $opt_handler$jscomp$7$$)) && $goog$events$unlistenByKey$$($listenerObj$jscomp$5_type$jscomp$143$$);
  }
}, $goog$events$unlistenByKey$$ = function($key$jscomp$86$$) {
  if ($goog$isNumber$$($key$jscomp$86$$) || !$key$jscomp$86$$ || $key$jscomp$86$$.removed) {
    return !1;
  }
  var $src$jscomp$21$$ = $key$jscomp$86$$.src;
  if ($goog$events$Listenable$isImplementedBy$$($src$jscomp$21$$)) {
    return $JSCompiler_StaticMethods_removeByKey$$($src$jscomp$21$$.$eventTargetListeners_$, $key$jscomp$86$$);
  }
  var $listenerMap$jscomp$2_type$jscomp$144$$ = $key$jscomp$86$$.type, $proxy$jscomp$2$$ = $key$jscomp$86$$.proxy;
  $src$jscomp$21$$.removeEventListener ? $src$jscomp$21$$.removeEventListener($listenerMap$jscomp$2_type$jscomp$144$$, $proxy$jscomp$2$$, $key$jscomp$86$$.capture) : $src$jscomp$21$$.detachEvent && $src$jscomp$21$$.detachEvent($goog$events$getOnString_$$($listenerMap$jscomp$2_type$jscomp$144$$), $proxy$jscomp$2$$);
  $goog$events$listenerCountEstimate_$$--;
  ($listenerMap$jscomp$2_type$jscomp$144$$ = $goog$events$getListenerMap_$$($src$jscomp$21$$)) ? ($JSCompiler_StaticMethods_removeByKey$$($listenerMap$jscomp$2_type$jscomp$144$$, $key$jscomp$86$$), 0 == $listenerMap$jscomp$2_type$jscomp$144$$.$b$ && ($listenerMap$jscomp$2_type$jscomp$144$$.src = null, $src$jscomp$21$$[$goog$events$LISTENER_MAP_PROP_$$] = null)) : $JSCompiler_StaticMethods_markAsRemoved$$($key$jscomp$86$$);
  return !0;
}, $goog$events$getOnString_$$ = function($type$jscomp$148$$) {
  return $type$jscomp$148$$ in $goog$events$onStringMap_$$ ? $goog$events$onStringMap_$$[$type$jscomp$148$$] : $goog$events$onStringMap_$$[$type$jscomp$148$$] = "on" + $type$jscomp$148$$;
}, $goog$events$fireListeners_$$ = function($i$jscomp$92_listenerMap$jscomp$7_obj$jscomp$93$$, $listenerArray$jscomp$7_type$jscomp$150$$, $capture$jscomp$8$$, $eventObject$jscomp$3$$) {
  var $retval$$ = !0;
  if ($i$jscomp$92_listenerMap$jscomp$7_obj$jscomp$93$$ = $goog$events$getListenerMap_$$($i$jscomp$92_listenerMap$jscomp$7_obj$jscomp$93$$)) {
    if ($listenerArray$jscomp$7_type$jscomp$150$$ = $i$jscomp$92_listenerMap$jscomp$7_obj$jscomp$93$$.$a$[$listenerArray$jscomp$7_type$jscomp$150$$.toString()]) {
      for ($listenerArray$jscomp$7_type$jscomp$150$$ = $listenerArray$jscomp$7_type$jscomp$150$$.concat(), $i$jscomp$92_listenerMap$jscomp$7_obj$jscomp$93$$ = 0; $i$jscomp$92_listenerMap$jscomp$7_obj$jscomp$93$$ < $listenerArray$jscomp$7_type$jscomp$150$$.length; $i$jscomp$92_listenerMap$jscomp$7_obj$jscomp$93$$++) {
        var $listener$jscomp$91_result$jscomp$17$$ = $listenerArray$jscomp$7_type$jscomp$150$$[$i$jscomp$92_listenerMap$jscomp$7_obj$jscomp$93$$];
        $listener$jscomp$91_result$jscomp$17$$ && $listener$jscomp$91_result$jscomp$17$$.capture == $capture$jscomp$8$$ && !$listener$jscomp$91_result$jscomp$17$$.removed && ($listener$jscomp$91_result$jscomp$17$$ = $goog$events$fireListener$$($listener$jscomp$91_result$jscomp$17$$, $eventObject$jscomp$3$$), $retval$$ = $retval$$ && !1 !== $listener$jscomp$91_result$jscomp$17$$);
      }
    }
  }
  return $retval$$;
}, $goog$events$fireListener$$ = function($listener$jscomp$92$$, $eventObject$jscomp$4$$) {
  var $listenerFn$$ = $listener$jscomp$92$$.listener, $listenerHandler$$ = $listener$jscomp$92$$.$handler$ || $listener$jscomp$92$$.src;
  $listener$jscomp$92$$.$callOnce$ && $goog$events$unlistenByKey$$($listener$jscomp$92$$);
  return $listenerFn$$.call($listenerHandler$$, $eventObject$jscomp$4$$);
}, $goog$events$handleBrowserEvent_$$ = function($listener$jscomp$93_result$jscomp$18$$, $evt$jscomp$25_opt_evt$$) {
  if ($listener$jscomp$93_result$jscomp$18$$.removed) {
    return !0;
  }
  if (!$goog$events$BrowserFeature$HAS_W3C_EVENT_SUPPORT$$) {
    var $ancestors_ieEvent$$ = $evt$jscomp$25_opt_evt$$ || $goog$getObjectByName$$("window.event");
    $evt$jscomp$25_opt_evt$$ = new $goog$events$BrowserEvent$$($ancestors_ieEvent$$, this);
    var $retval$jscomp$1$$ = !0;
    if (!(0 > $ancestors_ieEvent$$.keyCode || void 0 != $ancestors_ieEvent$$.returnValue)) {
      a: {
        var $parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$ = !1;
        if (0 == $ancestors_ieEvent$$.keyCode) {
          try {
            $ancestors_ieEvent$$.keyCode = -1;
            break a;
          } catch ($ex$jscomp$inline_563$$) {
            $parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$ = !0;
          }
        }
        if ($parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$ || void 0 == $ancestors_ieEvent$$.returnValue) {
          $ancestors_ieEvent$$.returnValue = !0;
        }
      }
      $ancestors_ieEvent$$ = [];
      for ($parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$ = $evt$jscomp$25_opt_evt$$.$f$; $parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$; $parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$ = $parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$.parentNode) {
        $ancestors_ieEvent$$.push($parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$);
      }
      for (var $parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$ = $listener$jscomp$93_result$jscomp$18$$.type, $i$jscomp$93$$ = $ancestors_ieEvent$$.length - 1; 0 <= $i$jscomp$93$$; $i$jscomp$93$$--) {
        $evt$jscomp$25_opt_evt$$.$f$ = $ancestors_ieEvent$$[$i$jscomp$93$$], $listener$jscomp$93_result$jscomp$18$$ = $goog$events$fireListeners_$$($ancestors_ieEvent$$[$i$jscomp$93$$], $parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$, !0, $evt$jscomp$25_opt_evt$$), $retval$jscomp$1$$ = $retval$jscomp$1$$ && $listener$jscomp$93_result$jscomp$18$$;
      }
      for ($i$jscomp$93$$ = 0; $i$jscomp$93$$ < $ancestors_ieEvent$$.length; $i$jscomp$93$$++) {
        $evt$jscomp$25_opt_evt$$.$f$ = $ancestors_ieEvent$$[$i$jscomp$93$$], $listener$jscomp$93_result$jscomp$18$$ = $goog$events$fireListeners_$$($ancestors_ieEvent$$[$i$jscomp$93$$], $parent$jscomp$7_type$jscomp$151_useReturnValue$jscomp$inline_562$$, !1, $evt$jscomp$25_opt_evt$$), $retval$jscomp$1$$ = $retval$jscomp$1$$ && $listener$jscomp$93_result$jscomp$18$$;
      }
    }
    return $retval$jscomp$1$$;
  }
  return $goog$events$fireListener$$($listener$jscomp$93_result$jscomp$18$$, new $goog$events$BrowserEvent$$($evt$jscomp$25_opt_evt$$, this));
}, $goog$events$getListenerMap_$$ = function($listenerMap$jscomp$8_src$jscomp$25$$) {
  $listenerMap$jscomp$8_src$jscomp$25$$ = $listenerMap$jscomp$8_src$jscomp$25$$[$goog$events$LISTENER_MAP_PROP_$$];
  return $listenerMap$jscomp$8_src$jscomp$25$$ instanceof $goog$events$ListenerMap$$ ? $listenerMap$jscomp$8_src$jscomp$25$$ : null;
}, $goog$events$LISTENER_WRAPPER_PROP_$$ = "__closure_events_fn_" + (1e9 * Math.random() >>> 0), $goog$events$wrapListener$$ = function($listener$jscomp$94$$) {
  $goog$asserts$assert$$($listener$jscomp$94$$, "Listener can not be null.");
  if ($goog$isFunction$$($listener$jscomp$94$$)) {
    return $listener$jscomp$94$$;
  }
  $goog$asserts$assert$$($listener$jscomp$94$$.handleEvent, "An object listener must have handleEvent method.");
  $listener$jscomp$94$$[$goog$events$LISTENER_WRAPPER_PROP_$$] || ($listener$jscomp$94$$[$goog$events$LISTENER_WRAPPER_PROP_$$] = function($e$jscomp$35$$) {
    return $listener$jscomp$94$$.handleEvent($e$jscomp$35$$);
  });
  return $listener$jscomp$94$$[$goog$events$LISTENER_WRAPPER_PROP_$$];
};
var $goog$events$EventTarget$$ = function() {
  $goog$Disposable$$.call(this);
  this.$eventTargetListeners_$ = new $goog$events$ListenerMap$$(this);
  this.$Da$ = this;
  this.$H$ = null;
};
$goog$inherits$$($goog$events$EventTarget$$, $goog$Disposable$$);
$goog$events$EventTarget$$.prototype[$goog$events$Listenable$IMPLEMENTED_BY_PROP$$] = !0;
$goog$events$EventTarget$$.prototype.removeEventListener = function($type$jscomp$153$$, $handler$jscomp$18$$, $opt_capture$jscomp$3$$, $opt_handlerScope$jscomp$1$$) {
  $goog$events$unlisten$$(this, $type$jscomp$153$$, $handler$jscomp$18$$, $opt_capture$jscomp$3$$, $opt_handlerScope$jscomp$1$$);
};
$goog$events$EventTarget$$.prototype.dispatchEvent = function($e$jscomp$36_e$jscomp$inline_568$$) {
  $JSCompiler_StaticMethods_assertInitialized_$$(this);
  var $ancestor_target$jscomp$inline_567$$ = this.$H$;
  if ($ancestor_target$jscomp$inline_567$$) {
    var $ancestorsTree_opt_ancestorsTree$jscomp$inline_569$$ = [];
    for (var $ancestorCount_type$jscomp$inline_570$$ = 1; $ancestor_target$jscomp$inline_567$$; $ancestor_target$jscomp$inline_567$$ = $ancestor_target$jscomp$inline_567$$.$H$) {
      $ancestorsTree_opt_ancestorsTree$jscomp$inline_569$$.push($ancestor_target$jscomp$inline_567$$), $goog$asserts$assert$$(1000 > ++$ancestorCount_type$jscomp$inline_570$$, "infinite loop");
    }
  }
  $ancestor_target$jscomp$inline_567$$ = this.$Da$;
  $ancestorCount_type$jscomp$inline_570$$ = $e$jscomp$36_e$jscomp$inline_568$$.type || $e$jscomp$36_e$jscomp$inline_568$$;
  if ($goog$isString$$($e$jscomp$36_e$jscomp$inline_568$$)) {
    $e$jscomp$36_e$jscomp$inline_568$$ = new $goog$events$Event$$($e$jscomp$36_e$jscomp$inline_568$$, $ancestor_target$jscomp$inline_567$$);
  } else {
    if ($e$jscomp$36_e$jscomp$inline_568$$ instanceof $goog$events$Event$$) {
      $e$jscomp$36_e$jscomp$inline_568$$.target = $e$jscomp$36_e$jscomp$inline_568$$.target || $ancestor_target$jscomp$inline_567$$;
    } else {
      var $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$ = $e$jscomp$36_e$jscomp$inline_568$$;
      $e$jscomp$36_e$jscomp$inline_568$$ = new $goog$events$Event$$($ancestorCount_type$jscomp$inline_570$$, $ancestor_target$jscomp$inline_567$$);
      $goog$object$extend$$($e$jscomp$36_e$jscomp$inline_568$$, $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$);
    }
  }
  var $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$ = !0;
  if ($ancestorsTree_opt_ancestorsTree$jscomp$inline_569$$) {
    for (var $i$jscomp$inline_574$$ = $ancestorsTree_opt_ancestorsTree$jscomp$inline_569$$.length - 1; 0 <= $i$jscomp$inline_574$$; $i$jscomp$inline_574$$--) {
      var $currentTarget$jscomp$inline_573$$ = $e$jscomp$36_e$jscomp$inline_568$$.$f$ = $ancestorsTree_opt_ancestorsTree$jscomp$inline_569$$[$i$jscomp$inline_574$$];
      $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$ = $JSCompiler_StaticMethods_fireListeners$$($currentTarget$jscomp$inline_573$$, $ancestorCount_type$jscomp$inline_570$$, !0, $e$jscomp$36_e$jscomp$inline_568$$) && $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$;
    }
  }
  $currentTarget$jscomp$inline_573$$ = $e$jscomp$36_e$jscomp$inline_568$$.$f$ = $ancestor_target$jscomp$inline_567$$;
  $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$ = $JSCompiler_StaticMethods_fireListeners$$($currentTarget$jscomp$inline_573$$, $ancestorCount_type$jscomp$inline_570$$, !0, $e$jscomp$36_e$jscomp$inline_568$$) && $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$;
  $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$ = $JSCompiler_StaticMethods_fireListeners$$($currentTarget$jscomp$inline_573$$, $ancestorCount_type$jscomp$inline_570$$, !1, $e$jscomp$36_e$jscomp$inline_568$$) && $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$;
  if ($ancestorsTree_opt_ancestorsTree$jscomp$inline_569$$) {
    for ($i$jscomp$inline_574$$ = 0; $i$jscomp$inline_574$$ < $ancestorsTree_opt_ancestorsTree$jscomp$inline_569$$.length; $i$jscomp$inline_574$$++) {
      $currentTarget$jscomp$inline_573$$ = $e$jscomp$36_e$jscomp$inline_568$$.$f$ = $ancestorsTree_opt_ancestorsTree$jscomp$inline_569$$[$i$jscomp$inline_574$$], $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$ = $JSCompiler_StaticMethods_fireListeners$$($currentTarget$jscomp$inline_573$$, $ancestorCount_type$jscomp$inline_570$$, !1, $e$jscomp$36_e$jscomp$inline_568$$) && $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$;
    }
  }
  return $oldEvent$jscomp$inline_571_rv$jscomp$inline_572$$;
};
$goog$events$EventTarget$$.prototype.$disposeInternal$ = function() {
  $goog$events$EventTarget$$.$superClass_$.$disposeInternal$.call(this);
  this.$eventTargetListeners_$ && this.$eventTargetListeners_$.removeAll(void 0);
  this.$H$ = null;
};
$goog$events$EventTarget$$.prototype.listen = function($type$jscomp$154$$, $listener$jscomp$95$$, $opt_useCapture$jscomp$8$$, $opt_listenerScope$jscomp$4$$) {
  $JSCompiler_StaticMethods_assertInitialized_$$(this);
  return this.$eventTargetListeners_$.add(String($type$jscomp$154$$), $listener$jscomp$95$$, !1, $opt_useCapture$jscomp$8$$, $opt_listenerScope$jscomp$4$$);
};
var $JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$$ = function($JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$self$$, $type$jscomp$155$$, $listener$jscomp$96$$, $opt_useCapture$jscomp$9$$, $opt_listenerScope$jscomp$5$$) {
  return $JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$self$$.$eventTargetListeners_$.add(String($type$jscomp$155$$), $listener$jscomp$96$$, !0, $opt_useCapture$jscomp$9$$, $opt_listenerScope$jscomp$5$$);
};
$goog$events$EventTarget$$.prototype.$w$ = function($type$jscomp$156$$, $listener$jscomp$97$$, $opt_useCapture$jscomp$10$$, $opt_listenerScope$jscomp$6$$) {
  return this.$eventTargetListeners_$.remove(String($type$jscomp$156$$), $listener$jscomp$97$$, $opt_useCapture$jscomp$10$$, $opt_listenerScope$jscomp$6$$);
};
var $JSCompiler_StaticMethods_fireListeners$$ = function($JSCompiler_StaticMethods_fireListeners$self$$, $listenerArray$jscomp$8_type$jscomp$157$$, $capture$jscomp$9$$, $eventObject$jscomp$5$$) {
  $listenerArray$jscomp$8_type$jscomp$157$$ = $JSCompiler_StaticMethods_fireListeners$self$$.$eventTargetListeners_$.$a$[String($listenerArray$jscomp$8_type$jscomp$157$$)];
  if (!$listenerArray$jscomp$8_type$jscomp$157$$) {
    return !0;
  }
  $listenerArray$jscomp$8_type$jscomp$157$$ = $listenerArray$jscomp$8_type$jscomp$157$$.concat();
  for (var $rv$jscomp$9$$ = !0, $i$jscomp$94$$ = 0; $i$jscomp$94$$ < $listenerArray$jscomp$8_type$jscomp$157$$.length; ++$i$jscomp$94$$) {
    var $listener$jscomp$98$$ = $listenerArray$jscomp$8_type$jscomp$157$$[$i$jscomp$94$$];
    if ($listener$jscomp$98$$ && !$listener$jscomp$98$$.removed && $listener$jscomp$98$$.capture == $capture$jscomp$9$$) {
      var $listenerFn$jscomp$1$$ = $listener$jscomp$98$$.listener, $listenerHandler$jscomp$1$$ = $listener$jscomp$98$$.$handler$ || $listener$jscomp$98$$.src;
      $listener$jscomp$98$$.$callOnce$ && $JSCompiler_StaticMethods_removeByKey$$($JSCompiler_StaticMethods_fireListeners$self$$.$eventTargetListeners_$, $listener$jscomp$98$$);
      $rv$jscomp$9$$ = !1 !== $listenerFn$jscomp$1$$.call($listenerHandler$jscomp$1$$, $eventObject$jscomp$5$$) && $rv$jscomp$9$$;
    }
  }
  return $rv$jscomp$9$$ && 0 != $eventObject$jscomp$5$$.$returnValue_$;
}, $JSCompiler_StaticMethods_assertInitialized_$$ = function($JSCompiler_StaticMethods_assertInitialized_$self$$) {
  $goog$asserts$assert$$($JSCompiler_StaticMethods_assertInitialized_$self$$.$eventTargetListeners_$, "Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?");
};
var $goog$iter$StopIteration$$ = "StopIteration" in $goog$global$$ ? $goog$global$$.StopIteration : {message:"StopIteration", stack:""}, $goog$iter$Iterator$$ = function() {
};
$goog$iter$Iterator$$.prototype.next = function() {
  throw $goog$iter$StopIteration$$;
};
$goog$iter$Iterator$$.prototype.$__iterator__$ = function() {
  return this;
};
var $goog$iter$toIterator$$ = function($iterable$jscomp$4$$) {
  if ($iterable$jscomp$4$$ instanceof $goog$iter$Iterator$$) {
    return $iterable$jscomp$4$$;
  }
  if ("function" == typeof $iterable$jscomp$4$$.$__iterator__$) {
    return $iterable$jscomp$4$$.$__iterator__$(!1);
  }
  if ($goog$isArrayLike$$($iterable$jscomp$4$$)) {
    var $i$jscomp$97$$ = 0, $newIter$$ = new $goog$iter$Iterator$$;
    $newIter$$.next = function() {
      for (;;) {
        if ($i$jscomp$97$$ >= $iterable$jscomp$4$$.length) {
          throw $goog$iter$StopIteration$$;
        }
        if ($i$jscomp$97$$ in $iterable$jscomp$4$$) {
          return $iterable$jscomp$4$$[$i$jscomp$97$$++];
        }
        $i$jscomp$97$$++;
      }
    };
    return $newIter$$;
  }
  throw Error("Not implemented");
}, $goog$iter$forEach$$ = function($iterable$jscomp$5$$, $f$jscomp$40$$, $opt_obj$jscomp$34$$) {
  if ($goog$isArrayLike$$($iterable$jscomp$5$$)) {
    try {
      $goog$array$forEach$$($iterable$jscomp$5$$, $f$jscomp$40$$, $opt_obj$jscomp$34$$);
    } catch ($ex$jscomp$3$$) {
      if ($ex$jscomp$3$$ !== $goog$iter$StopIteration$$) {
        throw $ex$jscomp$3$$;
      }
    }
  } else {
    $iterable$jscomp$5$$ = $goog$iter$toIterator$$($iterable$jscomp$5$$);
    try {
      for (;;) {
        $f$jscomp$40$$.call($opt_obj$jscomp$34$$, $iterable$jscomp$5$$.next(), void 0, $iterable$jscomp$5$$);
      }
    } catch ($ex$29$$) {
      if ($ex$29$$ !== $goog$iter$StopIteration$$) {
        throw $ex$29$$;
      }
    }
  }
}, $goog$iter$some$$ = function($iterable$jscomp$11$$, $f$jscomp$45$$) {
  $iterable$jscomp$11$$ = $goog$iter$toIterator$$($iterable$jscomp$11$$);
  try {
    for (; !$f$jscomp$45$$.call(void 0, $iterable$jscomp$11$$.next(), void 0, $iterable$jscomp$11$$);) {
    }
  } catch ($ex$jscomp$4$$) {
    if ($ex$jscomp$4$$ !== $goog$iter$StopIteration$$) {
      throw $ex$jscomp$4$$;
    }
  }
}, $goog$iter$toArray$$ = function($iterable$jscomp$16$$) {
  if ($goog$isArrayLike$$($iterable$jscomp$16$$)) {
    return $goog$array$toArray$$($iterable$jscomp$16$$);
  }
  $iterable$jscomp$16$$ = $goog$iter$toIterator$$($iterable$jscomp$16$$);
  var $array$jscomp$13$$ = [];
  $goog$iter$forEach$$($iterable$jscomp$16$$, function($iterable$jscomp$16$$) {
    $array$jscomp$13$$.push($iterable$jscomp$16$$);
  });
  return $array$jscomp$13$$;
};
var $goog$json$parse$$ = $goog$global$$.JSON.parse, $goog$json$serialize$$ = $goog$global$$.JSON.stringify;
var $goog$log$log$$ = function($logger$jscomp$6$$, $level$jscomp$21$$, $msg$jscomp$17$$) {
  $logger$jscomp$6$$ && $logger$jscomp$6$$.log($level$jscomp$21$$, $msg$jscomp$17$$, void 0);
}, $goog$log$error$$ = function($logger$jscomp$7$$, $msg$jscomp$18$$, $opt_exception$jscomp$11$$) {
  $logger$jscomp$7$$ && $logger$jscomp$7$$.log($goog$debug$Logger$Level$SEVERE$$, $msg$jscomp$18$$, $opt_exception$jscomp$11$$);
}, $goog$log$warning$$ = function($logger$jscomp$8$$, $msg$jscomp$19$$, $opt_exception$jscomp$12$$) {
  $logger$jscomp$8$$ && $logger$jscomp$8$$.log($goog$debug$Logger$Level$WARNING$$, $msg$jscomp$19$$, $opt_exception$jscomp$12$$);
}, $goog$log$info$$ = function($logger$jscomp$9$$, $msg$jscomp$20$$) {
  $logger$jscomp$9$$ && $logger$jscomp$9$$.log($goog$debug$Logger$Level$INFO$$, $msg$jscomp$20$$, void 0);
}, $goog$log$fine$$ = function($logger$jscomp$10$$, $msg$jscomp$21$$) {
  $logger$jscomp$10$$ && $logger$jscomp$10$$.log($goog$debug$Logger$Level$FINE$$, $msg$jscomp$21$$, void 0);
};
var $goog$net$XmlHttpFactory$$ = function() {
};
$goog$net$XmlHttpFactory$$.prototype.$a$ = null;
var $JSCompiler_StaticMethods_goog_net_XmlHttpFactory_prototype$getOptions$$ = function($JSCompiler_StaticMethods_goog_net_XmlHttpFactory_prototype$getOptions$self$$) {
  var $JSCompiler_temp$jscomp$114_options$jscomp$inline_596$$;
  ($JSCompiler_temp$jscomp$114_options$jscomp$inline_596$$ = $JSCompiler_StaticMethods_goog_net_XmlHttpFactory_prototype$getOptions$self$$.$a$) || ($JSCompiler_temp$jscomp$114_options$jscomp$inline_596$$ = {}, $JSCompiler_StaticMethods_getProgId_$$($JSCompiler_StaticMethods_goog_net_XmlHttpFactory_prototype$getOptions$self$$) && ($JSCompiler_temp$jscomp$114_options$jscomp$inline_596$$[0] = !0, $JSCompiler_temp$jscomp$114_options$jscomp$inline_596$$[1] = !0), $JSCompiler_temp$jscomp$114_options$jscomp$inline_596$$ = 
  $JSCompiler_StaticMethods_goog_net_XmlHttpFactory_prototype$getOptions$self$$.$a$ = $JSCompiler_temp$jscomp$114_options$jscomp$inline_596$$);
  return $JSCompiler_temp$jscomp$114_options$jscomp$inline_596$$;
};
var $goog$net$XmlHttp$factory_$$, $goog$net$DefaultXmlHttpFactory$$ = function() {
};
$goog$inherits$$($goog$net$DefaultXmlHttpFactory$$, $goog$net$XmlHttpFactory$$);
var $JSCompiler_StaticMethods_createInstance$$ = function($JSCompiler_StaticMethods_createInstance$self_progId$jscomp$1$$) {
  return ($JSCompiler_StaticMethods_createInstance$self_progId$jscomp$1$$ = $JSCompiler_StaticMethods_getProgId_$$($JSCompiler_StaticMethods_createInstance$self_progId$jscomp$1$$)) ? new ActiveXObject($JSCompiler_StaticMethods_createInstance$self_progId$jscomp$1$$) : new XMLHttpRequest;
}, $JSCompiler_StaticMethods_getProgId_$$ = function($JSCompiler_StaticMethods_getProgId_$self$$) {
  if (!$JSCompiler_StaticMethods_getProgId_$self$$.$b$ && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {
    for (var $ACTIVE_X_IDENTS$$ = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], $i$jscomp$100$$ = 0; $i$jscomp$100$$ < $ACTIVE_X_IDENTS$$.length; $i$jscomp$100$$++) {
      var $candidate$jscomp$1$$ = $ACTIVE_X_IDENTS$$[$i$jscomp$100$$];
      try {
        return new ActiveXObject($candidate$jscomp$1$$), $JSCompiler_StaticMethods_getProgId_$self$$.$b$ = $candidate$jscomp$1$$;
      } catch ($e$jscomp$40$$) {
      }
    }
    throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
  }
  return $JSCompiler_StaticMethods_getProgId_$self$$.$b$;
};
$goog$net$XmlHttp$factory_$$ = new $goog$net$DefaultXmlHttpFactory$$;
var $goog$structs$Map$$ = function($opt_map$$, $var_args$jscomp$103$$) {
  this.$b$ = {};
  this.$a$ = [];
  this.$g$ = this.$f$ = 0;
  var $argLength$jscomp$2$$ = arguments.length;
  if (1 < $argLength$jscomp$2$$) {
    if ($argLength$jscomp$2$$ % 2) {
      throw Error("Uneven number of arguments");
    }
    for (var $i$jscomp$101$$ = 0; $i$jscomp$101$$ < $argLength$jscomp$2$$; $i$jscomp$101$$ += 2) {
      this.set(arguments[$i$jscomp$101$$], arguments[$i$jscomp$101$$ + 1]);
    }
  } else {
    $opt_map$$ && $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this, $opt_map$$);
  }
};
$JSCompiler_prototypeAlias$$ = $goog$structs$Map$$.prototype;
$JSCompiler_prototypeAlias$$.$getCount$ = function() {
  return this.$f$;
};
$JSCompiler_prototypeAlias$$.$getValues$ = function() {
  $JSCompiler_StaticMethods_cleanupKeysArray_$$(this);
  for (var $rv$jscomp$13$$ = [], $i$jscomp$102$$ = 0; $i$jscomp$102$$ < this.$a$.length; $i$jscomp$102$$++) {
    $rv$jscomp$13$$.push(this.$b$[this.$a$[$i$jscomp$102$$]]);
  }
  return $rv$jscomp$13$$;
};
$JSCompiler_prototypeAlias$$.$getKeys$ = function() {
  $JSCompiler_StaticMethods_cleanupKeysArray_$$(this);
  return this.$a$.concat();
};
$JSCompiler_prototypeAlias$$.$containsKey$ = function($key$jscomp$91$$) {
  return $goog$structs$Map$hasKey_$$(this.$b$, $key$jscomp$91$$);
};
$JSCompiler_prototypeAlias$$.$containsValue$ = function($val$jscomp$33$$) {
  for (var $i$jscomp$103$$ = 0; $i$jscomp$103$$ < this.$a$.length; $i$jscomp$103$$++) {
    var $key$jscomp$92$$ = this.$a$[$i$jscomp$103$$];
    if ($goog$structs$Map$hasKey_$$(this.$b$, $key$jscomp$92$$) && this.$b$[$key$jscomp$92$$] == $val$jscomp$33$$) {
      return !0;
    }
  }
  return !1;
};
$JSCompiler_prototypeAlias$$.equals = function($otherMap$$, $equalityFn_opt_equalityFn$$) {
  if (this === $otherMap$$) {
    return !0;
  }
  if (this.$f$ != $otherMap$$.$getCount$()) {
    return !1;
  }
  $equalityFn_opt_equalityFn$$ = $equalityFn_opt_equalityFn$$ || $goog$structs$Map$defaultEquals$$;
  $JSCompiler_StaticMethods_cleanupKeysArray_$$(this);
  for (var $key$jscomp$93$$, $i$jscomp$104$$ = 0; $key$jscomp$93$$ = this.$a$[$i$jscomp$104$$]; $i$jscomp$104$$++) {
    if (!$equalityFn_opt_equalityFn$$(this.get($key$jscomp$93$$), $otherMap$$.get($key$jscomp$93$$))) {
      return !1;
    }
  }
  return !0;
};
var $goog$structs$Map$defaultEquals$$ = function($a$jscomp$17$$, $b$jscomp$15$$) {
  return $a$jscomp$17$$ === $b$jscomp$15$$;
};
$goog$structs$Map$$.prototype.$isEmpty$ = function() {
  return 0 == this.$f$;
};
$goog$structs$Map$$.prototype.clear = function() {
  this.$b$ = {};
  this.$g$ = this.$f$ = this.$a$.length = 0;
};
$goog$structs$Map$$.prototype.remove = function($key$jscomp$94$$) {
  return $goog$structs$Map$hasKey_$$(this.$b$, $key$jscomp$94$$) ? (delete this.$b$[$key$jscomp$94$$], this.$f$--, this.$g$++, this.$a$.length > 2 * this.$f$ && $JSCompiler_StaticMethods_cleanupKeysArray_$$(this), !0) : !1;
};
var $JSCompiler_StaticMethods_cleanupKeysArray_$$ = function($JSCompiler_StaticMethods_cleanupKeysArray_$self$$) {
  var $destIndex$$, $srcIndex$$;
  if ($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$f$ != $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$.length) {
    for ($destIndex$$ = $srcIndex$$ = 0; $srcIndex$$ < $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$.length;) {
      var $key$jscomp$95$$ = $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$[$srcIndex$$];
      $goog$structs$Map$hasKey_$$($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$b$, $key$jscomp$95$$) && ($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$[$destIndex$$++] = $key$jscomp$95$$);
      $srcIndex$$++;
    }
    $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$.length = $destIndex$$;
  }
  if ($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$f$ != $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$.length) {
    var $seen$jscomp$2$$ = {};
    for ($destIndex$$ = $srcIndex$$ = 0; $srcIndex$$ < $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$.length;) {
      $key$jscomp$95$$ = $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$[$srcIndex$$], $goog$structs$Map$hasKey_$$($seen$jscomp$2$$, $key$jscomp$95$$) || ($JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$[$destIndex$$++] = $key$jscomp$95$$, $seen$jscomp$2$$[$key$jscomp$95$$] = 1), $srcIndex$$++;
    }
    $JSCompiler_StaticMethods_cleanupKeysArray_$self$$.$a$.length = $destIndex$$;
  }
};
$goog$structs$Map$$.prototype.get = function($key$jscomp$96$$, $opt_val$jscomp$1$$) {
  return $goog$structs$Map$hasKey_$$(this.$b$, $key$jscomp$96$$) ? this.$b$[$key$jscomp$96$$] : $opt_val$jscomp$1$$;
};
$goog$structs$Map$$.prototype.set = function($key$jscomp$97$$, $value$jscomp$149$$) {
  $goog$structs$Map$hasKey_$$(this.$b$, $key$jscomp$97$$) || (this.$f$++, this.$a$.push($key$jscomp$97$$), this.$g$++);
  this.$b$[$key$jscomp$97$$] = $value$jscomp$149$$;
};
var $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$ = function($JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$self$$, $map$jscomp$1_values$jscomp$9$$) {
  if ($map$jscomp$1_values$jscomp$9$$ instanceof $goog$structs$Map$$) {
    var $keys$jscomp$3$$ = $map$jscomp$1_values$jscomp$9$$.$getKeys$();
    $map$jscomp$1_values$jscomp$9$$ = $map$jscomp$1_values$jscomp$9$$.$getValues$();
  } else {
    $keys$jscomp$3$$ = $goog$object$getKeys$$($map$jscomp$1_values$jscomp$9$$), $map$jscomp$1_values$jscomp$9$$ = $goog$object$getValues$$($map$jscomp$1_values$jscomp$9$$);
  }
  for (var $i$jscomp$105$$ = 0; $i$jscomp$105$$ < $keys$jscomp$3$$.length; $i$jscomp$105$$++) {
    $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$self$$.set($keys$jscomp$3$$[$i$jscomp$105$$], $map$jscomp$1_values$jscomp$9$$[$i$jscomp$105$$]);
  }
};
$goog$structs$Map$$.prototype.forEach = function($f$jscomp$50$$, $opt_obj$jscomp$44$$) {
  for (var $keys$jscomp$4$$ = this.$getKeys$(), $i$jscomp$106$$ = 0; $i$jscomp$106$$ < $keys$jscomp$4$$.length; $i$jscomp$106$$++) {
    var $key$jscomp$98$$ = $keys$jscomp$4$$[$i$jscomp$106$$], $value$jscomp$150$$ = this.get($key$jscomp$98$$);
    $f$jscomp$50$$.call($opt_obj$jscomp$44$$, $value$jscomp$150$$, $key$jscomp$98$$, this);
  }
};
$goog$structs$Map$$.prototype.clone = function() {
  return new $goog$structs$Map$$(this);
};
var $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$ = function($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$) {
  $JSCompiler_StaticMethods_cleanupKeysArray_$$($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$);
  for (var $obj$jscomp$95$$ = {}, $i$jscomp$108$$ = 0; $i$jscomp$108$$ < $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$.$a$.length; $i$jscomp$108$$++) {
    var $key$jscomp$100$$ = $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$.$a$[$i$jscomp$108$$];
    $obj$jscomp$95$$[$key$jscomp$100$$] = $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$self$$.$b$[$key$jscomp$100$$];
  }
  return $obj$jscomp$95$$;
};
$goog$structs$Map$$.prototype.$__iterator__$ = function($opt_keys$jscomp$1$$) {
  $JSCompiler_StaticMethods_cleanupKeysArray_$$(this);
  var $i$jscomp$109$$ = 0, $version$jscomp$15$$ = this.$g$, $selfObj$jscomp$4$$ = this, $newIter$jscomp$5$$ = new $goog$iter$Iterator$$;
  $newIter$jscomp$5$$.next = function() {
    if ($version$jscomp$15$$ != $selfObj$jscomp$4$$.$g$) {
      throw Error("The map has changed since the iterator was created");
    }
    if ($i$jscomp$109$$ >= $selfObj$jscomp$4$$.$a$.length) {
      throw $goog$iter$StopIteration$$;
    }
    var $newIter$jscomp$5$$ = $selfObj$jscomp$4$$.$a$[$i$jscomp$109$$++];
    return $opt_keys$jscomp$1$$ ? $newIter$jscomp$5$$ : $selfObj$jscomp$4$$.$b$[$newIter$jscomp$5$$];
  };
  return $newIter$jscomp$5$$;
};
var $goog$structs$Map$hasKey_$$ = function($obj$jscomp$96$$, $key$jscomp$102$$) {
  return Object.prototype.hasOwnProperty.call($obj$jscomp$96$$, $key$jscomp$102$$);
};
var $goog$structs$getCount$$ = function($col$$) {
  return $col$$.$getCount$ && "function" == typeof $col$$.$getCount$ ? $col$$.$getCount$() : $goog$isArrayLike$$($col$$) || $goog$isString$$($col$$) ? $col$$.length : $goog$object$getCount$$($col$$);
}, $goog$structs$getValues$$ = function($col$jscomp$1$$) {
  if ($col$jscomp$1$$.$getValues$ && "function" == typeof $col$jscomp$1$$.$getValues$) {
    return $col$jscomp$1$$.$getValues$();
  }
  if ($goog$isString$$($col$jscomp$1$$)) {
    return $col$jscomp$1$$.split("");
  }
  if ($goog$isArrayLike$$($col$jscomp$1$$)) {
    for (var $rv$jscomp$14$$ = [], $l$jscomp$13$$ = $col$jscomp$1$$.length, $i$jscomp$110$$ = 0; $i$jscomp$110$$ < $l$jscomp$13$$; $i$jscomp$110$$++) {
      $rv$jscomp$14$$.push($col$jscomp$1$$[$i$jscomp$110$$]);
    }
    return $rv$jscomp$14$$;
  }
  return $goog$object$getValues$$($col$jscomp$1$$);
}, $goog$structs$getKeys$$ = function($col$jscomp$2_l$jscomp$14$$) {
  if ($col$jscomp$2_l$jscomp$14$$.$getKeys$ && "function" == typeof $col$jscomp$2_l$jscomp$14$$.$getKeys$) {
    return $col$jscomp$2_l$jscomp$14$$.$getKeys$();
  }
  if (!$col$jscomp$2_l$jscomp$14$$.$getValues$ || "function" != typeof $col$jscomp$2_l$jscomp$14$$.$getValues$) {
    if ($goog$isArrayLike$$($col$jscomp$2_l$jscomp$14$$) || $goog$isString$$($col$jscomp$2_l$jscomp$14$$)) {
      var $rv$jscomp$15$$ = [];
      $col$jscomp$2_l$jscomp$14$$ = $col$jscomp$2_l$jscomp$14$$.length;
      for (var $i$jscomp$111$$ = 0; $i$jscomp$111$$ < $col$jscomp$2_l$jscomp$14$$; $i$jscomp$111$$++) {
        $rv$jscomp$15$$.push($i$jscomp$111$$);
      }
      return $rv$jscomp$15$$;
    }
    return $goog$object$getKeys$$($col$jscomp$2_l$jscomp$14$$);
  }
}, $goog$structs$isEmpty$$ = function($col$jscomp$4$$) {
  return $col$jscomp$4$$.$isEmpty$ && "function" == typeof $col$jscomp$4$$.$isEmpty$ ? $col$jscomp$4$$.$isEmpty$() : $goog$isArrayLike$$($col$jscomp$4$$) || $goog$isString$$($col$jscomp$4$$) ? $goog$array$isEmpty$$($col$jscomp$4$$) : $goog$object$isEmpty$$($col$jscomp$4$$);
}, $goog$structs$forEach$$ = function($col$jscomp$6$$, $f$jscomp$51$$, $opt_obj$jscomp$45$$) {
  if ($col$jscomp$6$$.forEach && "function" == typeof $col$jscomp$6$$.forEach) {
    $col$jscomp$6$$.forEach($f$jscomp$51$$, $opt_obj$jscomp$45$$);
  } else {
    if ($goog$isArrayLike$$($col$jscomp$6$$) || $goog$isString$$($col$jscomp$6$$)) {
      $goog$array$forEach$$($col$jscomp$6$$, $f$jscomp$51$$, $opt_obj$jscomp$45$$);
    } else {
      for (var $keys$jscomp$5$$ = $goog$structs$getKeys$$($col$jscomp$6$$), $values$jscomp$10$$ = $goog$structs$getValues$$($col$jscomp$6$$), $l$jscomp$15$$ = $values$jscomp$10$$.length, $i$jscomp$112$$ = 0; $i$jscomp$112$$ < $l$jscomp$15$$; $i$jscomp$112$$++) {
        $f$jscomp$51$$.call($opt_obj$jscomp$45$$, $values$jscomp$10$$[$i$jscomp$112$$], $keys$jscomp$5$$ && $keys$jscomp$5$$[$i$jscomp$112$$], $col$jscomp$6$$);
      }
    }
  }
}, $goog$structs$map$$ = function($col$jscomp$8$$, $f$jscomp$53$$, $opt_obj$jscomp$47$$) {
  if ("function" == typeof $col$jscomp$8$$.map) {
    return $col$jscomp$8$$.map($f$jscomp$53$$, $opt_obj$jscomp$47$$);
  }
  if ($goog$isArrayLike$$($col$jscomp$8$$) || $goog$isString$$($col$jscomp$8$$)) {
    return $goog$array$map$$($col$jscomp$8$$, $f$jscomp$53$$, $opt_obj$jscomp$47$$);
  }
  var $keys$jscomp$7$$ = $goog$structs$getKeys$$($col$jscomp$8$$), $values$jscomp$12$$ = $goog$structs$getValues$$($col$jscomp$8$$), $l$jscomp$17$$ = $values$jscomp$12$$.length;
  if ($keys$jscomp$7$$) {
    var $rv$jscomp$17$$ = {};
    for (var $i$jscomp$114$$ = 0; $i$jscomp$114$$ < $l$jscomp$17$$; $i$jscomp$114$$++) {
      $rv$jscomp$17$$[$keys$jscomp$7$$[$i$jscomp$114$$]] = $f$jscomp$53$$.call($opt_obj$jscomp$47$$, $values$jscomp$12$$[$i$jscomp$114$$], $keys$jscomp$7$$[$i$jscomp$114$$], $col$jscomp$8$$);
    }
  } else {
    for ($rv$jscomp$17$$ = [], $i$jscomp$114$$ = 0; $i$jscomp$114$$ < $l$jscomp$17$$; $i$jscomp$114$$++) {
      $rv$jscomp$17$$[$i$jscomp$114$$] = $f$jscomp$53$$.call($opt_obj$jscomp$47$$, $values$jscomp$12$$[$i$jscomp$114$$], void 0, $col$jscomp$8$$);
    }
  }
  return $rv$jscomp$17$$;
}, $goog$structs$every$$ = function($col$jscomp$10$$, $f$jscomp$55$$) {
  if ("function" == typeof $col$jscomp$10$$.every) {
    return $col$jscomp$10$$.every($f$jscomp$55$$, void 0);
  }
  if ($goog$isArrayLike$$($col$jscomp$10$$) || $goog$isString$$($col$jscomp$10$$)) {
    return $goog$array$every$$($col$jscomp$10$$, $f$jscomp$55$$, void 0);
  }
  for (var $keys$jscomp$9$$ = $goog$structs$getKeys$$($col$jscomp$10$$), $values$jscomp$14$$ = $goog$structs$getValues$$($col$jscomp$10$$), $l$jscomp$19$$ = $values$jscomp$14$$.length, $i$jscomp$116$$ = 0; $i$jscomp$116$$ < $l$jscomp$19$$; $i$jscomp$116$$++) {
    if (!$f$jscomp$55$$.call(void 0, $values$jscomp$14$$[$i$jscomp$116$$], $keys$jscomp$9$$ && $keys$jscomp$9$$[$i$jscomp$116$$], $col$jscomp$10$$)) {
      return !1;
    }
  }
  return !0;
};
var $goog$Thenable$addImplementation$$ = function($ctor$jscomp$2$$) {
  $ctor$jscomp$2$$.prototype.then = $ctor$jscomp$2$$.prototype.then;
  $ctor$jscomp$2$$.prototype.$goog_Thenable = !0;
}, $goog$Thenable$isImplementedBy$$ = function($object$jscomp$13$$) {
  if (!$object$jscomp$13$$) {
    return !1;
  }
  try {
    return !!$object$jscomp$13$$.$goog_Thenable;
  } catch ($e$jscomp$41$$) {
    return !1;
  }
};
var $goog$Promise$$ = function($resolver$jscomp$6$$, $opt_context$jscomp$13$$) {
  this.$a$ = 0;
  this.$l$ = void 0;
  this.$g$ = this.$b$ = this.$f$ = null;
  this.$h$ = this.$j$ = !1;
  if ($resolver$jscomp$6$$ != $goog$nullFunction$$) {
    try {
      var $self$jscomp$3$$ = this;
      $resolver$jscomp$6$$.call($opt_context$jscomp$13$$, function($resolver$jscomp$6$$) {
        $JSCompiler_StaticMethods_resolve_$$($self$jscomp$3$$, 2, $resolver$jscomp$6$$);
      }, function($resolver$jscomp$6$$) {
        if (!($resolver$jscomp$6$$ instanceof $goog$Promise$CancellationError$$)) {
          try {
            if ($resolver$jscomp$6$$ instanceof Error) {
              throw $resolver$jscomp$6$$;
            }
            throw Error("Promise rejected.");
          } catch ($e$jscomp$42$$) {
          }
        }
        $JSCompiler_StaticMethods_resolve_$$($self$jscomp$3$$, 3, $resolver$jscomp$6$$);
      });
    } catch ($e$jscomp$43$$) {
      $JSCompiler_StaticMethods_resolve_$$(this, 3, $e$jscomp$43$$);
    }
  }
}, $goog$Promise$CallbackEntry_$$ = function() {
  this.next = this.$h$ = this.$f$ = this.$b$ = this.$a$ = null;
  this.$g$ = !1;
};
$goog$Promise$CallbackEntry_$$.prototype.reset = function() {
  this.$h$ = this.$f$ = this.$b$ = this.$a$ = null;
  this.$g$ = !1;
};
var $goog$Promise$freelist_$$ = new $goog$async$FreeList$$(function() {
  return new $goog$Promise$CallbackEntry_$$;
}, function($item$jscomp$8$$) {
  $item$jscomp$8$$.reset();
}, 100), $goog$Promise$getCallbackEntry_$$ = function($onFulfilled$$, $onRejected$jscomp$4$$, $context$jscomp$3$$) {
  var $entry$jscomp$5$$ = $goog$Promise$freelist_$$.get();
  $entry$jscomp$5$$.$b$ = $onFulfilled$$;
  $entry$jscomp$5$$.$f$ = $onRejected$jscomp$4$$;
  $entry$jscomp$5$$.$h$ = $context$jscomp$3$$;
  return $entry$jscomp$5$$;
}, $goog$Promise$resolve$$ = function($opt_value$jscomp$26$$) {
  if ($opt_value$jscomp$26$$ instanceof $goog$Promise$$) {
    return $opt_value$jscomp$26$$;
  }
  var $promise$jscomp$6$$ = new $goog$Promise$$($goog$nullFunction$$);
  $JSCompiler_StaticMethods_resolve_$$($promise$jscomp$6$$, 2, $opt_value$jscomp$26$$);
  return $promise$jscomp$6$$;
}, $goog$Promise$reject$$ = function($opt_reason$jscomp$6$$) {
  return new $goog$Promise$$(function($resolve$jscomp$17$$, $reject$jscomp$17$$) {
    $reject$jscomp$17$$($opt_reason$jscomp$6$$);
  });
}, $goog$Promise$resolveThen_$$ = function($value$jscomp$153$$, $onFulfilled$jscomp$1$$, $onRejected$jscomp$5$$) {
  $goog$Promise$maybeThen_$$($value$jscomp$153$$, $onFulfilled$jscomp$1$$, $onRejected$jscomp$5$$, null) || $goog$async$run$$($goog$partial$$($onFulfilled$jscomp$1$$, $value$jscomp$153$$));
}, $goog$Promise$race$$ = function($promises$jscomp$2$$) {
  return new $goog$Promise$$(function($resolve$jscomp$18$$, $reject$jscomp$18$$) {
    $promises$jscomp$2$$.length || $resolve$jscomp$18$$(void 0);
    for (var $i$jscomp$117$$ = 0, $promise$jscomp$7$$; $i$jscomp$117$$ < $promises$jscomp$2$$.length; $i$jscomp$117$$++) {
      $promise$jscomp$7$$ = $promises$jscomp$2$$[$i$jscomp$117$$], $goog$Promise$resolveThen_$$($promise$jscomp$7$$, $resolve$jscomp$18$$, $reject$jscomp$18$$);
    }
  });
}, $goog$Promise$all$$ = function($promises$jscomp$3$$) {
  return new $goog$Promise$$(function($resolve$jscomp$19$$, $reject$jscomp$19$$) {
    var $toFulfill$$ = $promises$jscomp$3$$.length, $values$jscomp$15$$ = [];
    if ($toFulfill$$) {
      for (var $onFulfill$$ = function($promises$jscomp$3$$, $reject$jscomp$19$$) {
        $toFulfill$$--;
        $values$jscomp$15$$[$promises$jscomp$3$$] = $reject$jscomp$19$$;
        0 == $toFulfill$$ && $resolve$jscomp$19$$($values$jscomp$15$$);
      }, $onReject$$ = function($promises$jscomp$3$$) {
        $reject$jscomp$19$$($promises$jscomp$3$$);
      }, $i$jscomp$118$$ = 0, $promise$jscomp$8$$; $i$jscomp$118$$ < $promises$jscomp$3$$.length; $i$jscomp$118$$++) {
        $promise$jscomp$8$$ = $promises$jscomp$3$$[$i$jscomp$118$$], $goog$Promise$resolveThen_$$($promise$jscomp$8$$, $goog$partial$$($onFulfill$$, $i$jscomp$118$$), $onReject$$);
      }
    } else {
      $resolve$jscomp$19$$($values$jscomp$15$$);
    }
  });
}, $goog$Promise$allSettled$$ = function($promises$jscomp$4$$) {
  return new $goog$Promise$$(function($resolve$jscomp$20$$) {
    var $toSettle$$ = $promises$jscomp$4$$.length, $results$$ = [];
    if ($toSettle$$) {
      for (var $onSettled$$ = function($promises$jscomp$4$$, $onSettled$$, $i$jscomp$119$$) {
        $toSettle$$--;
        $results$$[$promises$jscomp$4$$] = $onSettled$$ ? {$fulfilled$:!0, value:$i$jscomp$119$$} : {$fulfilled$:!1, reason:$i$jscomp$119$$};
        0 == $toSettle$$ && $resolve$jscomp$20$$($results$$);
      }, $i$jscomp$119$$ = 0, $promise$jscomp$9$$; $i$jscomp$119$$ < $promises$jscomp$4$$.length; $i$jscomp$119$$++) {
        $promise$jscomp$9$$ = $promises$jscomp$4$$[$i$jscomp$119$$], $goog$Promise$resolveThen_$$($promise$jscomp$9$$, $goog$partial$$($onSettled$$, $i$jscomp$119$$, !0), $goog$partial$$($onSettled$$, $i$jscomp$119$$, !1));
      }
    } else {
      $resolve$jscomp$20$$($results$$);
    }
  });
}, $goog$Promise$withResolver$$ = function() {
  var $resolve$jscomp$22$$, $reject$jscomp$22$$, $promise$jscomp$11$$ = new $goog$Promise$$(function($promise$jscomp$11$$, $rj$$) {
    $resolve$jscomp$22$$ = $promise$jscomp$11$$;
    $reject$jscomp$22$$ = $rj$$;
  });
  return new $goog$Promise$Resolver_$$($promise$jscomp$11$$, $resolve$jscomp$22$$, $reject$jscomp$22$$);
};
$goog$Promise$$.prototype.then = function($opt_onFulfilled$jscomp$7$$, $opt_onRejected$jscomp$7$$, $opt_context$jscomp$14$$) {
  null != $opt_onFulfilled$jscomp$7$$ && $goog$asserts$assertFunction$$($opt_onFulfilled$jscomp$7$$, "opt_onFulfilled should be a function.");
  null != $opt_onRejected$jscomp$7$$ && $goog$asserts$assertFunction$$($opt_onRejected$jscomp$7$$, "opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");
  return $JSCompiler_StaticMethods_addChildPromise_$$(this, $goog$isFunction$$($opt_onFulfilled$jscomp$7$$) ? $opt_onFulfilled$jscomp$7$$ : null, $goog$isFunction$$($opt_onRejected$jscomp$7$$) ? $opt_onRejected$jscomp$7$$ : null, $opt_context$jscomp$14$$);
};
$goog$Thenable$addImplementation$$($goog$Promise$$);
var $JSCompiler_StaticMethods_goog_Promise_prototype$thenAlways$$ = function($JSCompiler_StaticMethods_goog_Promise_prototype$thenAlways$self$$, $entry$jscomp$7_onSettled$jscomp$1$$, $opt_context$jscomp$16$$) {
  $entry$jscomp$7_onSettled$jscomp$1$$ = $goog$Promise$getCallbackEntry_$$($entry$jscomp$7_onSettled$jscomp$1$$, $entry$jscomp$7_onSettled$jscomp$1$$, $opt_context$jscomp$16$$);
  $entry$jscomp$7_onSettled$jscomp$1$$.$g$ = !0;
  $JSCompiler_StaticMethods_addCallbackEntry_$$($JSCompiler_StaticMethods_goog_Promise_prototype$thenAlways$self$$, $entry$jscomp$7_onSettled$jscomp$1$$);
  return $JSCompiler_StaticMethods_goog_Promise_prototype$thenAlways$self$$;
}, $JSCompiler_StaticMethods_thenCatch$$ = function($JSCompiler_StaticMethods_thenCatch$self$$, $onRejected$jscomp$6$$, $opt_context$jscomp$17$$) {
  return $JSCompiler_StaticMethods_addChildPromise_$$($JSCompiler_StaticMethods_thenCatch$self$$, null, $onRejected$jscomp$6$$, $opt_context$jscomp$17$$);
};
$goog$Promise$$.prototype.cancel = function($opt_message$jscomp$21$$) {
  0 == this.$a$ && $goog$async$run$$(function() {
    var $err$jscomp$14$$ = new $goog$Promise$CancellationError$$($opt_message$jscomp$21$$);
    $JSCompiler_StaticMethods_cancelInternal_$$(this, $err$jscomp$14$$);
  }, this);
};
var $JSCompiler_StaticMethods_cancelInternal_$$ = function($JSCompiler_StaticMethods_cancelInternal_$self$$, $err$jscomp$15$$) {
  if (0 == $JSCompiler_StaticMethods_cancelInternal_$self$$.$a$) {
    if ($JSCompiler_StaticMethods_cancelInternal_$self$$.$f$) {
      var $JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$ = $JSCompiler_StaticMethods_cancelInternal_$self$$.$f$;
      if ($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$.$b$) {
        for (var $childCount$jscomp$inline_603_previous$jscomp$inline_4252$$ = 0, $childEntry$jscomp$inline_604$$ = null, $beforeChildEntry$jscomp$inline_605$$ = null, $entry$jscomp$inline_606$$ = $JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$.$b$; $entry$jscomp$inline_606$$ && ($entry$jscomp$inline_606$$.$g$ || ($childCount$jscomp$inline_603_previous$jscomp$inline_4252$$++, $entry$jscomp$inline_606$$.$a$ == $JSCompiler_StaticMethods_cancelInternal_$self$$ && ($childEntry$jscomp$inline_604$$ = 
        $entry$jscomp$inline_606$$), !($childEntry$jscomp$inline_604$$ && 1 < $childCount$jscomp$inline_603_previous$jscomp$inline_4252$$))); $entry$jscomp$inline_606$$ = $entry$jscomp$inline_606$$.next) {
          $childEntry$jscomp$inline_604$$ || ($beforeChildEntry$jscomp$inline_605$$ = $entry$jscomp$inline_606$$);
        }
        $childEntry$jscomp$inline_604$$ && (0 == $JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$.$a$ && 1 == $childCount$jscomp$inline_603_previous$jscomp$inline_4252$$ ? $JSCompiler_StaticMethods_cancelInternal_$$($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$, $err$jscomp$15$$) : ($beforeChildEntry$jscomp$inline_605$$ ? ($childCount$jscomp$inline_603_previous$jscomp$inline_4252$$ = $beforeChildEntry$jscomp$inline_605$$, $goog$asserts$assert$$($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$.$b$), 
        $goog$asserts$assert$$(null != $childCount$jscomp$inline_603_previous$jscomp$inline_4252$$), $childCount$jscomp$inline_603_previous$jscomp$inline_4252$$.next == $JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$.$g$ && ($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$.$g$ = $childCount$jscomp$inline_603_previous$jscomp$inline_4252$$), $childCount$jscomp$inline_603_previous$jscomp$inline_4252$$.next = $childCount$jscomp$inline_603_previous$jscomp$inline_4252$$.next.next) : 
        $JSCompiler_StaticMethods_popEntry_$$($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$), $JSCompiler_StaticMethods_executeCallback_$$($JSCompiler_StaticMethods_cancelChild_$self$jscomp$inline_600$$, $childEntry$jscomp$inline_604$$, 3, $err$jscomp$15$$)));
      }
      $JSCompiler_StaticMethods_cancelInternal_$self$$.$f$ = null;
    } else {
      $JSCompiler_StaticMethods_resolve_$$($JSCompiler_StaticMethods_cancelInternal_$self$$, 3, $err$jscomp$15$$);
    }
  }
}, $JSCompiler_StaticMethods_addCallbackEntry_$$ = function($JSCompiler_StaticMethods_addCallbackEntry_$self$$, $callbackEntry$$) {
  $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$b$ || 2 != $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$a$ && 3 != $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$a$ || $JSCompiler_StaticMethods_scheduleCallbacks_$$($JSCompiler_StaticMethods_addCallbackEntry_$self$$);
  $goog$asserts$assert$$(null != $callbackEntry$$.$b$);
  $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$g$ ? $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$g$.next = $callbackEntry$$ : $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$b$ = $callbackEntry$$;
  $JSCompiler_StaticMethods_addCallbackEntry_$self$$.$g$ = $callbackEntry$$;
}, $JSCompiler_StaticMethods_addChildPromise_$$ = function($JSCompiler_StaticMethods_addChildPromise_$self$$, $onFulfilled$jscomp$2$$, $onRejected$jscomp$7$$, $opt_context$jscomp$18$$) {
  var $callbackEntry$jscomp$1$$ = $goog$Promise$getCallbackEntry_$$(null, null, null);
  $callbackEntry$jscomp$1$$.$a$ = new $goog$Promise$$(function($JSCompiler_StaticMethods_addChildPromise_$self$$, $reject$jscomp$23$$) {
    $callbackEntry$jscomp$1$$.$b$ = $onFulfilled$jscomp$2$$ ? function($onRejected$jscomp$7$$) {
      try {
        var $callbackEntry$jscomp$1$$ = $onFulfilled$jscomp$2$$.call($opt_context$jscomp$18$$, $onRejected$jscomp$7$$);
        $JSCompiler_StaticMethods_addChildPromise_$self$$($callbackEntry$jscomp$1$$);
      } catch ($err$jscomp$17$$) {
        $reject$jscomp$23$$($err$jscomp$17$$);
      }
    } : $JSCompiler_StaticMethods_addChildPromise_$self$$;
    $callbackEntry$jscomp$1$$.$f$ = $onRejected$jscomp$7$$ ? function($onFulfilled$jscomp$2$$) {
      try {
        var $callbackEntry$jscomp$1$$ = $onRejected$jscomp$7$$.call($opt_context$jscomp$18$$, $onFulfilled$jscomp$2$$);
        !$goog$isDef$$($callbackEntry$jscomp$1$$) && $onFulfilled$jscomp$2$$ instanceof $goog$Promise$CancellationError$$ ? $reject$jscomp$23$$($onFulfilled$jscomp$2$$) : $JSCompiler_StaticMethods_addChildPromise_$self$$($callbackEntry$jscomp$1$$);
      } catch ($err$jscomp$18$$) {
        $reject$jscomp$23$$($err$jscomp$18$$);
      }
    } : $reject$jscomp$23$$;
  });
  $callbackEntry$jscomp$1$$.$a$.$f$ = $JSCompiler_StaticMethods_addChildPromise_$self$$;
  $JSCompiler_StaticMethods_addCallbackEntry_$$($JSCompiler_StaticMethods_addChildPromise_$self$$, $callbackEntry$jscomp$1$$);
  return $callbackEntry$jscomp$1$$.$a$;
};
$goog$Promise$$.prototype.$w$ = function($value$jscomp$157$$) {
  $goog$asserts$assert$$(1 == this.$a$);
  this.$a$ = 0;
  $JSCompiler_StaticMethods_resolve_$$(this, 2, $value$jscomp$157$$);
};
$goog$Promise$$.prototype.$A$ = function($reason$jscomp$20$$) {
  $goog$asserts$assert$$(1 == this.$a$);
  this.$a$ = 0;
  $JSCompiler_StaticMethods_resolve_$$(this, 3, $reason$jscomp$20$$);
};
var $JSCompiler_StaticMethods_resolve_$$ = function($JSCompiler_StaticMethods_resolve_$self$$, $state$jscomp$4$$, $x$jscomp$85$$) {
  0 == $JSCompiler_StaticMethods_resolve_$self$$.$a$ && ($JSCompiler_StaticMethods_resolve_$self$$ === $x$jscomp$85$$ && ($state$jscomp$4$$ = 3, $x$jscomp$85$$ = new TypeError("Promise cannot resolve to itself")), $JSCompiler_StaticMethods_resolve_$self$$.$a$ = 1, $goog$Promise$maybeThen_$$($x$jscomp$85$$, $JSCompiler_StaticMethods_resolve_$self$$.$w$, $JSCompiler_StaticMethods_resolve_$self$$.$A$, $JSCompiler_StaticMethods_resolve_$self$$) || ($JSCompiler_StaticMethods_resolve_$self$$.$l$ = $x$jscomp$85$$, 
  $JSCompiler_StaticMethods_resolve_$self$$.$a$ = $state$jscomp$4$$, $JSCompiler_StaticMethods_resolve_$self$$.$f$ = null, $JSCompiler_StaticMethods_scheduleCallbacks_$$($JSCompiler_StaticMethods_resolve_$self$$), 3 != $state$jscomp$4$$ || $x$jscomp$85$$ instanceof $goog$Promise$CancellationError$$ || $goog$Promise$addUnhandledRejection_$$($JSCompiler_StaticMethods_resolve_$self$$, $x$jscomp$85$$)));
}, $goog$Promise$maybeThen_$$ = function($value$jscomp$158$$, $onFulfilled$jscomp$3$$, $onRejected$jscomp$8$$, $context$jscomp$4$$) {
  if ($value$jscomp$158$$ instanceof $goog$Promise$$) {
    return null != $onFulfilled$jscomp$3$$ && $goog$asserts$assertFunction$$($onFulfilled$jscomp$3$$, "opt_onFulfilled should be a function."), null != $onRejected$jscomp$8$$ && $goog$asserts$assertFunction$$($onRejected$jscomp$8$$, "opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"), $JSCompiler_StaticMethods_addCallbackEntry_$$($value$jscomp$158$$, $goog$Promise$getCallbackEntry_$$($onFulfilled$jscomp$3$$ || $goog$nullFunction$$, $onRejected$jscomp$8$$ || 
    null, $context$jscomp$4$$)), !0;
  }
  if ($goog$Thenable$isImplementedBy$$($value$jscomp$158$$)) {
    return $value$jscomp$158$$.then($onFulfilled$jscomp$3$$, $onRejected$jscomp$8$$, $context$jscomp$4$$), !0;
  }
  if ($goog$isObject$$($value$jscomp$158$$)) {
    try {
      var $then$$ = $value$jscomp$158$$.then;
      if ($goog$isFunction$$($then$$)) {
        return $goog$Promise$tryThen_$$($value$jscomp$158$$, $then$$, $onFulfilled$jscomp$3$$, $onRejected$jscomp$8$$, $context$jscomp$4$$), !0;
      }
    } catch ($e$jscomp$44$$) {
      return $onRejected$jscomp$8$$.call($context$jscomp$4$$, $e$jscomp$44$$), !0;
    }
  }
  return !1;
}, $goog$Promise$tryThen_$$ = function($thenable$$, $then$jscomp$1$$, $onFulfilled$jscomp$4$$, $onRejected$jscomp$9$$, $context$jscomp$5$$) {
  var $called$jscomp$1$$ = !1, $resolve$jscomp$24$$ = function($thenable$$) {
    $called$jscomp$1$$ || ($called$jscomp$1$$ = !0, $onFulfilled$jscomp$4$$.call($context$jscomp$5$$, $thenable$$));
  }, $reject$jscomp$24$$ = function($thenable$$) {
    $called$jscomp$1$$ || ($called$jscomp$1$$ = !0, $onRejected$jscomp$9$$.call($context$jscomp$5$$, $thenable$$));
  };
  try {
    $then$jscomp$1$$.call($thenable$$, $resolve$jscomp$24$$, $reject$jscomp$24$$);
  } catch ($e$jscomp$45$$) {
    $reject$jscomp$24$$($e$jscomp$45$$);
  }
}, $JSCompiler_StaticMethods_scheduleCallbacks_$$ = function($JSCompiler_StaticMethods_scheduleCallbacks_$self$$) {
  $JSCompiler_StaticMethods_scheduleCallbacks_$self$$.$j$ || ($JSCompiler_StaticMethods_scheduleCallbacks_$self$$.$j$ = !0, $goog$async$run$$($JSCompiler_StaticMethods_scheduleCallbacks_$self$$.$o$, $JSCompiler_StaticMethods_scheduleCallbacks_$self$$));
}, $JSCompiler_StaticMethods_popEntry_$$ = function($JSCompiler_StaticMethods_popEntry_$self$$) {
  var $entry$jscomp$10$$ = null;
  $JSCompiler_StaticMethods_popEntry_$self$$.$b$ && ($entry$jscomp$10$$ = $JSCompiler_StaticMethods_popEntry_$self$$.$b$, $JSCompiler_StaticMethods_popEntry_$self$$.$b$ = $entry$jscomp$10$$.next, $entry$jscomp$10$$.next = null);
  $JSCompiler_StaticMethods_popEntry_$self$$.$b$ || ($JSCompiler_StaticMethods_popEntry_$self$$.$g$ = null);
  null != $entry$jscomp$10$$ && $goog$asserts$assert$$(null != $entry$jscomp$10$$.$b$);
  return $entry$jscomp$10$$;
};
$goog$Promise$$.prototype.$o$ = function() {
  for (var $entry$jscomp$11$$; $entry$jscomp$11$$ = $JSCompiler_StaticMethods_popEntry_$$(this);) {
    $JSCompiler_StaticMethods_executeCallback_$$(this, $entry$jscomp$11$$, this.$a$, this.$l$);
  }
  this.$j$ = !1;
};
var $JSCompiler_StaticMethods_executeCallback_$$ = function($JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_617$$, $callbackEntry$jscomp$2$$, $state$jscomp$5$$, $result$jscomp$25$$) {
  if (3 == $state$jscomp$5$$ && $callbackEntry$jscomp$2$$.$f$ && !$callbackEntry$jscomp$2$$.$g$) {
    for (; $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_617$$ && $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_617$$.$h$; $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_617$$ = $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_617$$.$f$) {
      $JSCompiler_StaticMethods_executeCallback_$self_p$jscomp$inline_617$$.$h$ = !1;
    }
  }
  if ($callbackEntry$jscomp$2$$.$a$) {
    $callbackEntry$jscomp$2$$.$a$.$f$ = null, $goog$Promise$invokeCallback_$$($callbackEntry$jscomp$2$$, $state$jscomp$5$$, $result$jscomp$25$$);
  } else {
    try {
      $callbackEntry$jscomp$2$$.$g$ ? $callbackEntry$jscomp$2$$.$b$.call($callbackEntry$jscomp$2$$.$h$) : $goog$Promise$invokeCallback_$$($callbackEntry$jscomp$2$$, $state$jscomp$5$$, $result$jscomp$25$$);
    } catch ($err$jscomp$19$$) {
      $goog$Promise$handleRejection_$$.call(null, $err$jscomp$19$$);
    }
  }
  $JSCompiler_StaticMethods_goog_async_FreeList_prototype$put$$($goog$Promise$freelist_$$, $callbackEntry$jscomp$2$$);
}, $goog$Promise$invokeCallback_$$ = function($callbackEntry$jscomp$3$$, $state$jscomp$6$$, $result$jscomp$26$$) {
  2 == $state$jscomp$6$$ ? $callbackEntry$jscomp$3$$.$b$.call($callbackEntry$jscomp$3$$.$h$, $result$jscomp$26$$) : $callbackEntry$jscomp$3$$.$f$ && $callbackEntry$jscomp$3$$.$f$.call($callbackEntry$jscomp$3$$.$h$, $result$jscomp$26$$);
}, $goog$Promise$addUnhandledRejection_$$ = function($promise$jscomp$13$$, $reason$jscomp$22$$) {
  $promise$jscomp$13$$.$h$ = !0;
  $goog$async$run$$(function() {
    $promise$jscomp$13$$.$h$ && $goog$Promise$handleRejection_$$.call(null, $reason$jscomp$22$$);
  });
}, $goog$Promise$handleRejection_$$ = $goog$async$throwException$$, $goog$Promise$CancellationError$$ = function($opt_message$jscomp$22$$) {
  $goog$debug$Error$$.call(this, $opt_message$jscomp$22$$);
};
$goog$inherits$$($goog$Promise$CancellationError$$, $goog$debug$Error$$);
$goog$Promise$CancellationError$$.prototype.name = "cancel";
var $goog$Promise$Resolver_$$ = function($promise$jscomp$14$$, $resolve$jscomp$25$$, $reject$jscomp$25$$) {
  this.$a$ = $promise$jscomp$14$$;
  this.resolve = $resolve$jscomp$25$$;
  this.reject = $reject$jscomp$25$$;
};
var $goog$Timer$$ = function($opt_interval$$, $opt_timerObject$$) {
  $goog$events$EventTarget$$.call(this);
  this.$b$ = $opt_interval$$ || 1;
  this.$a$ = $opt_timerObject$$ || $goog$global$$;
  this.$f$ = $goog$bind$$(this.$tick_$, this);
  this.$g$ = $goog$now$$();
};
$goog$inherits$$($goog$Timer$$, $goog$events$EventTarget$$);
$JSCompiler_prototypeAlias$$ = $goog$Timer$$.prototype;
$JSCompiler_prototypeAlias$$.enabled = !1;
$JSCompiler_prototypeAlias$$.$goog_Timer_prototype$timer_$ = null;
$JSCompiler_prototypeAlias$$.$tick_$ = function() {
  if (this.enabled) {
    var $elapsed$$ = $goog$now$$() - this.$g$;
    0 < $elapsed$$ && $elapsed$$ < 0.8 * this.$b$ ? this.$goog_Timer_prototype$timer_$ = this.$a$.setTimeout(this.$f$, this.$b$ - $elapsed$$) : (this.$goog_Timer_prototype$timer_$ && (this.$a$.clearTimeout(this.$goog_Timer_prototype$timer_$), this.$goog_Timer_prototype$timer_$ = null), this.dispatchEvent("tick"), this.enabled && (this.$goog_Timer_prototype$timer_$ = this.$a$.setTimeout(this.$f$, this.$b$), this.$g$ = $goog$now$$()));
  }
};
$JSCompiler_prototypeAlias$$.start = function() {
  this.enabled = !0;
  this.$goog_Timer_prototype$timer_$ || (this.$goog_Timer_prototype$timer_$ = this.$a$.setTimeout(this.$f$, this.$b$), this.$g$ = $goog$now$$());
};
$JSCompiler_prototypeAlias$$.stop = function() {
  this.enabled = !1;
  this.$goog_Timer_prototype$timer_$ && (this.$a$.clearTimeout(this.$goog_Timer_prototype$timer_$), this.$goog_Timer_prototype$timer_$ = null);
};
$JSCompiler_prototypeAlias$$.$disposeInternal$ = function() {
  $goog$Timer$$.$superClass_$.$disposeInternal$.call(this);
  this.stop();
  delete this.$a$;
};
var $goog$Timer$callOnce$$ = function($listener$jscomp$100$$, $opt_delay$jscomp$3$$, $opt_handler$jscomp$10$$) {
  if ($goog$isFunction$$($listener$jscomp$100$$)) {
    $opt_handler$jscomp$10$$ && ($listener$jscomp$100$$ = $goog$bind$$($listener$jscomp$100$$, $opt_handler$jscomp$10$$));
  } else {
    if ($listener$jscomp$100$$ && "function" == typeof $listener$jscomp$100$$.handleEvent) {
      $listener$jscomp$100$$ = $goog$bind$$($listener$jscomp$100$$.handleEvent, $listener$jscomp$100$$);
    } else {
      throw Error("Invalid listener argument");
    }
  }
  return 2147483647 < Number($opt_delay$jscomp$3$$) ? -1 : $goog$global$$.setTimeout($listener$jscomp$100$$, $opt_delay$jscomp$3$$ || 0);
}, $goog$Timer$clear$$ = function($timerId$$) {
  $goog$global$$.clearTimeout($timerId$$);
}, $goog$Timer$promise$$ = function($delay$jscomp$1$$) {
  var $timerKey$$ = null;
  return $JSCompiler_StaticMethods_thenCatch$$(new $goog$Promise$$(function($resolve$jscomp$26$$, $reject$jscomp$26$$) {
    $timerKey$$ = $goog$Timer$callOnce$$(function() {
      $resolve$jscomp$26$$(void 0);
    }, $delay$jscomp$1$$);
    -1 == $timerKey$$ && $reject$jscomp$26$$(Error("Failed to schedule timer."));
  }), function($delay$jscomp$1$$) {
    $goog$Timer$clear$$($timerKey$$);
    throw $delay$jscomp$1$$;
  });
};
var $goog$uri$utils$splitRe_$$ = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/, $goog$uri$utils$parseQueryData$$ = function($encodedQuery_pairs$jscomp$2$$, $callback$jscomp$422$$) {
  if ($encodedQuery_pairs$jscomp$2$$) {
    $encodedQuery_pairs$jscomp$2$$ = $encodedQuery_pairs$jscomp$2$$.split("&");
    for (var $i$jscomp$122$$ = 0; $i$jscomp$122$$ < $encodedQuery_pairs$jscomp$2$$.length; $i$jscomp$122$$++) {
      var $indexOfEquals$$ = $encodedQuery_pairs$jscomp$2$$[$i$jscomp$122$$].indexOf("="), $value$jscomp$160$$ = null;
      if (0 <= $indexOfEquals$$) {
        var $name$jscomp$152$$ = $encodedQuery_pairs$jscomp$2$$[$i$jscomp$122$$].substring(0, $indexOfEquals$$);
        $value$jscomp$160$$ = $encodedQuery_pairs$jscomp$2$$[$i$jscomp$122$$].substring($indexOfEquals$$ + 1);
      } else {
        $name$jscomp$152$$ = $encodedQuery_pairs$jscomp$2$$[$i$jscomp$122$$];
      }
      $callback$jscomp$422$$($name$jscomp$152$$, $value$jscomp$160$$ ? decodeURIComponent($value$jscomp$160$$.replace(/\+/g, " ")) : "");
    }
  }
}, $goog$uri$utils$appendParam$$ = function($JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$, $key$jscomp$106_queryData$jscomp$inline_4255$$, $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$) {
  if ($key$jscomp$106_queryData$jscomp$inline_4255$$ += null != $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$ ? "=" + encodeURIComponent(String($hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$)) : "") {
    $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$ = $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$.indexOf("#");
    0 > $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$ && ($hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$ = $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$.length);
    var $questionIndex$jscomp$inline_4258$$ = $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$.indexOf("?");
    if (0 > $questionIndex$jscomp$inline_4258$$ || $questionIndex$jscomp$inline_4258$$ > $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$) {
      $questionIndex$jscomp$inline_4258$$ = $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$;
      var $queryData$jscomp$inline_4259$$ = "";
    } else {
      $queryData$jscomp$inline_4259$$ = $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$.substring($questionIndex$jscomp$inline_4258$$ + 1, $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$);
    }
    $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$ = [$JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$.substr(0, $questionIndex$jscomp$inline_4258$$), $queryData$jscomp$inline_4259$$, $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$.substr($hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$)];
    $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$ = $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$[1];
    $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$[1] = $key$jscomp$106_queryData$jscomp$inline_4255$$ ? $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$ ? $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$ + "&" + $key$jscomp$106_queryData$jscomp$inline_4255$$ : $key$jscomp$106_queryData$jscomp$inline_4255$$ : $hashIndex$jscomp$inline_4257_opt_value$jscomp$27_queryData$jscomp$inline_4260$$;
    $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$ = $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$[0] + ($JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$[1] ? "?" + $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$[1] : "") + $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$[2];
  }
  return $JSCompiler_inline_result$jscomp$4141_parts$jscomp$inline_4256_uri$jscomp$36$$;
}, $goog$uri$utils$hashOrEndRe_$$ = /#|$/, $goog$uri$utils$getParamValue$$ = function($uri$jscomp$39$$, $keyEncoded$jscomp$2$$) {
  var $hashOrEndIndex$jscomp$1$$ = $uri$jscomp$39$$.search($goog$uri$utils$hashOrEndRe_$$);
  a: {
    var $foundIndex_index$jscomp$inline_4266$$ = 0;
    for (var $endPosition_keyLength$jscomp$inline_4267$$ = $keyEncoded$jscomp$2$$.length; 0 <= ($foundIndex_index$jscomp$inline_4266$$ = $uri$jscomp$39$$.indexOf($keyEncoded$jscomp$2$$, $foundIndex_index$jscomp$inline_4266$$)) && $foundIndex_index$jscomp$inline_4266$$ < $hashOrEndIndex$jscomp$1$$;) {
      var $followingChar$jscomp$inline_4269_precedingChar$jscomp$inline_4268$$ = $uri$jscomp$39$$.charCodeAt($foundIndex_index$jscomp$inline_4266$$ - 1);
      if (38 == $followingChar$jscomp$inline_4269_precedingChar$jscomp$inline_4268$$ || 63 == $followingChar$jscomp$inline_4269_precedingChar$jscomp$inline_4268$$) {
        if ($followingChar$jscomp$inline_4269_precedingChar$jscomp$inline_4268$$ = $uri$jscomp$39$$.charCodeAt($foundIndex_index$jscomp$inline_4266$$ + $endPosition_keyLength$jscomp$inline_4267$$), !$followingChar$jscomp$inline_4269_precedingChar$jscomp$inline_4268$$ || 61 == $followingChar$jscomp$inline_4269_precedingChar$jscomp$inline_4268$$ || 38 == $followingChar$jscomp$inline_4269_precedingChar$jscomp$inline_4268$$ || 35 == $followingChar$jscomp$inline_4269_precedingChar$jscomp$inline_4268$$) {
          break a;
        }
      }
      $foundIndex_index$jscomp$inline_4266$$ += $endPosition_keyLength$jscomp$inline_4267$$ + 1;
    }
    $foundIndex_index$jscomp$inline_4266$$ = -1;
  }
  if (0 > $foundIndex_index$jscomp$inline_4266$$) {
    return null;
  }
  $endPosition_keyLength$jscomp$inline_4267$$ = $uri$jscomp$39$$.indexOf("&", $foundIndex_index$jscomp$inline_4266$$);
  if (0 > $endPosition_keyLength$jscomp$inline_4267$$ || $endPosition_keyLength$jscomp$inline_4267$$ > $hashOrEndIndex$jscomp$1$$) {
    $endPosition_keyLength$jscomp$inline_4267$$ = $hashOrEndIndex$jscomp$1$$;
  }
  $foundIndex_index$jscomp$inline_4266$$ += $keyEncoded$jscomp$2$$.length + 1;
  return decodeURIComponent($uri$jscomp$39$$.substr($foundIndex_index$jscomp$inline_4266$$, $endPosition_keyLength$jscomp$inline_4267$$ - $foundIndex_index$jscomp$inline_4266$$).replace(/\+/g, " "));
}, $goog$uri$utils$appendPath$$ = function($baseUri$$, $path$jscomp$18$$) {
  $goog$asserts$assert$$(0 > $baseUri$$.indexOf("#") && 0 > $baseUri$$.indexOf("?"), "goog.uri.utils: Fragment or query identifiers are not supported: [%s]", $baseUri$$);
  var $l$jscomp$inline_635$$ = $baseUri$$.length - 1;
  0 <= $l$jscomp$inline_635$$ && $baseUri$$.indexOf("/", $l$jscomp$inline_635$$) == $l$jscomp$inline_635$$ && ($baseUri$$ = $baseUri$$.substr(0, $baseUri$$.length - 1));
  0 == $path$jscomp$18$$.lastIndexOf("/", 0) && ($path$jscomp$18$$ = $path$jscomp$18$$.substr(1));
  return $goog$string$buildString$$($baseUri$$, "/", $path$jscomp$18$$);
};
var $goog$net$XhrIo$$ = function($opt_xmlHttpFactory$$) {
  $goog$events$EventTarget$$.call(this);
  this.headers = new $goog$structs$Map$$;
  this.$M$ = $opt_xmlHttpFactory$$ || null;
  this.$b$ = !1;
  this.$L$ = this.$a$ = null;
  this.$R$ = this.$I$ = "";
  this.$l$ = 0;
  this.$f$ = "";
  this.$g$ = this.$P$ = this.$F$ = this.$N$ = !1;
  this.$j$ = 0;
  this.$B$ = null;
  this.$A$ = "";
  this.$K$ = this.$D$ = !1;
};
$goog$inherits$$($goog$net$XhrIo$$, $goog$events$EventTarget$$);
$goog$net$XhrIo$$.prototype.$logger_$ = $goog$debug$LogManager$getLogger$$("goog.net.XhrIo");
var $goog$net$XhrIo$HTTP_SCHEME_PATTERN$$ = /^https?$/i, $goog$net$XhrIo$METHODS_WITH_FORM_DATA$$ = ["POST", "PUT"], $goog$net$XhrIo$sendInstances_$$ = [], $goog$net$XhrIo$send$$ = function($url$jscomp$64$$, $opt_callback$jscomp$157$$, $opt_method$$, $opt_content$jscomp$5$$, $opt_headers$jscomp$14$$, $opt_timeoutInterval$$, $opt_withCredentials$$) {
  var $x$jscomp$86$$ = new $goog$net$XhrIo$$;
  $goog$net$XhrIo$sendInstances_$$.push($x$jscomp$86$$);
  $opt_callback$jscomp$157$$ && $x$jscomp$86$$.listen("complete", $opt_callback$jscomp$157$$);
  $JSCompiler_StaticMethods_goog_events_EventTarget_prototype$listenOnce$$($x$jscomp$86$$, "ready", $x$jscomp$86$$.$V$);
  $opt_timeoutInterval$$ && ($x$jscomp$86$$.$j$ = Math.max(0, $opt_timeoutInterval$$));
  $opt_withCredentials$$ && ($x$jscomp$86$$.$D$ = $opt_withCredentials$$);
  $x$jscomp$86$$.send($url$jscomp$64$$, $opt_method$$, $opt_content$jscomp$5$$, $opt_headers$jscomp$14$$);
  return $x$jscomp$86$$;
};
$goog$net$XhrIo$$.prototype.$V$ = function() {
  this.$dispose$();
  $goog$array$remove$$($goog$net$XhrIo$sendInstances_$$, this);
};
$goog$net$XhrIo$$.prototype.send = function($content$jscomp$8_url$jscomp$65$$, $method$jscomp$8_opt_method$jscomp$1$$, $contentIsFormData_opt_content$jscomp$6$$, $contentTypeKey_opt_headers$jscomp$15$$) {
  if (this.$a$) {
    throw Error("[goog.net.XhrIo] Object is active with another request=" + this.$I$ + "; newUri=" + $content$jscomp$8_url$jscomp$65$$);
  }
  $method$jscomp$8_opt_method$jscomp$1$$ = $method$jscomp$8_opt_method$jscomp$1$$ ? $method$jscomp$8_opt_method$jscomp$1$$.toUpperCase() : "GET";
  this.$I$ = $content$jscomp$8_url$jscomp$65$$;
  this.$f$ = "";
  this.$l$ = 0;
  this.$R$ = $method$jscomp$8_opt_method$jscomp$1$$;
  this.$N$ = !1;
  this.$b$ = !0;
  this.$a$ = this.$M$ ? $JSCompiler_StaticMethods_createInstance$$(this.$M$) : $JSCompiler_StaticMethods_createInstance$$($goog$net$XmlHttp$factory_$$);
  this.$L$ = this.$M$ ? $JSCompiler_StaticMethods_goog_net_XmlHttpFactory_prototype$getOptions$$(this.$M$) : $JSCompiler_StaticMethods_goog_net_XmlHttpFactory_prototype$getOptions$$($goog$net$XmlHttp$factory_$$);
  this.$a$.onreadystatechange = $goog$bind$$(this.$T$, this);
  try {
    $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Opening Xhr")), this.$P$ = !0, this.$a$.open($method$jscomp$8_opt_method$jscomp$1$$, String($content$jscomp$8_url$jscomp$65$$), !0), this.$P$ = !1;
  } catch ($err$jscomp$22$$) {
    $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Error opening Xhr: " + $err$jscomp$22$$.message));
    $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$$(this, $err$jscomp$22$$);
    return;
  }
  $content$jscomp$8_url$jscomp$65$$ = $contentIsFormData_opt_content$jscomp$6$$ || "";
  var $headers$jscomp$1$$ = this.headers.clone();
  $contentTypeKey_opt_headers$jscomp$15$$ && $goog$structs$forEach$$($contentTypeKey_opt_headers$jscomp$15$$, function($content$jscomp$8_url$jscomp$65$$, $method$jscomp$8_opt_method$jscomp$1$$) {
    $headers$jscomp$1$$.set($method$jscomp$8_opt_method$jscomp$1$$, $content$jscomp$8_url$jscomp$65$$);
  });
  $contentTypeKey_opt_headers$jscomp$15$$ = $goog$array$find$$($headers$jscomp$1$$.$getKeys$(), $goog$net$XhrIo$isContentTypeHeader_$$);
  $contentIsFormData_opt_content$jscomp$6$$ = $goog$global$$.FormData && $content$jscomp$8_url$jscomp$65$$ instanceof $goog$global$$.FormData;
  !$goog$array$contains$$($goog$net$XhrIo$METHODS_WITH_FORM_DATA$$, $method$jscomp$8_opt_method$jscomp$1$$) || $contentTypeKey_opt_headers$jscomp$15$$ || $contentIsFormData_opt_content$jscomp$6$$ || $headers$jscomp$1$$.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
  $headers$jscomp$1$$.forEach(function($content$jscomp$8_url$jscomp$65$$, $method$jscomp$8_opt_method$jscomp$1$$) {
    this.$a$.setRequestHeader($method$jscomp$8_opt_method$jscomp$1$$, $content$jscomp$8_url$jscomp$65$$);
  }, this);
  this.$A$ && (this.$a$.responseType = this.$A$);
  "withCredentials" in this.$a$ && this.$a$.withCredentials !== this.$D$ && (this.$a$.withCredentials = this.$D$);
  try {
    $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$$(this), 0 < this.$j$ && (this.$K$ = $goog$net$XhrIo$shouldUseXhr2Timeout_$$(this.$a$), $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Will abort after " + this.$j$ + "ms if incomplete, xhr2 " + this.$K$)), this.$K$ ? (this.$a$.timeout = this.$j$, this.$a$.ontimeout = $goog$bind$$(this.$U$, this)) : this.$B$ = $goog$Timer$callOnce$$(this.$U$, this.$j$, this)), $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, 
    "Sending request")), this.$F$ = !0, this.$a$.send($content$jscomp$8_url$jscomp$65$$), this.$F$ = !1;
  } catch ($err$31$$) {
    $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Send error: " + $err$31$$.message)), $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$$(this, $err$31$$);
  }
};
var $goog$net$XhrIo$shouldUseXhr2Timeout_$$ = function($xhr$jscomp$2$$) {
  return $goog$userAgent$IE$$ && $goog$userAgent$isVersionOrHigher$$(9) && $goog$isNumber$$($xhr$jscomp$2$$.timeout) && $goog$isDef$$($xhr$jscomp$2$$.ontimeout);
}, $goog$net$XhrIo$isContentTypeHeader_$$ = function($header$jscomp$5$$) {
  return $goog$string$caseInsensitiveEquals$$("Content-Type", $header$jscomp$5$$);
};
$goog$net$XhrIo$$.prototype.$U$ = function() {
  "undefined" != typeof $goog$$ && this.$a$ && (this.$f$ = "Timed out after " + this.$j$ + "ms, aborting", this.$l$ = 8, $goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, this.$f$)), this.dispatchEvent("timeout"), this.abort(8));
};
var $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$$ = function($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$, $err$jscomp$23$$) {
  $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$b$ = !1;
  $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$a$ && ($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$g$ = !0, $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$a$.abort(), $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$g$ = !1);
  $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$f$ = $err$jscomp$23$$;
  $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$.$l$ = 5;
  $JSCompiler_StaticMethods_dispatchErrors_$$($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$);
  $JSCompiler_StaticMethods_cleanUpXhr_$$($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$error_$self$$);
}, $JSCompiler_StaticMethods_dispatchErrors_$$ = function($JSCompiler_StaticMethods_dispatchErrors_$self$$) {
  $JSCompiler_StaticMethods_dispatchErrors_$self$$.$N$ || ($JSCompiler_StaticMethods_dispatchErrors_$self$$.$N$ = !0, $JSCompiler_StaticMethods_dispatchErrors_$self$$.dispatchEvent("complete"), $JSCompiler_StaticMethods_dispatchErrors_$self$$.dispatchEvent("error"));
};
$goog$net$XhrIo$$.prototype.abort = function($opt_failureCode$$) {
  this.$a$ && this.$b$ && ($goog$log$fine$$(this.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$(this, "Aborting")), this.$b$ = !1, this.$g$ = !0, this.$a$.abort(), this.$g$ = !1, this.$l$ = $opt_failureCode$$ || 7, this.dispatchEvent("complete"), this.dispatchEvent("abort"), $JSCompiler_StaticMethods_cleanUpXhr_$$(this));
};
$goog$net$XhrIo$$.prototype.$disposeInternal$ = function() {
  this.$a$ && (this.$b$ && (this.$b$ = !1, this.$g$ = !0, this.$a$.abort(), this.$g$ = !1), $JSCompiler_StaticMethods_cleanUpXhr_$$(this, !0));
  $goog$net$XhrIo$$.$superClass_$.$disposeInternal$.call(this);
};
$goog$net$XhrIo$$.prototype.$T$ = function() {
  this.$o$ || (this.$P$ || this.$F$ || this.$g$ ? $JSCompiler_StaticMethods_onReadyStateChangeHelper_$$(this) : this.$W$());
};
$goog$net$XhrIo$$.prototype.$W$ = function() {
  $JSCompiler_StaticMethods_onReadyStateChangeHelper_$$(this);
};
var $JSCompiler_StaticMethods_onReadyStateChangeHelper_$$ = function($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$) {
  if ($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$b$ && "undefined" != typeof $goog$$) {
    if ($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$L$[1] && 4 == $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$) && 2 == $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$getStatus$()) {
      $goog$log$fine$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$, "Local request error detected and ignored"));
    } else {
      if ($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$F$ && 4 == $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$)) {
        $goog$Timer$callOnce$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$T$, 0, $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$);
      } else {
        if ($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.dispatchEvent("readystatechange"), 4 == $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$)) {
          $goog$log$fine$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$logger_$, $JSCompiler_StaticMethods_formatMsg_$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$, "Request complete"));
          $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$b$ = !1;
          try {
            if ($JSCompiler_StaticMethods_isSuccess$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$)) {
              $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.dispatchEvent("complete"), $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.dispatchEvent("success");
            } else {
              $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$l$ = 6;
              try {
                var $JSCompiler_inline_result$jscomp$127$$ = 2 < $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$) ? $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$a$.statusText : "";
              } catch ($e$jscomp$inline_644$$) {
                $goog$log$fine$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$logger_$, "Can not get status: " + $e$jscomp$inline_644$$.message), $JSCompiler_inline_result$jscomp$127$$ = "";
              }
              $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$f$ = $JSCompiler_inline_result$jscomp$127$$ + " [" + $JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$.$getStatus$() + "]";
              $JSCompiler_StaticMethods_dispatchErrors_$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$);
            }
          } finally {
            $JSCompiler_StaticMethods_cleanUpXhr_$$($JSCompiler_StaticMethods_onReadyStateChangeHelper_$self$$);
          }
        }
      }
    }
  }
}, $JSCompiler_StaticMethods_cleanUpXhr_$$ = function($JSCompiler_StaticMethods_cleanUpXhr_$self$$, $opt_fromDispose$$) {
  if ($JSCompiler_StaticMethods_cleanUpXhr_$self$$.$a$) {
    $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$$($JSCompiler_StaticMethods_cleanUpXhr_$self$$);
    var $xhr$jscomp$3$$ = $JSCompiler_StaticMethods_cleanUpXhr_$self$$.$a$, $clearedOnReadyStateChange$$ = $JSCompiler_StaticMethods_cleanUpXhr_$self$$.$L$[0] ? $goog$nullFunction$$ : null;
    $JSCompiler_StaticMethods_cleanUpXhr_$self$$.$a$ = null;
    $JSCompiler_StaticMethods_cleanUpXhr_$self$$.$L$ = null;
    $opt_fromDispose$$ || $JSCompiler_StaticMethods_cleanUpXhr_$self$$.dispatchEvent("ready");
    try {
      $xhr$jscomp$3$$.onreadystatechange = $clearedOnReadyStateChange$$;
    } catch ($e$jscomp$49$$) {
      $goog$log$error$$($JSCompiler_StaticMethods_cleanUpXhr_$self$$.$logger_$, "Problem encountered resetting onreadystatechange: " + $e$jscomp$49$$.message);
    }
  }
}, $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$$ = function($JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$) {
  $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$a$ && $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$K$ && ($JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$a$.ontimeout = null);
  $goog$isNumber$$($JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$B$) && ($goog$Timer$clear$$($JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$B$), $JSCompiler_StaticMethods_cleanUpTimeoutTimer_$self$$.$B$ = null);
}, $JSCompiler_StaticMethods_isSuccess$$ = function($JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$) {
  var $JSCompiler_temp$jscomp$124_status$jscomp$3$$ = $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$.$getStatus$();
  a: {
    switch($JSCompiler_temp$jscomp$124_status$jscomp$3$$) {
      case 200:
      case 201:
      case 202:
      case 204:
      case 206:
      case 304:
      case 1223:
        var $JSCompiler_inline_result$jscomp$113_JSCompiler_temp$jscomp$123$$ = !0;
        break a;
      default:
        $JSCompiler_inline_result$jscomp$113_JSCompiler_temp$jscomp$123$$ = !1;
    }
  }
  if (!$JSCompiler_inline_result$jscomp$113_JSCompiler_temp$jscomp$123$$) {
    if ($JSCompiler_temp$jscomp$124_status$jscomp$3$$ = 0 === $JSCompiler_temp$jscomp$124_status$jscomp$3$$) {
      $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$ = String($JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$.$I$).match($goog$uri$utils$splitRe_$$)[1] || null, !$JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$ && $goog$global$$.self && $goog$global$$.self.location && ($JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$ = 
      $goog$global$$.self.location.protocol, $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$ = $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$.substr(0, $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$.length - 1)), $JSCompiler_temp$jscomp$124_status$jscomp$3$$ = !$goog$net$XhrIo$HTTP_SCHEME_PATTERN$$.test($JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$ ? 
      $JSCompiler_StaticMethods_isSuccess$self_protocol$jscomp$inline_4273_scheme$jscomp$inline_4272$$.toLowerCase() : "");
    }
    $JSCompiler_inline_result$jscomp$113_JSCompiler_temp$jscomp$123$$ = $JSCompiler_temp$jscomp$124_status$jscomp$3$$;
  }
  return $JSCompiler_inline_result$jscomp$113_JSCompiler_temp$jscomp$123$$;
}, $JSCompiler_StaticMethods_getReadyState$$ = function($JSCompiler_StaticMethods_getReadyState$self$$) {
  return $JSCompiler_StaticMethods_getReadyState$self$$.$a$ ? $JSCompiler_StaticMethods_getReadyState$self$$.$a$.readyState : 0;
};
$goog$net$XhrIo$$.prototype.$getStatus$ = function() {
  try {
    return 2 < $JSCompiler_StaticMethods_getReadyState$$(this) ? this.$a$.status : -1;
  } catch ($e$jscomp$50$$) {
    return -1;
  }
};
var $JSCompiler_StaticMethods_getResponseText$$ = function($JSCompiler_StaticMethods_getResponseText$self$$) {
  try {
    return $JSCompiler_StaticMethods_getResponseText$self$$.$a$ ? $JSCompiler_StaticMethods_getResponseText$self$$.$a$.responseText : "";
  } catch ($e$jscomp$52$$) {
    return $goog$log$fine$$($JSCompiler_StaticMethods_getResponseText$self$$.$logger_$, "Can not get responseText: " + $e$jscomp$52$$.message), "";
  }
}, $JSCompiler_StaticMethods_getResponseJson$$ = function($JSCompiler_StaticMethods_getResponseJson$self$$) {
  if ($JSCompiler_StaticMethods_getResponseJson$self$$.$a$) {
    return $goog$json$parse$$($JSCompiler_StaticMethods_getResponseJson$self$$.$a$.responseText);
  }
}, $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$$ = function($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$) {
  try {
    if (!$JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$a$) {
      return null;
    }
    if ("response" in $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$a$) {
      return $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$a$.response;
    }
    switch($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$A$) {
      case "":
      case "text":
        return $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$a$.responseText;
      case "arraybuffer":
        if ("mozResponseArrayBuffer" in $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$a$) {
          return $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$a$.mozResponseArrayBuffer;
        }
    }
    $goog$log$error$$($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$logger_$, "Response type " + $JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$A$ + " is not supported on this browser");
    return null;
  } catch ($e$jscomp$55$$) {
    return $goog$log$fine$$($JSCompiler_StaticMethods_goog_net_XhrIo_prototype$getResponse$self$$.$logger_$, "Can not get response: " + $e$jscomp$55$$.message), null;
  }
};
$goog$net$XhrIo$$.prototype.getResponseHeader = function($key$jscomp$109_value$jscomp$166$$) {
  if (this.$a$ && 4 == $JSCompiler_StaticMethods_getReadyState$$(this)) {
    return $key$jscomp$109_value$jscomp$166$$ = this.$a$.getResponseHeader($key$jscomp$109_value$jscomp$166$$), null === $key$jscomp$109_value$jscomp$166$$ ? void 0 : $key$jscomp$109_value$jscomp$166$$;
  }
};
var $JSCompiler_StaticMethods_getResponseHeaders$$ = function($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$) {
  var $headersObject$$ = {};
  $JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$ = ($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$.$a$ && 4 == $JSCompiler_StaticMethods_getReadyState$$($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$) ? $JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$.$a$.getAllResponseHeaders() : "").split("\r\n");
  for (var $i$jscomp$124$$ = 0; $i$jscomp$124$$ < $JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$.length; $i$jscomp$124$$++) {
    if (!$goog$string$isEmptyOrWhitespace$$($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$[$i$jscomp$124$$])) {
      var $keyValue$$ = $goog$string$splitLimit$$($JSCompiler_StaticMethods_getResponseHeaders$self_headersArray$$[$i$jscomp$124$$], ": ", 2);
      $headersObject$$[$keyValue$$[0]] = $headersObject$$[$keyValue$$[0]] ? $headersObject$$[$keyValue$$[0]] + (", " + $keyValue$$[1]) : $keyValue$$[1];
    }
  }
  return $headersObject$$;
}, $JSCompiler_StaticMethods_formatMsg_$$ = function($JSCompiler_StaticMethods_formatMsg_$self$$, $msg$jscomp$22$$) {
  return $msg$jscomp$22$$ + " [" + $JSCompiler_StaticMethods_formatMsg_$self$$.$R$ + " " + $JSCompiler_StaticMethods_formatMsg_$self$$.$I$ + " " + $JSCompiler_StaticMethods_formatMsg_$self$$.$getStatus$() + "]";
};
var $mr$RouteUrn$$ = function() {
}, $mr$RouteUrn$create$$ = function($$jscomp$destructuring$var2_routeUrn$$) {
  if (!$$jscomp$destructuring$var2_routeUrn$$.startsWith("urn:x-org.chromium:media:route:")) {
    return null;
  }
  var $obj$jscomp$97_suffix$jscomp$3$$ = $$jscomp$destructuring$var2_routeUrn$$.substring(31);
  if (!$obj$jscomp$97_suffix$jscomp$3$$) {
    return null;
  }
  var $match$jscomp$7$$ = $obj$jscomp$97_suffix$jscomp$3$$.match(/([^/]*)\/([^-/]*)-([^/]*)\/(.*)/);
  if (!$match$jscomp$7$$) {
    return null;
  }
  $obj$jscomp$97_suffix$jscomp$3$$ = new $mr$RouteUrn$$;
  $obj$jscomp$97_suffix$jscomp$3$$.$g$ = $$jscomp$destructuring$var2_routeUrn$$;
  $$jscomp$destructuring$var2_routeUrn$$ = $$jscomp$makeIterator$$($match$jscomp$7$$);
  $$jscomp$destructuring$var2_routeUrn$$.next();
  $obj$jscomp$97_suffix$jscomp$3$$.$a$ = $$jscomp$destructuring$var2_routeUrn$$.next().value;
  $obj$jscomp$97_suffix$jscomp$3$$.$f$ = $$jscomp$destructuring$var2_routeUrn$$.next().value;
  $obj$jscomp$97_suffix$jscomp$3$$.$h$ = $$jscomp$destructuring$var2_routeUrn$$.next().value;
  $obj$jscomp$97_suffix$jscomp$3$$.$b$ = $$jscomp$destructuring$var2_routeUrn$$.next().value;
  return $obj$jscomp$97_suffix$jscomp$3$$;
};
$mr$RouteUrn$$.prototype.$getSource$ = function() {
  return this.$b$;
};
var $mr$Route$$ = function($id$jscomp$48$$, $sinkId$jscomp$2$$, $sourceUrn$jscomp$11$$, $isLocal$$, $description$jscomp$11$$, $iconUrl$jscomp$2$$) {
  this.id = $id$jscomp$48$$;
  this.sinkId = $sinkId$jscomp$2$$;
  this.mediaSource = $sourceUrn$jscomp$11$$;
  this.isLocal = $isLocal$$;
  this.description = $description$jscomp$11$$;
  this.iconUrl = $iconUrl$jscomp$2$$;
  this.allowStop = !0;
  this.customControllerPath = null;
  this.forDisplay = !0;
  this.offTheRecord = !1;
  this.$createdLocally$ = $isLocal$$;
  this.isOffscreenPresentation = !1;
}, $mr$Route$createRoute$$ = function($presentationId$jscomp$2$$, $providerName$jscomp$1$$, $sinkId$jscomp$3$$, $source$jscomp$18$$, $isLocal$jscomp$1$$, $description$jscomp$12$$, $iconUrl$jscomp$3$$) {
  return new $mr$Route$$("urn:x-org.chromium:media:route:" + $presentationId$jscomp$2$$ + "/" + $providerName$jscomp$1$$ + "-" + $sinkId$jscomp$3$$ + "/" + $source$jscomp$18$$, $sinkId$jscomp$3$$, $source$jscomp$18$$, $isLocal$jscomp$1$$, $description$jscomp$12$$, $iconUrl$jscomp$3$$);
};
var $mr$IdGenerator$$ = function($storageKey$$) {
  this.$b$ = $storageKey$$;
  this.$a$ = 1000 * Math.floor(1e6 * Math.random());
}, $JSCompiler_StaticMethods_getNext$$ = function($JSCompiler_StaticMethods_getNext$self$$) {
  var $nextId$$ = $JSCompiler_StaticMethods_getNext$self$$.$a$++;
  0 == $nextId$$ && ($nextId$$ = $JSCompiler_StaticMethods_getNext$self$$.$a$++);
  return $nextId$$;
};
$mr$IdGenerator$$.prototype.$getStorageKey$ = function() {
  return "IdGenerator." + this.$b$;
};
$mr$IdGenerator$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [this.$a$];
};
$mr$IdGenerator$$.prototype.$loadSavedData$ = function() {
  var $savedData$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$$ && (this.$a$ = $savedData$$);
};
window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
var $castApp$frontEnd$ExtensionMessage$$ = function($type$jscomp$162$$, $opt_entryPoint$$) {
  this.type = $type$jscomp$162$$;
  this.entryPoint = $opt_entryPoint$$;
};
$goog$exportSymbol$$("castApp.frontEnd.ExtensionMessage", $castApp$frontEnd$ExtensionMessage$$);
var $mr$cast$Namespace$getCastNamespace_$$ = function($postfix$$) {
  return "urn:x-cast:com.google.cast." + $postfix$$;
}, $mr$cast$Namespace$Cast$TP_CONNECTION$$ = $mr$cast$Namespace$getCastNamespace_$$("tp.connection"), $mr$cast$Namespace$Cast$RECEIVER$$ = $mr$cast$Namespace$getCastNamespace_$$("receiver"), $mr$cast$Namespace$Cast$REMOTING$$ = $mr$cast$Namespace$getCastNamespace_$$("remoting"), $mr$cast$Namespace$Cast$MEDIA$$ = $mr$cast$Namespace$getCastNamespace_$$("media"), $mr$cast$Namespace$Cast$WEBRTC$$ = $mr$cast$Namespace$getCastNamespace_$$("webrtc"), $mr$cast$Namespace$Cast$BROADCAST$$ = $mr$cast$Namespace$getCastNamespace_$$("broadcast"), 
$mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$ = $goog$object$transpose$$({$TP_CONNECTION$:$mr$cast$Namespace$Cast$TP_CONNECTION$$, $TP_HEARTBEAT$:$mr$cast$Namespace$getCastNamespace_$$("tp.heartbeat"), $RECEIVER$:$mr$cast$Namespace$Cast$RECEIVER$$, $REMOTING$:$mr$cast$Namespace$Cast$REMOTING$$, $MEDIA$:$mr$cast$Namespace$Cast$MEDIA$$, $MEDIA_UNIVERSAL_REMOTE_OPT_IN$:$mr$cast$Namespace$getCastNamespace_$$("media.universalRemote.optIn"), $WEBRTC$:$mr$cast$Namespace$Cast$WEBRTC$$, $BROADCAST$:$mr$cast$Namespace$Cast$BROADCAST$$});
var $mr$cast$SinkAppStatus$isAvailable$$ = function($appStatus$$) {
  return "available" == $appStatus$$ || "available_rescan" == $appStatus$$;
};
var $mr$Sink$$ = function($id$jscomp$49$$, $friendlyName$$, $iconType$$, $description$jscomp$13$$, $domain$jscomp$2$$) {
  this.id = $id$jscomp$49$$;
  this.friendlyName = $friendlyName$$;
  this.iconType = $iconType$$ || "generic";
  this.description = void 0 === $description$jscomp$13$$ ? null : $description$jscomp$13$$;
  this.domain = void 0 === $domain$jscomp$2$$ ? null : $domain$jscomp$2$$;
};
var $module$contents$mr$base64_URL_SAFE_MAP$$ = (new Map).set("+", "-").set("/", "_").set("=", "."), $module$exports$mr$base64$encodeArray$$ = function($data$jscomp$52$$) {
  return btoa(String.fromCharCode.apply(String, [].concat($$jscomp$arrayFromIterable$$($data$jscomp$52$$)))).replace(/[+/=]/g, function($data$jscomp$52$$) {
    return $module$contents$mr$base64_URL_SAFE_MAP$$.get($data$jscomp$52$$);
  });
};
var $module$exports$mr$Sha1$$ = function() {
  this.$a$ = [];
  this.$h$ = [];
  this.$j$ = [];
  this.$f$ = [];
  this.$f$[0] = 128;
  for (var $i$jscomp$125$$ = 1; 64 > $i$jscomp$125$$; ++$i$jscomp$125$$) {
    this.$f$[$i$jscomp$125$$] = 0;
  }
  this.$g$ = this.$b$ = 0;
  this.reset();
};
$module$exports$mr$Sha1$$.prototype.reset = function() {
  this.$a$[0] = 1732584193;
  this.$a$[1] = 4023233417;
  this.$a$[2] = 2562383102;
  this.$a$[3] = 271733878;
  this.$a$[4] = 3285377520;
  this.$g$ = this.$b$ = 0;
};
var $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$ = function($JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$, $a$jscomp$18_buf_i$33$$, $b$jscomp$16_offset$jscomp$14_t$$) {
  $b$jscomp$16_offset$jscomp$14_t$$ = void 0 === $b$jscomp$16_offset$jscomp$14_t$$ ? 0 : $b$jscomp$16_offset$jscomp$14_t$$;
  var $W$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$j$;
  if ("string" === typeof $a$jscomp$18_buf_i$33$$) {
    for (var $c$jscomp$5_i$32_i$jscomp$126$$ = 0; 16 > $c$jscomp$5_i$32_i$jscomp$126$$; $c$jscomp$5_i$32_i$jscomp$126$$++) {
      $W$$[$c$jscomp$5_i$32_i$jscomp$126$$] = $a$jscomp$18_buf_i$33$$.charCodeAt($b$jscomp$16_offset$jscomp$14_t$$) << 24 | $a$jscomp$18_buf_i$33$$.charCodeAt($b$jscomp$16_offset$jscomp$14_t$$ + 1) << 16 | $a$jscomp$18_buf_i$33$$.charCodeAt($b$jscomp$16_offset$jscomp$14_t$$ + 2) << 8 | $a$jscomp$18_buf_i$33$$.charCodeAt($b$jscomp$16_offset$jscomp$14_t$$ + 3), $b$jscomp$16_offset$jscomp$14_t$$ += 4;
    }
  } else {
    for ($c$jscomp$5_i$32_i$jscomp$126$$ = 0; 16 > $c$jscomp$5_i$32_i$jscomp$126$$; $c$jscomp$5_i$32_i$jscomp$126$$++) {
      $W$$[$c$jscomp$5_i$32_i$jscomp$126$$] = $a$jscomp$18_buf_i$33$$[$b$jscomp$16_offset$jscomp$14_t$$] << 24 | $a$jscomp$18_buf_i$33$$[$b$jscomp$16_offset$jscomp$14_t$$ + 1] << 16 | $a$jscomp$18_buf_i$33$$[$b$jscomp$16_offset$jscomp$14_t$$ + 2] << 8 | $a$jscomp$18_buf_i$33$$[$b$jscomp$16_offset$jscomp$14_t$$ + 3], $b$jscomp$16_offset$jscomp$14_t$$ += 4;
    }
  }
  for ($a$jscomp$18_buf_i$33$$ = 16; 80 > $a$jscomp$18_buf_i$33$$; $a$jscomp$18_buf_i$33$$++) {
    $b$jscomp$16_offset$jscomp$14_t$$ = $W$$[$a$jscomp$18_buf_i$33$$ - 3] ^ $W$$[$a$jscomp$18_buf_i$33$$ - 8] ^ $W$$[$a$jscomp$18_buf_i$33$$ - 14] ^ $W$$[$a$jscomp$18_buf_i$33$$ - 16], $W$$[$a$jscomp$18_buf_i$33$$] = ($b$jscomp$16_offset$jscomp$14_t$$ << 1 | $b$jscomp$16_offset$jscomp$14_t$$ >>> 31) & 4294967295;
  }
  $a$jscomp$18_buf_i$33$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[0];
  $b$jscomp$16_offset$jscomp$14_t$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[1];
  for (var $c$jscomp$5_i$32_i$jscomp$126$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[2], $d$jscomp$1$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[3], $e$jscomp$58$$ = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[4], $f$jscomp$56_t$35$$, $k$jscomp$1$$, $i$34$$ = 0; 80 > $i$34$$; $i$34$$++) {
    40 > $i$34$$ ? 20 > $i$34$$ ? ($f$jscomp$56_t$35$$ = $d$jscomp$1$$ ^ $b$jscomp$16_offset$jscomp$14_t$$ & ($c$jscomp$5_i$32_i$jscomp$126$$ ^ $d$jscomp$1$$), $k$jscomp$1$$ = 1518500249) : ($f$jscomp$56_t$35$$ = $b$jscomp$16_offset$jscomp$14_t$$ ^ $c$jscomp$5_i$32_i$jscomp$126$$ ^ $d$jscomp$1$$, $k$jscomp$1$$ = 1859775393) : 60 > $i$34$$ ? ($f$jscomp$56_t$35$$ = $b$jscomp$16_offset$jscomp$14_t$$ & $c$jscomp$5_i$32_i$jscomp$126$$ | $d$jscomp$1$$ & ($b$jscomp$16_offset$jscomp$14_t$$ | $c$jscomp$5_i$32_i$jscomp$126$$), 
    $k$jscomp$1$$ = 2400959708) : ($f$jscomp$56_t$35$$ = $b$jscomp$16_offset$jscomp$14_t$$ ^ $c$jscomp$5_i$32_i$jscomp$126$$ ^ $d$jscomp$1$$, $k$jscomp$1$$ = 3395469782), $f$jscomp$56_t$35$$ = ($a$jscomp$18_buf_i$33$$ << 5 | $a$jscomp$18_buf_i$33$$ >>> 27) + $f$jscomp$56_t$35$$ + $e$jscomp$58$$ + $k$jscomp$1$$ + $W$$[$i$34$$] & 4294967295, $e$jscomp$58$$ = $d$jscomp$1$$, $d$jscomp$1$$ = $c$jscomp$5_i$32_i$jscomp$126$$, $c$jscomp$5_i$32_i$jscomp$126$$ = ($b$jscomp$16_offset$jscomp$14_t$$ << 30 | $b$jscomp$16_offset$jscomp$14_t$$ >>> 
    2) & 4294967295, $b$jscomp$16_offset$jscomp$14_t$$ = $a$jscomp$18_buf_i$33$$, $a$jscomp$18_buf_i$33$$ = $f$jscomp$56_t$35$$;
  }
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[0] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[0] + $a$jscomp$18_buf_i$33$$ & 4294967295;
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[1] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[1] + $b$jscomp$16_offset$jscomp$14_t$$ & 4294967295;
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[2] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[2] + $c$jscomp$5_i$32_i$jscomp$126$$ & 4294967295;
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[3] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[3] + $d$jscomp$1$$ & 4294967295;
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[4] = $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$self$$.$a$[4] + $e$jscomp$58$$ & 4294967295;
};
$module$exports$mr$Sha1$$.prototype.update = function($bytes$$, $length$jscomp$27$$) {
  $length$jscomp$27$$ = void 0 === $length$jscomp$27$$ ? $bytes$$.length : $length$jscomp$27$$;
  for (var $lengthMinusBlock$$ = $length$jscomp$27$$ - 64, $n$jscomp$9$$ = 0, $buf$jscomp$1$$ = this.$h$, $inbuf$$ = this.$b$; $n$jscomp$9$$ < $length$jscomp$27$$;) {
    if (0 == $inbuf$$) {
      for (; $n$jscomp$9$$ <= $lengthMinusBlock$$;) {
        $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$(this, $bytes$$, $n$jscomp$9$$), $n$jscomp$9$$ += 64;
      }
    }
    if ("string" === typeof $bytes$$) {
      for (; $n$jscomp$9$$ < $length$jscomp$27$$;) {
        if ($buf$jscomp$1$$[$inbuf$$] = $bytes$$.charCodeAt($n$jscomp$9$$), ++$inbuf$$, ++$n$jscomp$9$$, 64 == $inbuf$$) {
          $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$(this, $buf$jscomp$1$$);
          $inbuf$$ = 0;
          break;
        }
      }
    } else {
      for (; $n$jscomp$9$$ < $length$jscomp$27$$;) {
        if ($buf$jscomp$1$$[$inbuf$$] = $bytes$$[$n$jscomp$9$$], ++$inbuf$$, ++$n$jscomp$9$$, 64 == $inbuf$$) {
          $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$(this, $buf$jscomp$1$$);
          $inbuf$$ = 0;
          break;
        }
      }
    }
  }
  this.$b$ = $inbuf$$;
  this.$g$ += $length$jscomp$27$$;
};
$module$exports$mr$Sha1$$.prototype.digest = function() {
  var $digest$$ = [], $n$jscomp$10_totalBits$$ = 8 * this.$g$;
  56 > this.$b$ ? this.update(this.$f$, 56 - this.$b$) : this.update(this.$f$, 64 - (this.$b$ - 56));
  for (var $i$36_i$jscomp$127$$ = 63; 56 <= $i$36_i$jscomp$127$$; $i$36_i$jscomp$127$$--) {
    this.$h$[$i$36_i$jscomp$127$$] = $n$jscomp$10_totalBits$$ & 255, $n$jscomp$10_totalBits$$ /= 256;
  }
  $JSCompiler_StaticMethods_module$exports$mr$Sha1_prototype$compress_$$(this, this.$h$);
  for ($i$36_i$jscomp$127$$ = $n$jscomp$10_totalBits$$ = 0; 5 > $i$36_i$jscomp$127$$; $i$36_i$jscomp$127$$++) {
    for (var $j$jscomp$8$$ = 24; 0 <= $j$jscomp$8$$; $j$jscomp$8$$ -= 8) {
      $digest$$[$n$jscomp$10_totalBits$$] = this.$a$[$i$36_i$jscomp$127$$] >> $j$jscomp$8$$ & 255, ++$n$jscomp$10_totalBits$$;
    }
  }
  return $digest$$;
};
var $module$exports$mr$StringUtils$getRandomString$$ = function() {
  return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ Date.now()).toString(36);
};
var $module$contents$mr$SinkUtils_SinkUtils$$ = function() {
  this.$j$ = $module$exports$mr$StringUtils$getRandomString$$();
  this.$b$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null);
  this.$a$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null);
  this.$h$ = [];
  this.$g$ = this.$f$ = 0;
  $mr$PersistentDataManager$register$$(this);
}, $module$contents$mr$SinkUtils_SinkUtils$getInstance$$ = function() {
  $module$contents$mr$SinkUtils_SinkUtils$instance_$$ || ($module$contents$mr$SinkUtils_SinkUtils$instance_$$ = new $module$contents$mr$SinkUtils_SinkUtils$$);
  return $module$contents$mr$SinkUtils_SinkUtils$instance_$$;
}, $JSCompiler_StaticMethods_generateId$$ = function($JSCompiler_StaticMethods_generateId$self$$, $uniqueId$$) {
  $uniqueId$$ = $uniqueId$$.toLowerCase();
  var $sha1$$ = new $module$exports$mr$Sha1$$;
  $sha1$$.update($uniqueId$$);
  $sha1$$.update($JSCompiler_StaticMethods_generateId$self$$.$j$);
  return "r" + $module$exports$mr$base64$encodeArray$$($sha1$$.digest());
}, $JSCompiler_StaticMethods_getRecentDevice$$ = function() {
  var $JSCompiler_StaticMethods_getRecentDevice$self$$ = $module$contents$mr$SinkUtils_SinkUtils$getInstance$$();
  return $JSCompiler_StaticMethods_getRecentDevice$self$$.$b$.model ? $JSCompiler_StaticMethods_getRecentDevice$self$$.$b$ : $JSCompiler_StaticMethods_getRecentDevice$self$$.$a$.model ? $JSCompiler_StaticMethods_getRecentDevice$self$$.$a$ : new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null);
};
$module$contents$mr$SinkUtils_SinkUtils$$.prototype.$getStorageKey$ = function() {
  return "SinkUtils";
};
$module$contents$mr$SinkUtils_SinkUtils$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [{recentLaunchedDevice:this.$b$, recentDiscoveredDevice:this.$a$}, {receiverIdToken:this.$j$, fixedIpList:this.$h$.join(","), castControlPort:this.$f$, lastCloudSinkCheckTimeMillis:this.$g$}];
};
$module$contents$mr$SinkUtils_SinkUtils$$.prototype.$loadSavedData$ = function() {
  var $persistentData_tempData$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $persistentData_tempData$$ && (this.$b$ = $persistentData_tempData$$.recentLaunchedDevice || new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null), this.$a$ = $persistentData_tempData$$.recentDiscoveredDevice || new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$(null, null));
  if ($persistentData_tempData$$ = $mr$PersistentDataManager$getPersistentData$$(this)) {
    this.$j$ = $persistentData_tempData$$.receiverIdToken || $module$exports$mr$StringUtils$getRandomString$$(), this.$h$ = $persistentData_tempData$$.fixedIpList && $persistentData_tempData$$.fixedIpList.split(",") || [], this.$f$ = $persistentData_tempData$$.castControlPort || 0, this.$g$ = $persistentData_tempData$$.lastCloudSinkCheckTimeMillis || 0;
  }
};
var $module$contents$mr$SinkUtils_SinkUtils$instance_$$ = null, $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$ = function($modelName$$, $ipAddress$jscomp$2$$) {
  this.model = $modelName$$;
  this.ip = $ipAddress$jscomp$2$$;
};
var $module$contents$mr$dial$Sink_DialSink$$ = function($friendlyName$jscomp$1$$, $uniqueId$jscomp$1$$) {
  this.$v$ = this.$G$ = this.$C$ = this.$port_$ = this.$u$ = null;
  this.$m$ = new $mr$Sink$$($JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $uniqueId$jscomp$1$$), $friendlyName$jscomp$1$$);
  this.$s$ = {};
  this.$S$ = {};
  this.$O$ = !1;
};
$module$contents$mr$dial$Sink_DialSink$$.prototype.getId = function() {
  return this.$m$.id;
};
var $JSCompiler_StaticMethods_setSupportsAppAvailability$$ = function($JSCompiler_StaticMethods_setSupportsAppAvailability$self$$, $availability$$) {
  $JSCompiler_StaticMethods_setSupportsAppAvailability$self$$.$O$ = $availability$$;
  return $JSCompiler_StaticMethods_setSupportsAppAvailability$self$$;
};
$module$contents$mr$dial$Sink_DialSink$$.prototype.update = function($sink$$) {
  if (this.getId() != $sink$$.getId()) {
    return !1;
  }
  var $updated$$ = !1;
  this.$m$.friendlyName != $sink$$.$m$.friendlyName && (this.$m$.friendlyName = $sink$$.$m$.friendlyName, $updated$$ = !0);
  this.$C$ != $sink$$.$C$ && (this.$C$ = $sink$$.$C$, $updated$$ = !0);
  this.$G$ != $sink$$.$G$ && (this.$G$ = $sink$$.$G$, $updated$$ = !0);
  this.$u$ != $sink$$.$u$ && (this.$u$ = $sink$$.$u$, $updated$$ = !0);
  this.$port_$ != $sink$$.$port_$ && (this.$port_$ = $sink$$.$port_$, $updated$$ = !0);
  return $updated$$;
};
$module$contents$mr$dial$Sink_DialSink$$.prototype.$getIpAddress$ = function() {
  return this.$u$;
};
$module$contents$mr$dial$Sink_DialSink$$.prototype.$getPort$ = function() {
  return this.$port_$;
};
var $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$ = function($JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$self$$, $appName$$) {
  return $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$self$$.$s$[$appName$$] || "unknown";
}, $module$contents$mr$dial$Sink_DialSink$createFrom$$ = function($sink$jscomp$1$$) {
  var $newSink$$ = new $module$contents$mr$dial$Sink_DialSink$$($sink$jscomp$1$$.$m$.friendlyName, "");
  $newSink$$.$m$.id = $sink$jscomp$1$$.$m$.id;
  $newSink$$.$u$ = $sink$jscomp$1$$.$u$;
  $newSink$$.$port_$ = $sink$jscomp$1$$.$port_$;
  $newSink$$.$C$ = $sink$jscomp$1$$.$C$;
  $newSink$$.$G$ = $sink$jscomp$1$$.$G$;
  $newSink$$.$v$ = $sink$jscomp$1$$.$v$;
  $newSink$$.$s$ = $sink$jscomp$1$$.$s$;
  $newSink$$.$S$ = $sink$jscomp$1$$.$S$;
  $newSink$$.$O$ = $sink$jscomp$1$$.$O$;
  return $newSink$$;
};
var $mr$cast$Sink$$ = function($JSCompiler_inline_result$jscomp$131_uniqueId$jscomp$2$$, $friendlyName$jscomp$3$$, $opt_modelName$$, $opt_capabilities$$, $opt_ipAddress$$, $opt_port$jscomp$1$$) {
  $JSCompiler_inline_result$jscomp$131_uniqueId$jscomp$2$$ = $JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $JSCompiler_inline_result$jscomp$131_uniqueId$jscomp$2$$);
  this.$b$ = new $mr$Sink$$($JSCompiler_inline_result$jscomp$131_uniqueId$jscomp$2$$, $friendlyName$jscomp$3$$, $JSCompiler_StaticMethods_getSinkIconType_$$($opt_capabilities$$));
  this.$v$ = $opt_modelName$$ || null;
  this.$a$ = $opt_capabilities$$ || null;
  this.$u$ = $opt_ipAddress$$ || null;
  this.$port_$ = $opt_port$jscomp$1$$ || null;
  this.$s$ = {};
  this.$discoveredByDial_$ = !1;
}, $mr$cast$Sink$createFromDialSink$$ = function($dialSink$$) {
  if (!$dialSink$$.$v$ || !$dialSink$$.$getIpAddress$()) {
    return null;
  }
  var $castSink$$ = new $mr$cast$Sink$$($dialSink$$.$m$.id, $dialSink$$.$m$.friendlyName, $dialSink$$.$v$, void 0, $dialSink$$.$getIpAddress$(), $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$f$ || 8009);
  $castSink$$.$b$.id = $dialSink$$.$m$.id;
  $castSink$$.$discoveredByDial_$ = !0;
  return $castSink$$;
};
$mr$cast$Sink$$.prototype.update = function($friendlyName$jscomp$4$$, $ipAddress$jscomp$5$$, $port$jscomp$5$$, $capabilities$$) {
  var $updated$jscomp$2$$ = !1;
  this.$b$.friendlyName != $friendlyName$jscomp$4$$ && (this.$b$.friendlyName = $friendlyName$jscomp$4$$, $updated$jscomp$2$$ = !0);
  null != $ipAddress$jscomp$5$$ && this.$u$ != $ipAddress$jscomp$5$$ && (this.$u$ = $ipAddress$jscomp$5$$, $updated$jscomp$2$$ = !0);
  null != $port$jscomp$5$$ && this.$port_$ != $port$jscomp$5$$ && (this.$port_$ = $port$jscomp$5$$, $updated$jscomp$2$$ = !0);
  null != $capabilities$$ && this.$a$ != $capabilities$$ && (this.$a$ = $capabilities$$, $updated$jscomp$2$$ = !0);
  return $updated$jscomp$2$$;
};
var $JSCompiler_StaticMethods_getSinkIconType_$$ = function($opt_capabilities$jscomp$1$$) {
  return $opt_capabilities$jscomp$1$$ & 1 ? "cast" : $opt_capabilities$jscomp$1$$ & 32 ? "cast_audio_group" : "cast_audio";
};
$mr$cast$Sink$$.prototype.getId = function() {
  return this.$b$.id;
};
var $mr$cast$Sink$fromJson$$ = function($json$jscomp$1$$) {
  var $newReceiver$$ = new $mr$cast$Sink$$("", $json$jscomp$1$$.friendlyName, $json$jscomp$1$$.modelName, $json$jscomp$1$$.capabilities, $json$jscomp$1$$.ip, $json$jscomp$1$$.port);
  $newReceiver$$.$b$.id = $json$jscomp$1$$.id;
  $newReceiver$$.$discoveredByDial_$ = $json$jscomp$1$$.discoveredByDial;
  $newReceiver$$.$s$ = $json$jscomp$1$$.appStatusMap;
  for (var $appId$$ in $newReceiver$$.$s$) {
    "unavailable" == $newReceiver$$.$s$[$appId$$] && ($newReceiver$$.$s$[$appId$$] = "unavailable_rescan");
  }
  return $newReceiver$$;
};
$mr$cast$Sink$$.prototype.$getIpAddress$ = function() {
  return this.$u$;
};
$mr$cast$Sink$$.prototype.$getPort$ = function() {
  return this.$port_$;
};
var $JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$ = function($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$self$$, $appId$jscomp$1$$) {
  return $JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$self$$.$s$[$appId$jscomp$1$$] || "unknown";
};
var $mr$CastAnalytics$SESSION_TYPES$$ = {$LAUNCH$:0, $JOIN$:1}, $mr$CastAnalytics$SESSION_ENDED_TYPES$$ = {$USER_STOP$:0, $RECEIVER_ENDED$:1, $RECEIVER_LOST$:2}, $mr$CastAnalytics$DISCOVERY_TYPES$$ = {DIAL:0, $MDNS$:1, $MDNSDIAL$:2, $DIALMDNS$:3}, $mr$CastAnalytics$SESSION_FAILURE$$ = {$NO_CONNECTION$:0, TIMEOUT:1, FAILED:2}, $mr$CastAnalytics$CHANNEL_ERRORS$$ = {$UNKNOWN$:0, $AUTHENTICATION$:1, $CONNECT$:2, $GENERAL_CERTIFICATE$:3, $CERTIFICATE_TIMING$:4, $NETWORK$:5, $CONNECT_TIMEOUT$:6, $PING_TIMEOUT$:7}, 
$mr$CastAnalytics$ChannelConnectResults$$ = {$FAILURE$:0, SUCCESS:1}, $mr$CastAnalytics$recordSessionEndType$$ = function($type$jscomp$164$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Session.Ended", $type$jscomp$164$$, $mr$CastAnalytics$SESSION_ENDED_TYPES$$);
}, $mr$CastAnalytics$recordCastChannelConnectResult$$ = function($result$jscomp$29$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Channel.ConnectResult", $result$jscomp$29$$, $mr$CastAnalytics$ChannelConnectResults$$);
}, $mr$CastAnalytics$recordDeviceDiscovery$$ = function($type$jscomp$166$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Discovery.Type", $type$jscomp$166$$, $mr$CastAnalytics$DISCOVERY_TYPES$$);
}, $mr$CastAnalytics$recordSessionFailure$$ = function($type$jscomp$167$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Session.Fail", $type$jscomp$167$$, $mr$CastAnalytics$SESSION_FAILURE$$);
};
var $mr$EventListener$$ = function($eventType$jscomp$5$$, $name$jscomp$154$$, $moduleId$jscomp$5$$, $eventHandler$$, $listenerArgs$$) {
  for (var $$jscomp$restParams$jscomp$1$$ = [], $$jscomp$restIndex$jscomp$1$$ = 4; $$jscomp$restIndex$jscomp$1$$ < arguments.length; ++$$jscomp$restIndex$jscomp$1$$) {
    $$jscomp$restParams$jscomp$1$$[$$jscomp$restIndex$jscomp$1$$ - 4] = arguments[$$jscomp$restIndex$jscomp$1$$];
  }
  var $$jscomp$this$jscomp$24$$ = this;
  this.$h$ = $eventType$jscomp$5$$;
  this.$l$ = $name$jscomp$154$$;
  this.$j$ = $moduleId$jscomp$5$$;
  this.$b$ = $eventHandler$$;
  this.$g$ = $$jscomp$restParams$jscomp$1$$;
  this.$a$ = !1;
  this.$f$ = function($eventType$jscomp$5$$) {
    for (var $name$jscomp$154$$ = [], $moduleId$jscomp$5$$ = 0; $moduleId$jscomp$5$$ < arguments.length; ++$moduleId$jscomp$5$$) {
      $name$jscomp$154$$[$moduleId$jscomp$5$$ - 0] = arguments[$moduleId$jscomp$5$$];
    }
    return $$jscomp$this$jscomp$24$$.$dispatchEvent_$.apply($$jscomp$this$jscomp$24$$, [].concat($$jscomp$arrayFromIterable$$($name$jscomp$154$$)));
  };
};
$JSCompiler_prototypeAlias$$ = $mr$EventListener$$.prototype;
$JSCompiler_prototypeAlias$$.addListener = function() {
  this.$a$ || (this.$a$ = !0, this.$b$.addListener.apply(this.$b$, [].concat([this.$f$], $$jscomp$arrayFromIterable$$(this.$g$))));
};
$JSCompiler_prototypeAlias$$.removeListener = function() {
  this.$a$ && (this.$b$.removeListener(this.$f$), this.$a$ = !1);
};
$JSCompiler_prototypeAlias$$.$validateEvent$ = function($args$jscomp$17$$) {
  for (var $$jscomp$restIndex$jscomp$3$$ = 0; $$jscomp$restIndex$jscomp$3$$ < arguments.length; ++$$jscomp$restIndex$jscomp$3$$) {
  }
  return !0;
};
$JSCompiler_prototypeAlias$$.$dispatchEvent_$ = function($args$jscomp$18$$) {
  for (var $$jscomp$restParams$jscomp$4$$ = [], $$jscomp$restIndex$jscomp$4$$ = 0; $$jscomp$restIndex$jscomp$4$$ < arguments.length; ++$$jscomp$restIndex$jscomp$4$$) {
    $$jscomp$restParams$jscomp$4$$[$$jscomp$restIndex$jscomp$4$$ - 0] = arguments[$$jscomp$restIndex$jscomp$4$$];
  }
  var $$jscomp$this$jscomp$25$$ = this;
  $mr$EventAnalytics$recordEvent$$(this.$h$);
  if (!this.$validateEvent$.apply(this, [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$4$$)))) {
    return !1;
  }
  $mr$Module$load$$(this.$j$).then(function($args$jscomp$18$$) {
    return $args$jscomp$18$$.handleEvent.apply($args$jscomp$18$$, [].concat([$$jscomp$this$jscomp$25$$.$b$], $$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$4$$)));
  });
  return this.$deferredReturnValue$();
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "mr.EventListener." + this.$l$;
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [this.$a$];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  $mr$PersistentDataManager$getTemporaryData$$(this) && this.addListener();
};
$JSCompiler_prototypeAlias$$.$deferredReturnValue$ = function() {
};
var $mr$cast$EventListeners$MDNS_ONSERVICELIST_FILTER_$$ = {serviceType:"_googlecast._tcp.local"}, $mr$cast$EventListeners$mdnsOnServiceListListener_$$ = null, $mr$cast$EventListeners$getMdnsOnServiceListListener$$ = function() {
  $mr$cast$EventListeners$mdnsOnServiceListListener_$$ || ($mr$cast$EventListeners$mdnsOnServiceListListener_$$ = new $mr$EventListener$$(7, "CastMdnsEventListener", "mr.cast.SinkDiscoveryService", chrome.mdns.onServiceList, $mr$cast$EventListeners$MDNS_ONSERVICELIST_FILTER_$$));
  return $mr$cast$EventListeners$mdnsOnServiceListListener_$$;
}, $mr$cast$EventListeners$connectedNetworkChangedListener_$$ = null, $mr$cast$EventListeners$getConnectedNetworkChangedListener$$ = function() {
  $mr$cast$EventListeners$connectedNetworkChangedListener_$$ || ($mr$cast$EventListeners$connectedNetworkChangedListener_$$ = "ChromeOS" == $mr$PlatformUtils$getCurrentOS$$() ? new $mr$EventListener$$(9, "CastNetworkListChangedEventListener", "mr.cast.SinkDiscoveryService", chrome.networkingPrivate.onNetworkListChanged) : new $mr$EventListener$$(8, "CastNetworksChangedEventListener", "mr.cast.SinkDiscoveryService", chrome.networkingPrivate.onNetworksChanged));
  return $mr$cast$EventListeners$connectedNetworkChangedListener_$$;
}, $mr$cast$EventListeners$channelMessageListener_$$ = null, $mr$cast$EventListeners$channelErrorListener_$$ = null, $mr$cast$EventListeners$getChannelListeners$$ = function() {
  $mr$cast$EventListeners$channelMessageListener_$$ || ($mr$cast$EventListeners$channelMessageListener_$$ = new $mr$EventListener$$(2, "CastChannelMessageListener", "mr.cast.ChannelService", chrome.cast.channel.onMessage));
  $mr$cast$EventListeners$channelErrorListener_$$ || ($mr$cast$EventListeners$channelErrorListener_$$ = new $mr$EventListener$$(1, "CastChannelErrorListener", "mr.cast.ChannelService", chrome.cast.channel.onError));
  return [$mr$cast$EventListeners$channelMessageListener_$$, $mr$cast$EventListeners$channelErrorListener_$$];
};
var $mr$PromiseUtils$allSettled$$ = function($promises$jscomp$6$$) {
  return Promise.all($promises$jscomp$6$$.map(function($promises$jscomp$6$$) {
    return $promises$jscomp$6$$.then(function($promises$jscomp$6$$) {
      return {$fulfilled$:!0, value:$promises$jscomp$6$$};
    }, function($promises$jscomp$6$$) {
      return {$fulfilled$:!1, reason:$promises$jscomp$6$$};
    });
  }));
};
var $mr$cast$SinkDiscoveryService$$ = function($castChannelService$$, $sinkDiscoveryCallbacks$$) {
  this.$g$ = $sinkDiscoveryCallbacks$$;
  this.$J$ = $castChannelService$$;
  this.$J$.$h$ = this.$b$.bind(this);
  this.$a$ = new $goog$structs$Map$$;
  this.$l$ = new $goog$structs$Map$$;
  this.$f$ = new $goog$structs$Map$$;
  this.$I$ = null;
  this.$w$ = this.$F$ = "";
  this.$h$ = null;
  this.$H$ = this.$o$ = !1;
  this.$K$ = [];
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cast.SinkDiscoveryService");
  this.$B$ = new Set;
  this.$A$ = {$availableDeviceCount$:0, $knownDeviceCount$:0};
  this.$j$ = this.$D$ = 0;
};
$$jscomp$inherits$$($mr$cast$SinkDiscoveryService$$, $mr$Module$$);
$mr$cast$SinkDiscoveryService$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
  this.$o$ && ($JSCompiler_StaticMethods_listenToNetworkChanges_$$(this), $JSCompiler_StaticMethods_getAndUpdateCurrentNetworks_$$(this));
  $mr$Module$onModuleLoaded$$("mr.cast.SinkDiscoveryService", this);
};
var $JSCompiler_StaticMethods_listenToNetworkChanges_$$ = function($JSCompiler_StaticMethods_listenToNetworkChanges_$self$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_listenToNetworkChanges_$self$$.$logger_$, "Start listening to network changes");
  $mr$cast$EventListeners$getConnectedNetworkChangedListener$$().addListener();
};
$mr$cast$SinkDiscoveryService$$.prototype.start = function() {
  var $nowTime$$ = Date.now(), $mdnsEventListener_mdnsEventListener$jscomp$inline_666$$ = $mr$cast$EventListeners$getMdnsOnServiceListListener$$();
  if ($mdnsEventListener_mdnsEventListener$jscomp$inline_666$$.$a$) {
    $goog$asserts$assert$$($goog$isDef$$(this.$I$));
    if (6E4 > $nowTime$$ - this.$I$) {
      return;
    }
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Forcing mdns discovery");
    chrome.mdns.forceDiscovery($goog$nullFunction$$);
    $mdnsEventListener_mdnsEventListener$jscomp$inline_666$$ = $mr$cast$EventListeners$getMdnsOnServiceListListener$$();
    $mdnsEventListener_mdnsEventListener$jscomp$inline_666$$.removeListener();
  } else {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Adding mdns listener");
  }
  $mdnsEventListener_mdnsEventListener$jscomp$inline_666$$.addListener();
  this.$I$ = $nowTime$$;
};
$mr$cast$SinkDiscoveryService$$.prototype.handleEvent = function($event$jscomp$15$$, $args$jscomp$19$$) {
  for (var $$jscomp$restParams$jscomp$5$$ = [], $$jscomp$restIndex$jscomp$5$$ = 1; $$jscomp$restIndex$jscomp$5$$ < arguments.length; ++$$jscomp$restIndex$jscomp$5$$) {
    $$jscomp$restParams$jscomp$5$$[$$jscomp$restIndex$jscomp$5$$ - 1] = arguments[$$jscomp$restIndex$jscomp$5$$];
  }
  if ($event$jscomp$15$$ == chrome.mdns.onServiceList) {
    this.$L$.apply(this, [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$5$$)));
  } else {
    if ($event$jscomp$15$$ == chrome.networkingPrivate.onNetworksChanged || $event$jscomp$15$$ == chrome.networkingPrivate.onNetworkListChanged) {
      $JSCompiler_StaticMethods_getAndUpdateCurrentNetworks_$$(this);
    } else {
      throw Error("Unhandled event");
    }
  }
};
var $JSCompiler_StaticMethods_createSink_$$ = function($JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$, $service$jscomp$4$$) {
  if (-1 == $service$jscomp$4$$.serviceName.indexOf("._googlecast.")) {
    return null;
  }
  var $serviceData$$ = {};
  $service$jscomp$4$$.serviceData.forEach(function($JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$) {
    0 == $JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$.search(/[a-z]{2}=.+/) && ($serviceData$$[$JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$.substring(0, 2)] = $JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$.substring(3));
  });
  var $uniqueId$jscomp$4$$ = $serviceData$$.id;
  if (!$uniqueId$jscomp$4$$) {
    return $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$.$logger_$, "Missing ID"), null;
  }
  $JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $uniqueId$jscomp$4$$);
  var $port$jscomp$6$$ = Number($service$jscomp$4$$.serviceHostPort.substring($service$jscomp$4$$.serviceHostPort.indexOf(":") + 1));
  if (isNaN($port$jscomp$6$$) || 0 > $port$jscomp$6$$ || 65535 < $port$jscomp$6$$) {
    return $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$.$logger_$, "Missing or invalid port"), null;
  }
  var $friendlyName$jscomp$5$$ = $serviceData$$.fn;
  if (!$friendlyName$jscomp$5$$ || !$service$jscomp$4$$.ipAddress) {
    return $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$.$logger_$, "Missing friendly name or IP address"), null;
  }
  $JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$ = Number($serviceData$$.ca);
  return new $mr$cast$Sink$$($uniqueId$jscomp$4$$, $friendlyName$jscomp$5$$, $serviceData$$.md || "", isNaN($JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$) ? 0 : $JSCompiler_StaticMethods_createSink_$self_serviceDataCa$$, $service$jscomp$4$$.ipAddress, $port$jscomp$6$$);
};
$mr$cast$SinkDiscoveryService$$.prototype.$L$ = function($deviceList_promises$jscomp$7$$) {
  var $$jscomp$this$jscomp$26$$ = this;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Registering " + $deviceList_promises$jscomp$7$$.length + " devices");
  0 != this.$j$ && (clearTimeout(this.$j$), this.$j$ = 0);
  $deviceList_promises$jscomp$7$$ = $JSCompiler_StaticMethods_createSinksFromDevices_$$(this, $deviceList_promises$jscomp$7$$).map(function($deviceList_promises$jscomp$7$$) {
    return $JSCompiler_StaticMethods_checkAccessAndUpdateSink$$($$jscomp$this$jscomp$26$$, $deviceList_promises$jscomp$7$$, !0);
  });
  $mr$PromiseUtils$allSettled$$($deviceList_promises$jscomp$7$$).then(function() {
    $$jscomp$this$jscomp$26$$.$A$ = {$availableDeviceCount$:$$jscomp$this$jscomp$26$$.$a$.$getCount$(), $knownDeviceCount$:$JSCompiler_StaticMethods_getKnownDevicesCount_$$($$jscomp$this$jscomp$26$$)};
    $JSCompiler_StaticMethods_maybeScheduleRecordSinkCountMetric_$$($$jscomp$this$jscomp$26$$);
  });
};
var $JSCompiler_StaticMethods_maybeScheduleRecordSinkCountMetric_$$ = function($JSCompiler_StaticMethods_maybeScheduleRecordSinkCountMetric_$self$$) {
  0 != $JSCompiler_StaticMethods_maybeScheduleRecordSinkCountMetric_$self$$.$j$ || 36E5 > Date.now() - $JSCompiler_StaticMethods_maybeScheduleRecordSinkCountMetric_$self$$.$D$ || ($JSCompiler_StaticMethods_maybeScheduleRecordSinkCountMetric_$self$$.$j$ = setTimeout(function() {
    var $deviceCounts$jscomp$inline_4275$$ = $JSCompiler_StaticMethods_maybeScheduleRecordSinkCountMetric_$self$$.$A$;
    $mr$Analytics$recordSmallCount$$("MediaRouter.Cast.Discovery.KnownDevicesCount", $deviceCounts$jscomp$inline_4275$$.$knownDeviceCount$);
    $mr$Analytics$recordSmallCount$$("MediaRouter.Cast.Discovery.ConnectedDevicesCount", $deviceCounts$jscomp$inline_4275$$.$availableDeviceCount$);
    $JSCompiler_StaticMethods_maybeScheduleRecordSinkCountMetric_$self$$.$D$ = Date.now();
    $JSCompiler_StaticMethods_maybeScheduleRecordSinkCountMetric_$self$$.$j$ = 0;
  }, 5E3));
};
$mr$cast$SinkDiscoveryService$$.prototype.$getDeviceCounts$ = function() {
  return this.$A$;
};
var $JSCompiler_StaticMethods_getKnownDevicesCount_$$ = function($JSCompiler_StaticMethods_getKnownDevicesCount_$self$$) {
  var $numKnownDevices$$ = $JSCompiler_StaticMethods_getKnownDevicesCount_$self$$.$B$.size;
  $goog$iter$forEach$$($JSCompiler_StaticMethods_getKnownDevicesCount_$self$$.$a$.$__iterator__$(!1), function($sink$jscomp$4$$) {
    $JSCompiler_StaticMethods_getKnownDevicesCount_$self$$.$B$.has($sink$jscomp$4$$.getId()) || $numKnownDevices$$++;
  });
  return $numKnownDevices$$;
}, $JSCompiler_StaticMethods_checkAccessAndUpdateSink$$ = function($JSCompiler_StaticMethods_checkAccessAndUpdateSink$self$$, $sink$jscomp$5$$, $trackDiscovery$$) {
  if ($JSCompiler_StaticMethods_checkAccessAndUpdateSink$self$$.$f$.$containsKey$($sink$jscomp$5$$.getId())) {
    return Promise.resolve();
  }
  $JSCompiler_StaticMethods_checkAccessAndUpdateSink$self$$.$f$.set($sink$jscomp$5$$.getId(), $sink$jscomp$5$$);
  return $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$checkAccess$$($JSCompiler_StaticMethods_checkAccessAndUpdateSink$self$$, $sink$jscomp$5$$).then(function($accessible_existingSink$$) {
    $accessible_existingSink$$ ? ($accessible_existingSink$$ = $JSCompiler_StaticMethods_checkAccessAndUpdateSink$self$$.$a$.get($sink$jscomp$5$$.getId()), $trackDiscovery$$ && ($accessible_existingSink$$ ? $accessible_existingSink$$.$discoveredByDial_$ && $mr$CastAnalytics$recordDeviceDiscovery$$(3) : $mr$CastAnalytics$recordDeviceDiscovery$$(1)), $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$$($JSCompiler_StaticMethods_checkAccessAndUpdateSink$self$$, $sink$jscomp$5$$)) : 
    ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_checkAccessAndUpdateSink$self$$.$logger_$, "Inaccessible sink: " + $sink$jscomp$5$$.getId()), $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$$($JSCompiler_StaticMethods_checkAccessAndUpdateSink$self$$, $sink$jscomp$5$$.getId()));
    $JSCompiler_StaticMethods_checkAccessAndUpdateSink$self$$.$f$.remove($sink$jscomp$5$$.getId());
  });
}, $JSCompiler_StaticMethods_isDebugDevice_$$ = function($JSCompiler_StaticMethods_isDebugDevice_$self$$, $device$jscomp$3$$) {
  return void 0 != $JSCompiler_StaticMethods_isDebugDevice_$self$$.$K$.find(function($JSCompiler_StaticMethods_isDebugDevice_$self$$) {
    return $JSCompiler_StaticMethods_isDebugDevice_$self$$.ipAddress == $device$jscomp$3$$.ipAddress;
  });
}, $JSCompiler_StaticMethods_createSinksFromDevices_$$ = function($JSCompiler_StaticMethods_createSinksFromDevices_$self$$, $deviceList$jscomp$2$$) {
  var $sinksToProcess$jscomp$1$$ = [];
  $JSCompiler_StaticMethods_createSinksFromDevices_$self$$.$B$.clear();
  $deviceList$jscomp$2$$.forEach(function($deviceList$jscomp$2$$) {
    if (!$JSCompiler_StaticMethods_isDebugDevice_$$($JSCompiler_StaticMethods_createSinksFromDevices_$self$$, $deviceList$jscomp$2$$) && ($deviceList$jscomp$2$$ = $JSCompiler_StaticMethods_createSink_$$($JSCompiler_StaticMethods_createSinksFromDevices_$self$$, $deviceList$jscomp$2$$))) {
      var $device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$ = $deviceList$jscomp$2$$.getId();
      $JSCompiler_StaticMethods_createSinksFromDevices_$self$$.$B$.add($device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$);
      if ($JSCompiler_StaticMethods_createSinksFromDevices_$self$$.$f$.$containsKey$($device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$)) {
        var $pendingSink$$ = $JSCompiler_StaticMethods_createSinksFromDevices_$self$$.$f$.get($device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$);
        if ($pendingSink$$.$getIpAddress$() == $deviceList$jscomp$2$$.$getIpAddress$() && $pendingSink$$.$getPort$() == $deviceList$jscomp$2$$.$getPort$()) {
          $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_createSinksFromDevices_$self$$.$logger_$, "Sink has pending connection " + $device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$);
          return;
        }
        $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_createSinksFromDevices_$self$$.$logger_$, "Pending sink changed ip " + $device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$);
        $JSCompiler_StaticMethods_createSinksFromDevices_$self$$.$f$.remove($device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$);
      }
      if ($device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$ = $JSCompiler_StaticMethods_createSinksFromDevices_$self$$.$a$.get($device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$)) {
        if ($deviceList$jscomp$2$$ = $device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$.update($deviceList$jscomp$2$$.$b$.friendlyName, $deviceList$jscomp$2$$.$getIpAddress$(), $deviceList$jscomp$2$$.$getPort$(), $deviceList$jscomp$2$$.$a$)) {
          $device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$.$discoveredByDial_$ = !1;
        }
        $deviceList$jscomp$2$$ && $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$$($JSCompiler_StaticMethods_createSinksFromDevices_$self$$.$g$, $device$jscomp$4_sink$jscomp$6_updated$jscomp$inline_672$$);
      } else {
        $sinksToProcess$jscomp$1$$.push($deviceList$jscomp$2$$);
      }
    }
  });
  return $sinksToProcess$jscomp$1$$;
}, $JSCompiler_StaticMethods_doAddSink_$$ = function($JSCompiler_StaticMethods_doAddSink_$self$$, $sink$jscomp$7$$) {
  var $oldSink$$ = $JSCompiler_StaticMethods_doAddSink_$self$$.$a$.get($sink$jscomp$7$$.getId()), $oldSinkByIp$$ = null, $ipAddress$jscomp$7$$ = $sink$jscomp$7$$.$getIpAddress$(), $port$jscomp$8$$ = $sink$jscomp$7$$.$getPort$();
  null != $ipAddress$jscomp$7$$ && null != $port$jscomp$8$$ && ($oldSinkByIp$$ = $JSCompiler_StaticMethods_doAddSink_$self$$.$l$.get($ipAddress$jscomp$7$$ + ":" + $port$jscomp$8$$));
  if ($oldSink$$ && !$oldSinkByIp$$) {
    var $oldIpAddress$$ = $sink$jscomp$7$$.$getIpAddress$(), $oldPort$$ = $sink$jscomp$7$$.$getPort$();
    $oldIpAddress$$ && $oldPort$$ && $JSCompiler_StaticMethods_doAddSink_$self$$.$l$.remove($oldIpAddress$$ + ":" + $oldPort$$);
  }
  $oldSinkByIp$$ && !$oldSink$$ && $JSCompiler_StaticMethods_doAddSink_$self$$.$a$.remove($oldSinkByIp$$.getId());
  $JSCompiler_StaticMethods_doAddSink_$self$$.$a$.set($sink$jscomp$7$$.getId(), $sink$jscomp$7$$);
  null != $ipAddress$jscomp$7$$ && null != $port$jscomp$8$$ && $JSCompiler_StaticMethods_doAddSink_$self$$.$l$.set($ipAddress$jscomp$7$$ + ":" + $port$jscomp$8$$, $sink$jscomp$7$$);
}, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$, $sink$jscomp$8$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$.$logger_$, "Adding sink " + $sink$jscomp$8$$.getId());
  $JSCompiler_StaticMethods_doAddSink_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$, $sink$jscomp$8$$);
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$.$o$ || ($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$.$o$ = !0, $JSCompiler_StaticMethods_listenToNetworkChanges_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$));
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$.$g$;
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$.$b$.onSinkAvailabilityUpdated($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$, 1);
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$, $sink$jscomp$8$$);
  $JSCompiler_StaticMethods_querySinkStatus$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkAdded$self$jscomp$inline_674_JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$self$$.$h$, $sink$jscomp$8$$);
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$a$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($sink$jscomp$8$$.$v$, $sink$jscomp$8$$.$getIpAddress$());
}, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$$ = function($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$, $ipAddress$jscomp$8_sinkId$jscomp$7$$) {
  var $sink$jscomp$9$$ = $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$a$.get($ipAddress$jscomp$8_sinkId$jscomp$7$$);
  if ($sink$jscomp$9$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$logger_$, "Removing sink " + $ipAddress$jscomp$8_sinkId$jscomp$7$$);
    $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$a$.remove($ipAddress$jscomp$8_sinkId$jscomp$7$$);
    $ipAddress$jscomp$8_sinkId$jscomp$7$$ = $sink$jscomp$9$$.$getIpAddress$();
    var $port$jscomp$9$$ = $sink$jscomp$9$$.$getPort$();
    null != $ipAddress$jscomp$8_sinkId$jscomp$7$$ && null != $port$jscomp$9$$ && $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$l$.remove($ipAddress$jscomp$8_sinkId$jscomp$7$$ + ":" + $port$jscomp$9$$);
    $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$self$$.$g$.$H$($sink$jscomp$9$$);
  }
}, $JSCompiler_StaticMethods_removeAllSinks$$ = function($JSCompiler_StaticMethods_removeAllSinks$self$$) {
  var $sinks$$ = $JSCompiler_StaticMethods_removeAllSinks$self$$.$a$.$getValues$();
  $JSCompiler_StaticMethods_removeAllSinks$self$$.$a$.clear();
  $JSCompiler_StaticMethods_removeAllSinks$self$$.$l$.clear();
  $sinks$$.forEach($JSCompiler_StaticMethods_removeAllSinks$self$$.$g$.$H$, $JSCompiler_StaticMethods_removeAllSinks$self$$.$g$);
}, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$checkAccess$$ = function($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$checkAccess$self$$, $sink$jscomp$10$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$checkAccess$self$$.$logger_$, "Checking access to " + $sink$jscomp$10$$.getId());
  return $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$checkAccess$self$$.$J$, $sink$jscomp$10$$).then(function($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$checkAccess$self$$) {
    if ($sink$jscomp$10$$.$discoveredByDial_$) {
      var $channel$jscomp$4$$ = 4;
      $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$checkAccess$self$$.audioOnly || ($channel$jscomp$4$$ |= 1);
      $sink$jscomp$10$$.$a$ = $channel$jscomp$4$$;
      $sink$jscomp$10$$.$b$.iconType = $JSCompiler_StaticMethods_getSinkIconType_$$($sink$jscomp$10$$.$a$);
    }
    return !0;
  }, function() {
    return !1;
  });
}, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$$ = function($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$self$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$self$$.$logger_$, "Pruning inactive sinks.");
  $goog$iter$forEach$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$self$$.$a$.$__iterator__$(!1), function($sink$jscomp$11$$) {
    $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$self$$.$f$.set($sink$jscomp$11$$.getId(), $sink$jscomp$11$$);
    $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$checkAccess$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$self$$, $sink$jscomp$11$$).then(function($accessible$jscomp$1$$) {
      $accessible$jscomp$1$$ || $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$self$$, $sink$jscomp$11$$.getId());
      $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$self$$.$f$.remove($sink$jscomp$11$$.getId());
    });
  });
};
$mr$cast$SinkDiscoveryService$$.prototype.$b$ = function($id$jscomp$51$$) {
  return this.$a$.get($id$jscomp$51$$, null);
};
var $JSCompiler_StaticMethods_getSinksByAppId$$ = function($JSCompiler_StaticMethods_getSinksByAppId$self$$, $appId$jscomp$3$$) {
  var $sinks$jscomp$1$$ = [];
  $goog$iter$forEach$$($JSCompiler_StaticMethods_getSinksByAppId$self$$.$a$.$__iterator__$(!1), function($JSCompiler_StaticMethods_getSinksByAppId$self$$) {
    $mr$cast$SinkAppStatus$isAvailable$$($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($JSCompiler_StaticMethods_getSinksByAppId$self$$, $appId$jscomp$3$$)) && $sinks$jscomp$1$$.push($JSCompiler_StaticMethods_getSinksByAppId$self$$);
  });
  return $sinks$jscomp$1$$;
};
$mr$cast$SinkDiscoveryService$$.prototype.$getStorageKey$ = function() {
  return "cast.SinkDiscoveryService";
};
$mr$cast$SinkDiscoveryService$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  var $$jscomp$this$jscomp$32$$ = this, $sinksJson$$ = {};
  $goog$iter$forEach$$(this.$a$.$__iterator__$(!0), function($key$jscomp$111$$) {
    var $JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$ = $$jscomp$this$jscomp$32$$.$a$.get($key$jscomp$111$$);
    $JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$ = {id:$JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$.getId(), ip:$JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$.$getIpAddress$(), port:$JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$.$getPort$(), friendlyName:$JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$.$b$.friendlyName, modelName:$JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$.$v$, capabilities:$JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$.$a$, 
    discoveredByDial:$JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$.$discoveredByDial_$, appStatusMap:$JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$.$s$};
    $sinksJson$$[$key$jscomp$111$$] = $JSCompiler_inline_result$jscomp$134_sink$jscomp$inline_680$$;
  });
  return [new $mr$cast$SinkDiscoveryService$PersistentData_$$($sinksJson$$, this.$w$, this.$A$), new $mr$cast$SinkDiscoveryService$PermanentlyPersistentData_$$(this.$o$, this.$D$)];
};
$mr$cast$SinkDiscoveryService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$1_sinkMap$jscomp$inline_683$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$1_sinkMap$jscomp$inline_683$$ && 3 == $savedData$jscomp$1_sinkMap$jscomp$inline_683$$.version) {
    this.$w$ = $savedData$jscomp$1_sinkMap$jscomp$inline_683$$.networkIds;
    this.$A$ = $savedData$jscomp$1_sinkMap$jscomp$inline_683$$.deviceCounts;
    $savedData$jscomp$1_sinkMap$jscomp$inline_683$$ = $savedData$jscomp$1_sinkMap$jscomp$inline_683$$.sinkMap;
    this.$H$ = 0 < Object.keys($savedData$jscomp$1_sinkMap$jscomp$inline_683$$).length;
    for (var $persistentData$jscomp$1_sinkId$jscomp$inline_684$$ in $savedData$jscomp$1_sinkMap$jscomp$inline_683$$) {
      var $sink$jscomp$inline_685$$ = $mr$cast$Sink$fromJson$$($savedData$jscomp$1_sinkMap$jscomp$inline_683$$[$persistentData$jscomp$1_sinkId$jscomp$inline_684$$]);
      this.$b$($sink$jscomp$inline_685$$.getId()) || $JSCompiler_StaticMethods_doAddSink_$$(this, $sink$jscomp$inline_685$$);
    }
    $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$$(this);
  }
  if ($persistentData$jscomp$1_sinkId$jscomp$inline_684$$ = $mr$PersistentDataManager$getPersistentData$$(this)) {
    this.$o$ = $persistentData$jscomp$1_sinkId$jscomp$inline_684$$.hasSavedSinks, this.$D$ = $persistentData$jscomp$1_sinkId$jscomp$inline_684$$.lastSinkCountMetricRecordTime || 0;
  }
};
var $JSCompiler_StaticMethods_loadSavedSinks$$ = function($JSCompiler_StaticMethods_loadSavedSinks$self$$, $sinkMap$jscomp$1$$) {
  $JSCompiler_StaticMethods_loadSavedSinks$self$$.$H$ = 0 < Object.keys($sinkMap$jscomp$1$$).length;
  for (var $sinkId$jscomp$9$$ in $sinkMap$jscomp$1$$) {
    var $sink$jscomp$15$$ = $mr$cast$Sink$fromJson$$($sinkMap$jscomp$1$$[$sinkId$jscomp$9$$]);
    $JSCompiler_StaticMethods_loadSavedSinks$self$$.$b$($sink$jscomp$15$$.getId()) || $JSCompiler_StaticMethods_checkAccessAndUpdateSink$$($JSCompiler_StaticMethods_loadSavedSinks$self$$, $sink$jscomp$15$$, !1);
  }
}, $JSCompiler_StaticMethods_getAndUpdateCurrentNetworks_$$ = function($JSCompiler_StaticMethods_getAndUpdateCurrentNetworks_$self$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getAndUpdateCurrentNetworks_$self$$.$logger_$, "Fetching networks state");
  $JSCompiler_StaticMethods_getAndUpdateCurrentNetworks_$self$$.$h$ && $mr$PersistentDataManager$saveData$$($JSCompiler_StaticMethods_getAndUpdateCurrentNetworks_$self$$.$h$);
  chrome.networkingPrivate.getNetworks({networkType:"All", visible:!0, configured:!0}, function($networks$$) {
    for (var $connectedNetworks$$ = [], $i$jscomp$128$$ = 0; $i$jscomp$128$$ < $networks$$.length; $i$jscomp$128$$++) {
      "Connected" == $networks$$[$i$jscomp$128$$].ConnectionState && $connectedNetworks$$.push($networks$$[$i$jscomp$128$$].GUID);
    }
    $JSCompiler_StaticMethods_updateCurrentNetworks_$$($JSCompiler_StaticMethods_getAndUpdateCurrentNetworks_$self$$, $connectedNetworks$$.sort().join(","));
  });
}, $JSCompiler_StaticMethods_updateCurrentNetworks_$$ = function($JSCompiler_StaticMethods_updateCurrentNetworks_$self$$, $networkIds$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$logger_$, function() {
    return "Update current network " + $mr$cast$SinkDiscoveryService$obfuscateString$$($networkIds$$);
  });
  $networkIds$$ != $JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$F$ && ($JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$h$ && ($mr$PersistentDataManager$dataInstances_$$.delete($JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$h$.$getStorageKey$()), $JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$h$ = null), $networkIds$$ ? ($JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$w$ && $networkIds$$ != $JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$w$ ? 
  $JSCompiler_StaticMethods_removeAllSinks$$($JSCompiler_StaticMethods_updateCurrentNetworks_$self$$) : $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$pruneInactive_$$($JSCompiler_StaticMethods_updateCurrentNetworks_$self$$), $JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$F$ = $networkIds$$, $JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$w$ = $networkIds$$, $JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$h$ = new $mr$cast$NetworkSinkData$$($JSCompiler_StaticMethods_updateCurrentNetworks_$self$$, 
  $JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$F$)) : $JSCompiler_StaticMethods_updateCurrentNetworks_$self$$.$F$ = "");
}, $mr$cast$SinkDiscoveryService$obfuscateString$$ = function($value$jscomp$168$$) {
  for (var $result$jscomp$30$$ = 0, $i$jscomp$129$$ = 0; $i$jscomp$129$$ < $value$jscomp$168$$.length; $i$jscomp$129$$++) {
    $result$jscomp$30$$ += $value$jscomp$168$$.charCodeAt($i$jscomp$129$$);
  }
  return $result$jscomp$30$$;
}, $mr$cast$SinkDiscoveryService$PersistentData_$$ = function($sinkMap$jscomp$2$$, $networkIds$jscomp$1$$, $deviceCounts$jscomp$1$$) {
  this.sinkMap = $sinkMap$jscomp$2$$;
  this.networkIds = $networkIds$jscomp$1$$;
  this.deviceCounts = $deviceCounts$jscomp$1$$;
  this.version = 3;
}, $mr$cast$SinkDiscoveryService$PermanentlyPersistentData_$$ = function($hasSavedSinks$$, $lastSinkCountMetricRecordTime$$) {
  this.hasSavedSinks = $hasSavedSinks$$;
  this.lastSinkCountMetricRecordTime = $lastSinkCountMetricRecordTime$$;
}, $mr$cast$NetworkSinkData$$ = function($service$jscomp$5$$, $networkIds$jscomp$2$$) {
  this.$a$ = $service$jscomp$5$$;
  this.$b$ = $networkIds$jscomp$2$$;
  $mr$PersistentDataManager$register$$(this);
};
$mr$cast$NetworkSinkData$$.prototype.$getStorageKey$ = function() {
  return "cast.NetworkSink." + this.$b$;
};
$mr$cast$NetworkSinkData$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  var $$jscomp$this$jscomp$34$$ = this, $data$jscomp$53$$ = null, $serviceData$jscomp$1$$ = this.$a$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$();
  $serviceData$jscomp$1$$ && (this.$a$.$H$ || 0 < this.$a$.$a$.$getCount$()) && ($data$jscomp$53$$ = $serviceData$jscomp$1$$[0]);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$a$.$logger_$, function() {
    return "Saving sink data for network " + $mr$cast$SinkDiscoveryService$obfuscateString$$($$jscomp$this$jscomp$34$$.$b$);
  });
  return [null, $data$jscomp$53$$];
};
$mr$cast$NetworkSinkData$$.prototype.$loadSavedData$ = function() {
  var $$jscomp$this$jscomp$35$$ = this;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$a$.$logger_$, function() {
    return "Restoring sink data for network " + $mr$cast$SinkDiscoveryService$obfuscateString$$($$jscomp$this$jscomp$35$$.$b$);
  });
  var $savedData$jscomp$2$$ = $mr$PersistentDataManager$getPersistentData$$(this);
  $savedData$jscomp$2$$ && 3 == $savedData$jscomp$2$$.version && $JSCompiler_StaticMethods_loadSavedSinks$$(this.$a$, $savedData$jscomp$2$$.sinkMap);
};
var $mr$cast$OVERLOADED_MESSAGE_TYPES$$ = {STOP_MEDIA:"STOP", MEDIA_SET_VOLUME:"SET_VOLUME", MEDIA_GET_STATUS:"GET_STATUS"};
var $mr$cast$ReceiverStatusRequest$$ = function() {
  this.type = "GET_STATUS";
  this.requestId = 0;
};
var $mr$cast$BroadcastRequest$$ = function($appIds$$, $namespace$jscomp$6$$, $message$jscomp$52$$) {
  this.type = "APPLICATION_BROADCAST";
  this.requestId = 0;
  this.appIds = $appIds$$;
  this.namespace = $namespace$jscomp$6$$;
  this.message = $message$jscomp$52$$;
};
var $mr$cast$LaunchRequest$$ = function($appId$jscomp$4$$) {
  this.type = "LAUNCH";
  this.requestId = 0;
  this.appId = $appId$jscomp$4$$;
  this.language = null;
};
var $mr$cast$StopSessionRequest$$ = function($opt_sessionId$$) {
  this.type = "STOP";
  this.requestId = 0;
  this.sessionId = $opt_sessionId$$ || null;
};
var $mr$cast$PendingRequest$$ = function($requestId$jscomp$2$$, $timeoutMs$$) {
  this.requestId = $requestId$jscomp$2$$;
  this.$b$ = $timeoutMs$$;
  this.$timeoutId$ = null;
};
$mr$cast$PendingRequest$$.prototype.$a$ = function() {
};
var $mr$cast$PendingRequestsManager$$ = function() {
  this.$a$ = new $goog$structs$Map$$;
}, $JSCompiler_StaticMethods_addRequest$$ = function($JSCompiler_StaticMethods_addRequest$self$$, $request$jscomp$13$$) {
  $JSCompiler_StaticMethods_addRequest$self$$.$a$.set($request$jscomp$13$$.requestId, $request$jscomp$13$$);
  $request$jscomp$13$$.$timeoutId$ = setTimeout(function() {
    $JSCompiler_StaticMethods_addRequest$self$$.$a$.remove($request$jscomp$13$$.requestId);
    $request$jscomp$13$$.$a$();
  }, $request$jscomp$13$$.$b$);
}, $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$ = function($JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$self$$, $requestId$jscomp$3$$) {
  var $request$jscomp$14$$ = $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$self$$.$a$.get($requestId$jscomp$3$$);
  if (!$request$jscomp$14$$) {
    return null;
  }
  clearTimeout($request$jscomp$14$$.$timeoutId$);
  $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$self$$.$a$.remove($requestId$jscomp$3$$);
  return $request$jscomp$14$$;
};
var $mr$cast$RequestSender$$ = function($channelService$$, $senderId$$) {
  this.$b$ = $channelService$$;
  this.$f$ = $senderId$$;
  this.$a$ = new $mr$cast$PendingRequestsManager$$;
  this.$g$ = new $mr$IdGenerator$$("cast.RequestIdGenerator");
};
$mr$cast$RequestSender$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this.$g$);
};
var $JSCompiler_StaticMethods_addRequest_$$ = function($JSCompiler_StaticMethods_addRequest_$self$$, $message$jscomp$53_resolver$jscomp$7$$, $request$jscomp$16_timeoutMillis$jscomp$1$$, $opt_sourceId$jscomp$1$$) {
  var $requestId$jscomp$5$$ = $JSCompiler_StaticMethods_getNext$$($JSCompiler_StaticMethods_addRequest_$self$$.$g$);
  $message$jscomp$53_resolver$jscomp$7$$.requestId = $requestId$jscomp$5$$;
  $message$jscomp$53_resolver$jscomp$7$$ = new $mr$PromiseResolver$$;
  $request$jscomp$16_timeoutMillis$jscomp$1$$ = new $mr$cast$RequestSender$PendingRequest$$($requestId$jscomp$5$$, $message$jscomp$53_resolver$jscomp$7$$, $goog$isNumber$$($request$jscomp$16_timeoutMillis$jscomp$1$$) && 0 < $request$jscomp$16_timeoutMillis$jscomp$1$$ ? $request$jscomp$16_timeoutMillis$jscomp$1$$ : 6E5, $opt_sourceId$jscomp$1$$);
  $JSCompiler_StaticMethods_addRequest$$($JSCompiler_StaticMethods_addRequest_$self$$.$a$, $request$jscomp$16_timeoutMillis$jscomp$1$$);
  return $request$jscomp$16_timeoutMillis$jscomp$1$$;
};
$mr$cast$RequestSender$$.prototype.sendRequest = function($message$jscomp$54$$, $receiver$jscomp$1$$, $namespace$jscomp$7$$, $opt_timeoutMillis$$, $opt_sourceId$jscomp$2$$, $opt_destinationId$$) {
  var $$jscomp$this$jscomp$37$$ = this;
  if (!$mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$.hasOwnProperty($namespace$jscomp$7$$)) {
    return Promise.reject(Error("Custom namespace is not supported"));
  }
  var $request$jscomp$18$$ = $JSCompiler_StaticMethods_addRequest_$$(this, $message$jscomp$54$$, $goog$isDef$$($opt_timeoutMillis$$) ? $opt_timeoutMillis$$ : 3000, $opt_sourceId$jscomp$2$$), $resolver$jscomp$8$$ = $request$jscomp$18$$.$resolver$;
  $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$(this.$b$, $receiver$jscomp$1$$, $namespace$jscomp$7$$, $message$jscomp$54$$, $opt_sourceId$jscomp$2$$ || this.$f$, $opt_destinationId$$).then(null, function() {
    $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($$jscomp$this$jscomp$37$$.$a$, $request$jscomp$18$$.requestId);
    $resolver$jscomp$8$$.reject($mr$cast$RequestSender$CHANNEL_ERROR_$$);
  });
  return $resolver$jscomp$8$$.$a$;
};
$mr$cast$RequestSender$$.prototype.sendMessage = function($message$jscomp$55$$, $receiver$jscomp$2$$, $namespace$jscomp$8$$, $opt_timeoutMillis$jscomp$1$$, $opt_sourceId$jscomp$3$$, $opt_destinationId$jscomp$1$$) {
  var $$jscomp$this$jscomp$38$$ = this, $request$jscomp$19$$ = $JSCompiler_StaticMethods_addRequest_$$(this, $message$jscomp$55$$, $goog$isDef$$($opt_timeoutMillis$jscomp$1$$) ? $opt_timeoutMillis$jscomp$1$$ : 3000, $opt_sourceId$jscomp$3$$), $resolver$jscomp$9$$ = $request$jscomp$19$$.$resolver$;
  $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$(this.$b$, $receiver$jscomp$2$$, $namespace$jscomp$8$$, $message$jscomp$55$$, $opt_sourceId$jscomp$3$$ || this.$f$, $opt_destinationId$jscomp$1$$).then(function() {
    $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($$jscomp$this$jscomp$38$$.$a$, $request$jscomp$19$$.requestId);
    $resolver$jscomp$9$$.resolve(!0);
  }, function() {
    $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($$jscomp$this$jscomp$38$$.$a$, $request$jscomp$19$$.requestId);
    $resolver$jscomp$9$$.reject($mr$cast$RequestSender$CHANNEL_ERROR_$$);
  });
  return $resolver$jscomp$9$$.$a$;
};
var $JSCompiler_StaticMethods_requestLaunchSession$$ = function($JSCompiler_StaticMethods_requestLaunchSession$self$$, $sessionRequest$jscomp$1$$, $receiver$jscomp$3$$) {
  var $launchRequest$$ = new $mr$cast$LaunchRequest$$($sessionRequest$jscomp$1$$.appId);
  $launchRequest$$.language = $sessionRequest$jscomp$1$$.language ? $sessionRequest$jscomp$1$$.language : chrome.i18n.getUILanguage ? chrome.i18n.getUILanguage() : chrome.runtime.getManifest().default_locale;
  return $JSCompiler_StaticMethods_requestLaunchSession$self$$.sendRequest($launchRequest$$, $receiver$jscomp$3$$, $mr$cast$Namespace$Cast$RECEIVER$$, $sessionRequest$jscomp$1$$.requestSessionTimeout);
}, $mr$cast$RequestSender$TIMEOUT_ERROR$$ = Error("Timeout"), $mr$cast$RequestSender$CHANNEL_ERROR_$$ = Error("Failed to send message"), $mr$cast$RequestSender$PendingRequest$$ = function($requestId$jscomp$7$$, $resolver$jscomp$10$$, $timeoutMs$jscomp$1$$, $opt_sourceId$jscomp$4$$) {
  $mr$cast$PendingRequest$$.call(this, $requestId$jscomp$7$$, $timeoutMs$jscomp$1$$);
  this.$resolver$ = $resolver$jscomp$10$$;
  this.sourceId = $opt_sourceId$jscomp$4$$;
};
$$jscomp$inherits$$($mr$cast$RequestSender$PendingRequest$$, $mr$cast$PendingRequest$$);
$mr$cast$RequestSender$PendingRequest$$.prototype.$a$ = function() {
  this.$resolver$.reject($mr$cast$RequestSender$TIMEOUT_ERROR$$);
};
var $goog$structs$Set$$ = function($opt_values$jscomp$1$$) {
  this.$a$ = new $goog$structs$Map$$;
  $opt_values$jscomp$1$$ && $JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$$(this, $opt_values$jscomp$1$$);
}, $goog$structs$Set$getKey_$$ = function($val$jscomp$36$$) {
  var $type$jscomp$168$$ = typeof $val$jscomp$36$$;
  return "object" == $type$jscomp$168$$ && $val$jscomp$36$$ || "function" == $type$jscomp$168$$ ? "o" + ($val$jscomp$36$$[$goog$UID_PROPERTY_$$] || ($val$jscomp$36$$[$goog$UID_PROPERTY_$$] = ++$goog$uidCounter_$$)) : $type$jscomp$168$$.substr(0, 1) + $val$jscomp$36$$;
};
$goog$structs$Set$$.prototype.$getCount$ = function() {
  return this.$a$.$getCount$();
};
$goog$structs$Set$$.prototype.add = function($element$jscomp$29$$) {
  this.$a$.set($goog$structs$Set$getKey_$$($element$jscomp$29$$), $element$jscomp$29$$);
};
var $JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$$ = function($JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$self$$, $col$jscomp$11_values$jscomp$16$$) {
  $col$jscomp$11_values$jscomp$16$$ = $goog$structs$getValues$$($col$jscomp$11_values$jscomp$16$$);
  for (var $l$jscomp$20$$ = $col$jscomp$11_values$jscomp$16$$.length, $i$jscomp$130$$ = 0; $i$jscomp$130$$ < $l$jscomp$20$$; $i$jscomp$130$$++) {
    $JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$self$$.add($col$jscomp$11_values$jscomp$16$$[$i$jscomp$130$$]);
  }
};
$JSCompiler_prototypeAlias$$ = $goog$structs$Set$$.prototype;
$JSCompiler_prototypeAlias$$.removeAll = function($col$jscomp$12_values$jscomp$17$$) {
  $col$jscomp$12_values$jscomp$17$$ = $goog$structs$getValues$$($col$jscomp$12_values$jscomp$17$$);
  for (var $l$jscomp$21$$ = $col$jscomp$12_values$jscomp$17$$.length, $i$jscomp$131$$ = 0; $i$jscomp$131$$ < $l$jscomp$21$$; $i$jscomp$131$$++) {
    this.remove($col$jscomp$12_values$jscomp$17$$[$i$jscomp$131$$]);
  }
};
$JSCompiler_prototypeAlias$$.remove = function($element$jscomp$30$$) {
  return this.$a$.remove($goog$structs$Set$getKey_$$($element$jscomp$30$$));
};
$JSCompiler_prototypeAlias$$.clear = function() {
  this.$a$.clear();
};
$JSCompiler_prototypeAlias$$.$isEmpty$ = function() {
  return this.$a$.$isEmpty$();
};
$JSCompiler_prototypeAlias$$.contains = function($element$jscomp$31$$) {
  return this.$a$.$containsKey$($goog$structs$Set$getKey_$$($element$jscomp$31$$));
};
$JSCompiler_prototypeAlias$$.$getValues$ = function() {
  return this.$a$.$getValues$();
};
$JSCompiler_prototypeAlias$$.clone = function() {
  return new $goog$structs$Set$$(this);
};
$JSCompiler_prototypeAlias$$.equals = function($col$jscomp$16$$) {
  return this.$getCount$() == $goog$structs$getCount$$($col$jscomp$16$$) && $JSCompiler_StaticMethods_isSubsetOf$$(this, $col$jscomp$16$$);
};
var $JSCompiler_StaticMethods_isSubsetOf$$ = function($JSCompiler_StaticMethods_isSubsetOf$self$$, $col$jscomp$17$$) {
  var $colCount$$ = $goog$structs$getCount$$($col$jscomp$17$$);
  if ($JSCompiler_StaticMethods_isSubsetOf$self$$.$getCount$() > $colCount$$) {
    return !1;
  }
  !($col$jscomp$17$$ instanceof $goog$structs$Set$$) && 5 < $colCount$$ && ($col$jscomp$17$$ = new $goog$structs$Set$$($col$jscomp$17$$));
  return $goog$structs$every$$($JSCompiler_StaticMethods_isSubsetOf$self$$, function($JSCompiler_StaticMethods_isSubsetOf$self$$) {
    var $colCount$$ = $col$jscomp$17$$;
    return $colCount$$.contains && "function" == typeof $colCount$$.contains ? $colCount$$.contains($JSCompiler_StaticMethods_isSubsetOf$self$$) : $colCount$$.$containsValue$ && "function" == typeof $colCount$$.$containsValue$ ? $colCount$$.$containsValue$($JSCompiler_StaticMethods_isSubsetOf$self$$) : $goog$isArrayLike$$($colCount$$) || $goog$isString$$($colCount$$) ? $goog$array$contains$$($colCount$$, $JSCompiler_StaticMethods_isSubsetOf$self$$) : $goog$object$containsValue$$($colCount$$, $JSCompiler_StaticMethods_isSubsetOf$self$$);
  });
};
$goog$structs$Set$$.prototype.$__iterator__$ = function() {
  return this.$a$.$__iterator__$(!1);
};
var $castApp$eventPage$Message$$ = function($subtype$$, $opt_devices$$) {
  this.type = "cast_app";
  this.originId = window["castApp.eventPage.Message.OriginID"] || void 0;
  this.subtype = $subtype$$;
  this.devices = $opt_devices$$;
  this.logRecord = this.deviceJustSetUp = void 0;
};
$goog$exportSymbol$$("castApp.eventPage.Message", $castApp$eventPage$Message$$);
var $castApp$eventPage$Message$DeviceData$$ = function($ipAddress$jscomp$10$$, $appId$jscomp$5$$, $sessionId$jscomp$6$$) {
  this.ipAddress = $ipAddress$jscomp$10$$;
  this.appId = $appId$jscomp$5$$;
  this.sessionId = $sessionId$jscomp$6$$;
};
$castApp$eventPage$Message$$.DeviceData = $castApp$eventPage$Message$DeviceData$$;
$castApp$eventPage$Message$$.DeviceJustSetUp = function($ipAddress$jscomp$11$$, $name$jscomp$155$$, $udn$$, $opt_modelName$jscomp$1$$) {
  this.ipAddress = $ipAddress$jscomp$11$$;
  this.name = $name$jscomp$155$$;
  this.udn = $udn$$;
  this.modelName = $opt_modelName$jscomp$1$$;
};
$castApp$eventPage$Message$$.DeviceCapabilities = function() {
};
$castApp$eventPage$Message$$.LogRecord = function($levelValue$jscomp$1$$, $msg$jscomp$23$$, $loggerName$jscomp$4$$, $time$jscomp$1$$) {
  this.levelValue = $levelValue$jscomp$1$$;
  this.msg = $msg$jscomp$23$$;
  this.loggerName = $loggerName$jscomp$4$$;
  this.time = $time$jscomp$1$$;
};
var $castApp$eventPage$Service$$ = function($sinkDiscoveryService$$, $castRequestSender$$) {
  this.$f$ = $sinkDiscoveryService$$;
  this.$g$ = $castRequestSender$$;
  this.$b$ = new $goog$structs$Map$$;
  this.$a$ = new $goog$structs$Set$$;
  this.$h$ = 0;
  this.$o$ = new $goog$structs$Map$$("serviceCheck", this.$handleServiceCheckMessage_$.bind(this), "startDeviceMonitor", this.$handleStartDeviceMonitorMessage_$.bind(this), "releaseDeviceMonitor", this.$handleReleaseDeviceMonitorMessage_$.bind(this), "deviceJustSetUp", this.$handleDeviceJustSetUpMessage_$.bind(this), "logRecord", this.$handleLogRecordMessage_$.bind(this));
  chrome.runtime.onMessage.addListener(this.$l$.bind(this));
  chrome.runtime.onMessageExternal.addListener(this.$j$.bind(this));
  $JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$$(this, "serviceReady");
};
$castApp$eventPage$Service$$.prototype.$logger_$ = $mr$Logger$getInstance$$("castApp.eventPage.Service");
var $JSCompiler_StaticMethods_handleSinkUpdate$$ = function($JSCompiler_StaticMethods_handleSinkUpdate$self$$) {
  if ($JSCompiler_StaticMethods_checkMonitorClients_$$($JSCompiler_StaticMethods_handleSinkUpdate$self$$)) {
    var $allDeviceIps$$ = new $goog$structs$Set$$;
    $goog$iter$forEach$$($JSCompiler_StaticMethods_handleSinkUpdate$self$$.$f$.$a$.$__iterator__$(!1), function($JSCompiler_StaticMethods_handleSinkUpdate$self$$) {
      var $deviceListUpdated$$ = $JSCompiler_StaticMethods_handleSinkUpdate$self$$.$getIpAddress$();
      $allDeviceIps$$.add($deviceListUpdated$$);
      this.$b$.$containsKey$($deviceListUpdated$$) || this.$g$.sendRequest(new $mr$cast$ReceiverStatusRequest$$, $JSCompiler_StaticMethods_handleSinkUpdate$self$$, $mr$cast$Namespace$Cast$RECEIVER$$);
    }.bind($JSCompiler_StaticMethods_handleSinkUpdate$self$$));
    var $deviceListUpdated$$ = !1;
    $JSCompiler_StaticMethods_handleSinkUpdate$self$$.$b$.$getKeys$().forEach(function($JSCompiler_StaticMethods_handleSinkUpdate$self$$) {
      $allDeviceIps$$.contains($JSCompiler_StaticMethods_handleSinkUpdate$self$$) || (this.$b$.remove($JSCompiler_StaticMethods_handleSinkUpdate$self$$), $deviceListUpdated$$ = !0);
    }.bind($JSCompiler_StaticMethods_handleSinkUpdate$self$$));
    $deviceListUpdated$$ && $JSCompiler_StaticMethods_broadcastDeviceList_$$($JSCompiler_StaticMethods_handleSinkUpdate$self$$);
  }
}, $JSCompiler_StaticMethods_checkMonitorClients_$$ = function($JSCompiler_StaticMethods_checkMonitorClients_$self$$) {
  if (0 === $JSCompiler_StaticMethods_checkMonitorClients_$self$$.$a$.$getCount$()) {
    return !1;
  }
  var $clientCount_now$$ = $goog$now$$();
  3E4 < $clientCount_now$$ - $JSCompiler_StaticMethods_checkMonitorClients_$self$$.$h$ && ($JSCompiler_StaticMethods_checkMonitorClients_$self$$.$h$ = $clientCount_now$$, chrome.tabs.query({url:["chrome://cast/*", "chrome-extension://" + chrome.runtime.id + "/cast_setup/*"]}, function($JSCompiler_StaticMethods_checkMonitorClients_$self$$) {
    0 === $JSCompiler_StaticMethods_checkMonitorClients_$self$$.length ? ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "No tabs found. Clearing device monitor clients."), this.$a$.clear()) : $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, function() {
      return "Tab check found active tabs: " + $JSCompiler_StaticMethods_checkMonitorClients_$self$$.map(function($JSCompiler_StaticMethods_checkMonitorClients_$self$$) {
        return $JSCompiler_StaticMethods_checkMonitorClients_$self$$.id;
      });
    });
  }.bind($JSCompiler_StaticMethods_checkMonitorClients_$self$$)));
  $clientCount_now$$ = $JSCompiler_StaticMethods_checkMonitorClients_$self$$.$a$.$getCount$();
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_checkMonitorClients_$self$$.$logger_$, "Monitor client count: " + $clientCount_now$$);
  return 0 < $clientCount_now$$;
};
$castApp$eventPage$Service$$.prototype.$l$ = function($rawMsg$$, $sender$jscomp$1$$, $sendResponse$$) {
  if ("object" !== typeof $rawMsg$$ || "cast_app" !== $rawMsg$$.type) {
    return !1;
  }
  var $handler$jscomp$22$$ = this.$o$.get($rawMsg$$.subtype);
  if (!$handler$jscomp$22$$) {
    return !1;
  }
  if (!$rawMsg$$.originId) {
    return $goog$asserts$fail$$("Missing origin ID in the incoming message."), !1;
  }
  try {
    var $result$jscomp$33$$ = $handler$jscomp$22$$($rawMsg$$, $sender$jscomp$1$$, $sendResponse$$);
    $result$jscomp$33$$ && $sendResponse$$($result$jscomp$33$$);
  } catch ($err$jscomp$24$$) {
    this.$logger_$.error("Error while handling request", $err$jscomp$24$$);
  }
  return !1;
};
var $JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$$ = function($JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$self$$, $subtype$jscomp$1$$, $opt_devices$jscomp$1$$) {
  var $msg$jscomp$25$$ = new $castApp$eventPage$Message$$($subtype$jscomp$1$$, $opt_devices$jscomp$1$$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$self$$.$logger_$, function() {
    return "Sending message: " + JSON.stringify($msg$jscomp$25$$);
  });
  chrome.runtime.sendMessage($msg$jscomp$25$$);
};
$JSCompiler_prototypeAlias$$ = $castApp$eventPage$Service$$.prototype;
$JSCompiler_prototypeAlias$$.$handleServiceCheckMessage_$ = function() {
  $JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$$(this, "serviceReady");
};
$JSCompiler_prototypeAlias$$.$handleStartDeviceMonitorMessage_$ = function($msg$jscomp$26$$) {
  this.$a$.contains($goog$asserts$assert$$($msg$jscomp$26$$.originId)) ? $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Client: " + $msg$jscomp$26$$.originId + "already registered, dispatching current device list.") : ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Registering monitor client: " + $msg$jscomp$26$$.originId), this.$a$.add($goog$asserts$assert$$($msg$jscomp$26$$.originId)));
  $JSCompiler_StaticMethods_broadcastDeviceList_$$(this);
  $JSCompiler_StaticMethods_refreshDevices_$$(this);
};
$JSCompiler_prototypeAlias$$.$handleReleaseDeviceMonitorMessage_$ = function($msg$jscomp$27$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Unregistering monitor client: " + $msg$jscomp$27$$.originId);
  this.$a$.remove($goog$asserts$assert$$($msg$jscomp$27$$.originId));
};
$JSCompiler_prototypeAlias$$.$handleDeviceJustSetUpMessage_$ = function($deviceJustSetUp_msg$jscomp$28$$) {
  $deviceJustSetUp_msg$jscomp$28$$ = $goog$asserts$assert$$($deviceJustSetUp_msg$jscomp$28$$.deviceJustSetUp);
  var $processedUdn$$ = $deviceJustSetUp_msg$jscomp$28$$.udn.replace(/-/g, "").toLowerCase(), $capabilities$jscomp$4_newSink$jscomp$1$$;
  $deviceJustSetUp_msg$jscomp$28$$.capabilities && ($capabilities$jscomp$4_newSink$jscomp$1$$ = ($deviceJustSetUp_msg$jscomp$28$$.capabilities.audioOutSupported ? 4 : 0) | ($deviceJustSetUp_msg$jscomp$28$$.capabilities.videoOutSupported ? 1 : 0));
  $capabilities$jscomp$4_newSink$jscomp$1$$ = new $mr$cast$Sink$$($processedUdn$$, $deviceJustSetUp_msg$jscomp$28$$.name, $deviceJustSetUp_msg$jscomp$28$$.modelName, $capabilities$jscomp$4_newSink$jscomp$1$$, $deviceJustSetUp_msg$jscomp$28$$.ipAddress, $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$f$ || 8009);
  $JSCompiler_StaticMethods_checkAccessAndUpdateSink$$(this.$f$, $capabilities$jscomp$4_newSink$jscomp$1$$, !0);
};
$JSCompiler_prototypeAlias$$.$handleLogRecordMessage_$ = function($msg$jscomp$29_msgPayload$$) {
  $msg$jscomp$29_msgPayload$$ = $goog$asserts$assert$$($msg$jscomp$29_msgPayload$$.logRecord);
  $mr$Logger$logRecord$$({level:$mr$Logger$numberToLevel$$($msg$jscomp$29_msgPayload$$.levelValue), $logger$:$msg$jscomp$29_msgPayload$$.loggerName, time:$msg$jscomp$29_msgPayload$$.time, message:$msg$jscomp$29_msgPayload$$.msg});
};
var $JSCompiler_StaticMethods_broadcastDeviceList_$$ = function($JSCompiler_StaticMethods_broadcastDeviceList_$self$$) {
  var $deviceList$jscomp$3$$ = $JSCompiler_StaticMethods_broadcastDeviceList_$self$$.$b$.$getValues$();
  $JSCompiler_StaticMethods_castApp_eventPage_Service_prototype$sendMessage_$$($JSCompiler_StaticMethods_broadcastDeviceList_$self$$, "devices", $deviceList$jscomp$3$$);
}, $JSCompiler_StaticMethods_refreshDevices_$$ = function($JSCompiler_StaticMethods_refreshDevices_$self$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_refreshDevices_$self$$.$f$.$logger_$, "Executing forceDiscovery.");
  chrome.mdns.forceDiscovery($goog$nullFunction$$);
  $JSCompiler_StaticMethods_refreshDevices_$self$$.$f$.$a$.$getValues$().forEach(function($JSCompiler_StaticMethods_refreshDevices_$self$$) {
    this.$g$.sendRequest(new $mr$cast$ReceiverStatusRequest$$, $JSCompiler_StaticMethods_refreshDevices_$self$$, $mr$cast$Namespace$Cast$RECEIVER$$);
  }.bind($JSCompiler_StaticMethods_refreshDevices_$self$$));
};
$castApp$eventPage$Service$$.prototype.$j$ = function($rawMsg$jscomp$1$$, $sender$jscomp$2_tabId$jscomp$14$$, $sendResponse$jscomp$1$$) {
  switch($rawMsg$jscomp$1$$.type) {
    case "handshake":
      $sendResponse$jscomp$1$$(new $castApp$frontEnd$ExtensionMessage$$("handshake"));
      break;
    case "launch":
      $sender$jscomp$2_tabId$jscomp$14$$ = $sender$jscomp$2_tabId$jscomp$14$$.tab && $goog$isNumber$$($sender$jscomp$2_tabId$jscomp$14$$.tab.id) ? $sender$jscomp$2_tabId$jscomp$14$$.tab.id : null, null === $sender$jscomp$2_tabId$jscomp$14$$ || "setup" !== $rawMsg$jscomp$1$$.entryPoint && "offers" !== $rawMsg$jscomp$1$$.entryPoint && "devices" !== $rawMsg$jscomp$1$$.entryPoint || chrome.tabs.update($sender$jscomp$2_tabId$jscomp$14$$, {url:"chrome://cast#" + $rawMsg$jscomp$1$$.entryPoint});
  }
};
chrome.cast.$AutoJoinPolicy$ = {CUSTOM_CONTROLLER_SCOPED:"custom_controller_scoped", TAB_AND_ORIGIN_SCOPED:"tab_and_origin_scoped", ORIGIN_SCOPED:"origin_scoped", PAGE_SCOPED:"page_scoped"};
$goog$exportSymbol$$("chrome.cast.AutoJoinPolicy", chrome.cast.$AutoJoinPolicy$);
chrome.cast.$DefaultActionPolicy$ = {CREATE_SESSION:"create_session", CAST_THIS_TAB:"cast_this_tab"};
$goog$exportSymbol$$("chrome.cast.DefaultActionPolicy", chrome.cast.$DefaultActionPolicy$);
chrome.cast.$Capability$ = {VIDEO_OUT:"video_out", AUDIO_OUT:"audio_out", VIDEO_IN:"video_in", AUDIO_IN:"audio_in", MULTIZONE_GROUP:"multizone_group"};
$goog$exportSymbol$$("chrome.cast.Capability", chrome.cast.$Capability$);
chrome.cast.$ErrorCode$ = {CANCEL:"cancel", TIMEOUT:"timeout", API_NOT_INITIALIZED:"api_not_initialized", INVALID_PARAMETER:"invalid_parameter", EXTENSION_NOT_COMPATIBLE:"extension_not_compatible", EXTENSION_MISSING:"extension_missing", RECEIVER_UNAVAILABLE:"receiver_unavailable", SESSION_ERROR:"session_error", CHANNEL_ERROR:"channel_error", LOAD_MEDIA_FAILED:"load_media_failed"};
$goog$exportSymbol$$("chrome.cast.ErrorCode", chrome.cast.$ErrorCode$);
chrome.cast.$ReceiverAvailability$ = {AVAILABLE:"available", UNAVAILABLE:"unavailable"};
$goog$exportSymbol$$("chrome.cast.ReceiverAvailability", chrome.cast.$ReceiverAvailability$);
chrome.cast.$SenderPlatform$ = {CHROME:"chrome", IOS:"ios", ANDROID:"android"};
$goog$exportSymbol$$("chrome.cast.SenderPlatform", chrome.cast.$SenderPlatform$);
chrome.cast.$ReceiverType$ = {CAST:"cast", DIAL:"dial", HANGOUT:"hangout", CUSTOM:"custom"};
$goog$exportSymbol$$("chrome.cast.ReceiverType", chrome.cast.$ReceiverType$);
chrome.cast.$DialAppState$ = {RUNNING:"running", STOPPED:"stopped", ERROR:"error"};
$goog$exportSymbol$$("chrome.cast.DialAppState", chrome.cast.$DialAppState$);
chrome.cast.$ReceiverAction$ = {CAST:"cast", STOP:"stop"};
$goog$exportSymbol$$("chrome.cast.ReceiverAction", chrome.cast.$ReceiverAction$);
chrome.cast.$SessionStatus$ = {CONNECTED:"connected", DISCONNECTED:"disconnected", STOPPED:"stopped"};
$goog$exportSymbol$$("chrome.cast.SessionStatus", chrome.cast.$SessionStatus$);
chrome.cast.$VolumeControlType$ = {ATTENUATION:"attenuation", FIXED:"fixed", MASTER:"master"};
$goog$exportSymbol$$("chrome.cast.VolumeControlType", chrome.cast.$VolumeControlType$);
chrome.cast.VERSION = [1, 2];
$goog$exportSymbol$$("chrome.cast.VERSION", chrome.cast.VERSION);
chrome.cast.$usingPresentationApi$ = !0;
$goog$exportSymbol$$("chrome.cast.usingPresentationApi", chrome.cast.$usingPresentationApi$);
chrome.cast.Error = function($code$jscomp$5$$, $opt_description$jscomp$2$$, $opt_details$$) {
  this.code = $code$jscomp$5$$;
  this.description = $opt_description$jscomp$2$$ || null;
  this.details = $opt_details$$ || null;
};
$goog$exportSymbol$$("chrome.cast.Error", chrome.cast.Error);
chrome.cast.$SenderApplication$ = function($platform$$) {
  this.platform = $platform$$;
  this.packageId = this.url = null;
};
$goog$exportSymbol$$("chrome.cast.SenderApplication", chrome.cast.$SenderApplication$);
chrome.cast.Image = function($url$jscomp$69$$) {
  this.url = $url$jscomp$69$$;
  this.width = this.height = null;
};
$goog$exportSymbol$$("chrome.cast.Image", chrome.cast.Image);
chrome.cast.Volume = function($opt_level$jscomp$1$$, $opt_muted$$) {
  this.level = $goog$isDef$$($opt_level$jscomp$1$$) ? $opt_level$jscomp$1$$ : null;
  this.muted = $goog$isDef$$($opt_muted$$) ? $opt_muted$$ : null;
};
$goog$exportSymbol$$("chrome.cast.Volume", chrome.cast.Volume);
chrome.cast.$ApiConfig$ = function($sessionRequest$jscomp$2$$, $sessionListener$$, $receiverListener$$, $opt_autoJoinPolicy$$, $opt_defaultActionPolicy$$) {
  this.sessionRequest = $sessionRequest$jscomp$2$$;
  this.sessionListener = $sessionListener$$;
  this.receiverListener = $receiverListener$$;
  this.autoJoinPolicy = $opt_autoJoinPolicy$$ || chrome.cast.$AutoJoinPolicy$.TAB_AND_ORIGIN_SCOPED;
  this.defaultActionPolicy = $opt_defaultActionPolicy$$ || chrome.cast.$DefaultActionPolicy$.CREATE_SESSION;
  this.customDialLaunchCallback = null;
  this.invisibleSender = !1;
  this.additionalSessionRequests = [];
};
$goog$exportSymbol$$("chrome.cast.ApiConfig", chrome.cast.$ApiConfig$);
chrome.cast.$DialRequest$ = function($appName$jscomp$3$$, $opt_launchParameter$$) {
  this.appName = $appName$jscomp$3$$;
  this.launchParameter = $opt_launchParameter$$ || null;
};
$goog$exportSymbol$$("chrome.cast.DialRequest", chrome.cast.$DialRequest$);
chrome.cast.$DialLaunchData$ = function($receiver$jscomp$5$$, $appState$$, $opt_extraData$$) {
  this.receiver = $receiver$jscomp$5$$;
  this.appState = $appState$$;
  this.extraData = $opt_extraData$$ || null;
};
$goog$exportSymbol$$("chrome.cast.DialLaunchData", chrome.cast.$DialLaunchData$);
chrome.cast.$DialLaunchResponse$ = function($doLaunch$$, $opt_launchParameter$jscomp$1$$) {
  this.doLaunch = $doLaunch$$;
  this.launchParameter = $opt_launchParameter$jscomp$1$$ || null;
};
$goog$exportSymbol$$("chrome.cast.DialLaunchResponse", chrome.cast.$DialLaunchResponse$);
chrome.cast.$SessionRequest$ = function($appId$jscomp$6$$, $opt_capabilities$jscomp$2$$, $opt_timeout$$) {
  this.appId = $appId$jscomp$6$$;
  this.capabilities = $goog$isArray$$($opt_capabilities$jscomp$2$$) ? $opt_capabilities$jscomp$2$$ : [chrome.cast.$Capability$.VIDEO_OUT, chrome.cast.$Capability$.AUDIO_OUT];
  this.requestSessionTimeout = $opt_timeout$$ || chrome.cast.timeout.requestSession;
  this.dialRequest = this.language = null;
};
$goog$exportSymbol$$("chrome.cast.SessionRequest", chrome.cast.$SessionRequest$);
chrome.cast.$Receiver$ = function($label$jscomp$4_str$jscomp$inline_724$$, $friendlyName$jscomp$6$$, $opt_capabilities$jscomp$3$$, $opt_volume$$) {
  this.label = $label$jscomp$4_str$jscomp$inline_724$$;
  $label$jscomp$4_str$jscomp$inline_724$$ = $friendlyName$jscomp$6$$;
  $goog$string$ALL_RE_$$.test($label$jscomp$4_str$jscomp$inline_724$$) && (-1 != $label$jscomp$4_str$jscomp$inline_724$$.indexOf("&") && ($label$jscomp$4_str$jscomp$inline_724$$ = $label$jscomp$4_str$jscomp$inline_724$$.replace($goog$string$AMP_RE_$$, "&amp;")), -1 != $label$jscomp$4_str$jscomp$inline_724$$.indexOf("<") && ($label$jscomp$4_str$jscomp$inline_724$$ = $label$jscomp$4_str$jscomp$inline_724$$.replace($goog$string$LT_RE_$$, "&lt;")), -1 != $label$jscomp$4_str$jscomp$inline_724$$.indexOf(">") && 
  ($label$jscomp$4_str$jscomp$inline_724$$ = $label$jscomp$4_str$jscomp$inline_724$$.replace($goog$string$GT_RE_$$, "&gt;")), -1 != $label$jscomp$4_str$jscomp$inline_724$$.indexOf('"') && ($label$jscomp$4_str$jscomp$inline_724$$ = $label$jscomp$4_str$jscomp$inline_724$$.replace($goog$string$QUOT_RE_$$, "&quot;")), -1 != $label$jscomp$4_str$jscomp$inline_724$$.indexOf("'") && ($label$jscomp$4_str$jscomp$inline_724$$ = $label$jscomp$4_str$jscomp$inline_724$$.replace($goog$string$SINGLE_QUOTE_RE_$$, 
  "&#39;")), -1 != $label$jscomp$4_str$jscomp$inline_724$$.indexOf("\x00") && ($label$jscomp$4_str$jscomp$inline_724$$ = $label$jscomp$4_str$jscomp$inline_724$$.replace($goog$string$NULL_RE_$$, "&#0;")));
  this.friendlyName = $label$jscomp$4_str$jscomp$inline_724$$;
  this.capabilities = $opt_capabilities$jscomp$3$$ || [];
  this.volume = $opt_volume$$ || null;
  this.receiverType = chrome.cast.$ReceiverType$.CAST;
  this.displayStatus = this.isActiveInput = null;
};
$goog$exportSymbol$$("chrome.cast.Receiver", chrome.cast.$Receiver$);
chrome.cast.$ReceiverDisplayStatus$ = function($statusText$$, $appImages$$) {
  this.statusText = $statusText$$;
  this.appImages = $appImages$$;
  this.showStop = null;
};
$goog$exportSymbol$$("chrome.cast.ReceiverDisplayStatus", chrome.cast.$ReceiverDisplayStatus$);
chrome.cast.$Timeout$ = function() {
  this.requestSession = 60000;
  this.sendCustomMessage = this.setReceiverVolume = this.stopSession = this.leaveSession = 3000;
};
$goog$exportSymbol$$("chrome.cast.Timeout", chrome.cast.$Timeout$);
chrome.cast.timeout = new chrome.cast.$Timeout$;
$goog$exportSymbol$$("chrome.cast.timeout", chrome.cast.timeout);
chrome.cast.$AUTO_JOIN_PRESENTATION_ID$ = "auto-join";
chrome.cast.$PRESENTATION_ID_PREFIX$ = "cast-session_";
chrome.cast.media.$MediaCommand$ = {PAUSE:"pause", SEEK:"seek", STREAM_VOLUME:"stream_volume", STREAM_MUTE:"stream_mute"};
$goog$exportSymbol$$("chrome.cast.media.MediaCommand", chrome.cast.media.$MediaCommand$);
chrome.cast.media.$MetadataType$ = {GENERIC:0, MOVIE:1, TV_SHOW:2, MUSIC_TRACK:3, PHOTO:4};
$goog$exportSymbol$$("chrome.cast.media.MetadataType", chrome.cast.media.$MetadataType$);
chrome.cast.media.$PlayerState$ = {IDLE:"IDLE", PLAYING:"PLAYING", PAUSED:"PAUSED", BUFFERING:"BUFFERING"};
$goog$exportSymbol$$("chrome.cast.media.PlayerState", chrome.cast.media.$PlayerState$);
chrome.cast.media.$RepeatMode$ = {OFF:"REPEAT_OFF", ALL:"REPEAT_ALL", SINGLE:"REPEAT_SINGLE", ALL_AND_SHUFFLE:"REPEAT_ALL_AND_SHUFFLE"};
$goog$exportSymbol$$("chrome.cast.media.RepeatMode", chrome.cast.media.$RepeatMode$);
chrome.cast.media.$ResumeState$ = {PLAYBACK_START:"PLAYBACK_START", PLAYBACK_PAUSE:"PLAYBACK_PAUSE"};
$goog$exportSymbol$$("chrome.cast.media.ResumeState", chrome.cast.media.$ResumeState$);
chrome.cast.media.$StreamType$ = {BUFFERED:"BUFFERED", LIVE:"LIVE", OTHER:"OTHER"};
$goog$exportSymbol$$("chrome.cast.media.StreamType", chrome.cast.media.$StreamType$);
chrome.cast.media.$IdleReason$ = {CANCELLED:"CANCELLED", INTERRUPTED:"INTERRUPTED", FINISHED:"FINISHED", ERROR:"ERROR"};
$goog$exportSymbol$$("chrome.cast.media.IdleReason", chrome.cast.media.$IdleReason$);
chrome.cast.media.$TrackType$ = {TEXT:"TEXT", AUDIO:"AUDIO", VIDEO:"VIDEO"};
$goog$exportSymbol$$("chrome.cast.media.TrackType", chrome.cast.media.$TrackType$);
chrome.cast.media.$TextTrackType$ = {SUBTITLES:"SUBTITLES", CAPTIONS:"CAPTIONS", DESCRIPTIONS:"DESCRIPTIONS", CHAPTERS:"CHAPTERS", METADATA:"METADATA"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackType", chrome.cast.media.$TextTrackType$);
chrome.cast.media.$TextTrackEdgeType$ = {NONE:"NONE", OUTLINE:"OUTLINE", DROP_SHADOW:"DROP_SHADOW", RAISED:"RAISED", DEPRESSED:"DEPRESSED"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackEdgeType", chrome.cast.media.$TextTrackEdgeType$);
chrome.cast.media.$TextTrackWindowType$ = {NONE:"NONE", NORMAL:"NORMAL", ROUNDED_CORNERS:"ROUNDED_CORNERS"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackWindowType", chrome.cast.media.$TextTrackWindowType$);
chrome.cast.media.$TextTrackFontGenericFamily$ = {SANS_SERIF:"SANS_SERIF", MONOSPACED_SANS_SERIF:"MONOSPACED_SANS_SERIF", SERIF:"SERIF", MONOSPACED_SERIF:"MONOSPACED_SERIF", CASUAL:"CASUAL", CURSIVE:"CURSIVE", SMALL_CAPITALS:"SMALL_CAPITALS"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackFontGenericFamily", chrome.cast.media.$TextTrackFontGenericFamily$);
chrome.cast.media.$TextTrackFontStyle$ = {NORMAL:"NORMAL", BOLD:"BOLD", BOLD_ITALIC:"BOLD_ITALIC", ITALIC:"ITALIC"};
$goog$exportSymbol$$("chrome.cast.media.TextTrackFontStyle", chrome.cast.media.$TextTrackFontStyle$);
chrome.cast.media.$GetStatusRequest$ = function() {
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.GetStatusRequest", chrome.cast.media.$GetStatusRequest$);
chrome.cast.media.$PauseRequest$ = function() {
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.PauseRequest", chrome.cast.media.$PauseRequest$);
chrome.cast.media.$PlayRequest$ = function() {
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.PlayRequest", chrome.cast.media.$PlayRequest$);
chrome.cast.media.$SeekRequest$ = function() {
  this.customData = this.resumeState = this.currentTime = null;
};
$goog$exportSymbol$$("chrome.cast.media.SeekRequest", chrome.cast.media.$SeekRequest$);
chrome.cast.media.$StopRequest$ = function() {
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.StopRequest", chrome.cast.media.$StopRequest$);
chrome.cast.media.$VolumeRequest$ = function($volume$$) {
  this.volume = $volume$$;
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.VolumeRequest", chrome.cast.media.$VolumeRequest$);
chrome.cast.media.$LoadRequest$ = function($mediaInfo$$) {
  this.type = "LOAD";
  this.requestId = 0;
  this.sessionId = null;
  this.media = $mediaInfo$$;
  this.activeTrackIds = null;
  this.autoplay = !0;
  this.customData = this.currentTime = null;
};
$goog$exportSymbol$$("chrome.cast.media.LoadRequest", chrome.cast.media.$LoadRequest$);
chrome.cast.media.$PrecacheRequest$ = function($data$jscomp$54$$) {
  this.type = "PRECACHE";
  this.requestId = 0;
  this.data = $data$jscomp$54$$;
};
chrome.cast.media.$EditTracksInfoRequest$ = function($opt_activeTrackIds$$, $opt_textTrackStyle$$) {
  this.requestId = 0;
  this.activeTrackIds = $opt_activeTrackIds$$ || null;
  this.textTrackStyle = $opt_textTrackStyle$$ || null;
};
$goog$exportSymbol$$("chrome.cast.media.EditTracksInfoRequest", chrome.cast.media.$EditTracksInfoRequest$);
chrome.cast.media.$GenericMediaMetadata$ = function() {
  this.metadataType = this.type = chrome.cast.media.$MetadataType$.GENERIC;
  this.releaseDate = this.releaseYear = this.images = this.subtitle = this.title = null;
};
$goog$exportSymbol$$("chrome.cast.media.GenericMediaMetadata", chrome.cast.media.$GenericMediaMetadata$);
chrome.cast.media.$MovieMediaMetadata$ = function() {
  this.metadataType = this.type = chrome.cast.media.$MetadataType$.MOVIE;
  this.releaseDate = this.releaseYear = this.images = this.subtitle = this.studio = this.title = null;
};
$goog$exportSymbol$$("chrome.cast.media.MovieMediaMetadata", chrome.cast.media.$MovieMediaMetadata$);
chrome.cast.media.$TvShowMediaMetadata$ = function() {
  this.metadataType = this.type = chrome.cast.media.$MetadataType$.TV_SHOW;
  this.originalAirdate = this.releaseYear = this.images = this.episode = this.episodeNumber = this.season = this.seasonNumber = this.episodeTitle = this.title = this.seriesTitle = null;
};
$goog$exportSymbol$$("chrome.cast.media.TvShowMediaMetadata", chrome.cast.media.$TvShowMediaMetadata$);
chrome.cast.media.$MusicTrackMediaMetadata$ = function() {
  this.metadataType = this.type = chrome.cast.media.$MetadataType$.MUSIC_TRACK;
  this.releaseDate = this.releaseYear = this.images = this.discNumber = this.trackNumber = this.artistName = this.songName = this.composer = this.artist = this.albumArtist = this.title = this.albumName = null;
};
$goog$exportSymbol$$("chrome.cast.media.MusicTrackMediaMetadata", chrome.cast.media.$MusicTrackMediaMetadata$);
chrome.cast.media.$PhotoMediaMetadata$ = function() {
  this.metadataType = this.type = chrome.cast.media.$MetadataType$.PHOTO;
  this.creationDateTime = this.height = this.width = this.longitude = this.latitude = this.images = this.location = this.artist = this.title = null;
};
$goog$exportSymbol$$("chrome.cast.media.PhotoMediaMetadata", chrome.cast.media.$PhotoMediaMetadata$);
chrome.cast.media.$MediaInfo$ = function($contentId$$, $contentType$jscomp$2$$) {
  this.contentId = $contentId$$;
  this.streamType = chrome.cast.media.$StreamType$.BUFFERED;
  this.contentType = $contentType$jscomp$2$$;
  this.customData = this.textTrackStyle = this.tracks = this.duration = this.metadata = null;
};
$goog$exportSymbol$$("chrome.cast.media.MediaInfo", chrome.cast.media.$MediaInfo$);
chrome.cast.media.$QueueItem$ = function($mediaInfo$jscomp$1$$) {
  this.itemId = null;
  this.media = $mediaInfo$jscomp$1$$;
  this.autoplay = !0;
  this.startTime = 0;
  this.playbackDuration = null;
  this.preloadTime = 0;
  this.customData = this.activeTrackIds = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueItem", chrome.cast.media.$QueueItem$);
chrome.cast.media.$DEFAULT_MEDIA_RECEIVER_APP_ID$ = "CC1AD845";
$goog$exportSymbol$$("chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID", chrome.cast.media.$DEFAULT_MEDIA_RECEIVER_APP_ID$);
chrome.cast.media.timeout = {};
chrome.cast.media.timeout.load = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.load", chrome.cast.media.timeout.load);
chrome.cast.media.timeout.$getStatus$ = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.getStatus", chrome.cast.media.timeout.$getStatus$);
chrome.cast.media.timeout.play = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.play", chrome.cast.media.timeout.play);
chrome.cast.media.timeout.pause = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.pause", chrome.cast.media.timeout.pause);
chrome.cast.media.timeout.seek = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.seek", chrome.cast.media.timeout.seek);
chrome.cast.media.timeout.stop = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.stop", chrome.cast.media.timeout.stop);
chrome.cast.media.timeout.$setVolume$ = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.setVolume", chrome.cast.media.timeout.$setVolume$);
chrome.cast.media.timeout.$editTracksInfo$ = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.editTracksInfo", chrome.cast.media.timeout.$editTracksInfo$);
chrome.cast.media.timeout.$queue$ = 0;
$goog$exportSymbol$$("chrome.cast.media.timeout.queue", chrome.cast.media.timeout.$queue$);
chrome.cast.media.$Track$ = function($trackId$jscomp$1$$, $trackType$$) {
  this.trackId = $trackId$jscomp$1$$;
  this.trackContentType = this.trackContentId = null;
  this.type = $trackType$$;
  this.customData = this.subtype = this.language = this.name = null;
};
$goog$exportSymbol$$("chrome.cast.media.Track", chrome.cast.media.$Track$);
chrome.cast.media.$TextTrackStyle$ = function() {
  this.customData = this.fontStyle = this.fontGenericFamily = this.fontFamily = this.fontScale = this.windowRoundedCornerRadius = this.windowColor = this.windowType = this.edgeColor = this.edgeType = this.backgroundColor = this.foregroundColor = null;
};
$goog$exportSymbol$$("chrome.cast.media.TextTrackStyle", chrome.cast.media.$TextTrackStyle$);
chrome.cast.media.$QueueLoadRequest$ = function($items$jscomp$1$$) {
  this.type = "QUEUE_LOAD";
  this.sessionId = this.requestId = null;
  this.items = $items$jscomp$1$$;
  this.startIndex = 0;
  this.repeatMode = chrome.cast.media.$RepeatMode$.OFF;
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueLoadRequest", chrome.cast.media.$QueueLoadRequest$);
chrome.cast.media.$QueueInsertItemsRequest$ = function($itemsToInsert$$) {
  this.type = "QUEUE_INSERT";
  this.sessionId = this.requestId = null;
  this.items = $itemsToInsert$$;
  this.customData = this.insertBefore = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueInsertItemsRequest", chrome.cast.media.$QueueInsertItemsRequest$);
chrome.cast.media.$QueueUpdateItemsRequest$ = function($itemsToUpdate$$) {
  this.type = "QUEUE_UPDATE";
  this.sessionId = this.requestId = null;
  this.items = $itemsToUpdate$$;
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueUpdateItemsRequest", chrome.cast.media.$QueueUpdateItemsRequest$);
chrome.cast.media.$QueueJumpRequest$ = function() {
  this.type = "QUEUE_UPDATE";
  this.customData = this.jump = this.currentItemId = this.sessionId = this.requestId = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueJumpRequest", chrome.cast.media.$QueueJumpRequest$);
chrome.cast.media.$QueueSetPropertiesRequest$ = function() {
  this.type = "QUEUE_UPDATE";
  this.customData = this.repeatMode = this.sessionId = this.requestId = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueSetPropertiesRequest", chrome.cast.media.$QueueSetPropertiesRequest$);
chrome.cast.media.$QueueRemoveItemsRequest$ = function($itemIdsToRemove$$) {
  this.type = "QUEUE_REMOVE";
  this.sessionId = this.requestId = null;
  this.itemIds = $itemIdsToRemove$$;
  this.customData = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueRemoveItemsRequest", chrome.cast.media.$QueueRemoveItemsRequest$);
chrome.cast.media.$QueueReorderItemsRequest$ = function($itemIdsToReorder$$) {
  this.type = "QUEUE_REORDER";
  this.sessionId = this.requestId = null;
  this.itemIds = $itemIdsToReorder$$;
  this.customData = this.insertBefore = null;
};
$goog$exportSymbol$$("chrome.cast.media.QueueReorderItemsRequest", chrome.cast.media.$QueueReorderItemsRequest$);
chrome.cast.media.$Media$ = function($sessionId$jscomp$7$$, $mediaSessionId$$) {
  this.sessionId = $sessionId$jscomp$7$$;
  this.mediaSessionId = $mediaSessionId$$;
  this.media = null;
  this.playbackRate = 1.0;
  this.playerState = chrome.cast.media.$PlayerState$.IDLE;
  this.currentTime = 0.0;
  this.supportedMediaCommands = [];
  this.volume = new chrome.cast.Volume;
  this.items = this.preloadedItemId = this.loadingItemId = this.currentItemId = this.customData = this.activeTrackIds = this.idleReason = null;
  this.repeatMode = chrome.cast.media.$RepeatMode$.OFF;
};
$goog$exportSymbol$$("chrome.cast.media.Media", chrome.cast.media.$Media$);
chrome.cast.media.$Media$.prototype.$getStatus$ = function() {
};
chrome.cast.media.$Media$.prototype.getStatus = chrome.cast.media.$Media$.prototype.$getStatus$;
chrome.cast.media.$Media$.prototype.play = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.media.$Media$.prototype.play = chrome.cast.media.$Media$.prototype.play;
chrome.cast.media.$Media$.prototype.$playWithContext$ = function() {
};
chrome.cast.media.$Media$.prototype.playWithContext = chrome.cast.media.$Media$.prototype.$playWithContext$;
chrome.cast.media.$Media$.prototype.pause = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.media.$Media$.prototype.pause = chrome.cast.media.$Media$.prototype.pause;
chrome.cast.media.$Media$.prototype.$pauseWithContext$ = function() {
};
chrome.cast.media.$Media$.prototype.pauseWithContext = chrome.cast.media.$Media$.prototype.$pauseWithContext$;
chrome.cast.media.$Media$.prototype.seek = function() {
};
chrome.cast.media.$Media$.prototype.seek = chrome.cast.media.$Media$.prototype.seek;
chrome.cast.media.$Media$.prototype.stop = function() {
};
chrome.cast.media.$Media$.prototype.stop = chrome.cast.media.$Media$.prototype.stop;
chrome.cast.media.$Media$.prototype.$setVolume$ = function() {
};
chrome.cast.media.$Media$.prototype.setVolume = chrome.cast.media.$Media$.prototype.$setVolume$;
chrome.cast.media.$Media$.prototype.$editTracksInfo$ = function() {
};
chrome.cast.media.$Media$.prototype.editTracksInfo = chrome.cast.media.$Media$.prototype.$editTracksInfo$;
chrome.cast.media.$Media$.prototype.$queueInsertItems$ = function() {
};
chrome.cast.media.$Media$.prototype.queueInsertItems = chrome.cast.media.$Media$.prototype.$queueInsertItems$;
chrome.cast.media.$Media$.prototype.$queueAppendItem$ = function() {
};
chrome.cast.media.$Media$.prototype.queueAppendItem = chrome.cast.media.$Media$.prototype.$queueAppendItem$;
chrome.cast.media.$Media$.prototype.$queueUpdateItems$ = function() {
};
chrome.cast.media.$Media$.prototype.queueUpdateItems = chrome.cast.media.$Media$.prototype.$queueUpdateItems$;
chrome.cast.media.$Media$.prototype.$queuePrev$ = function() {
};
chrome.cast.media.$Media$.prototype.queuePrev = chrome.cast.media.$Media$.prototype.$queuePrev$;
chrome.cast.media.$Media$.prototype.$queueNext$ = function() {
};
chrome.cast.media.$Media$.prototype.queueNext = chrome.cast.media.$Media$.prototype.$queueNext$;
chrome.cast.media.$Media$.prototype.$queueJumpToItem$ = function($itemId$$) {
  $JSCompiler_StaticMethods_getIndexOfItem_$$(this, $itemId$$);
};
chrome.cast.media.$Media$.prototype.queueJumpToItem = chrome.cast.media.$Media$.prototype.$queueJumpToItem$;
chrome.cast.media.$Media$.prototype.$queueSetRepeatMode$ = function() {
};
chrome.cast.media.$Media$.prototype.queueSetRepeatMode = chrome.cast.media.$Media$.prototype.$queueSetRepeatMode$;
chrome.cast.media.$Media$.prototype.$queueRemoveItems$ = function() {
};
chrome.cast.media.$Media$.prototype.queueRemoveItems = chrome.cast.media.$Media$.prototype.$queueRemoveItems$;
chrome.cast.media.$Media$.prototype.$queueRemoveItem$ = function($itemId$jscomp$1$$) {
  $JSCompiler_StaticMethods_getIndexOfItem_$$(this, $itemId$jscomp$1$$);
};
chrome.cast.media.$Media$.prototype.queueRemoveItem = chrome.cast.media.$Media$.prototype.$queueRemoveItem$;
chrome.cast.media.$Media$.prototype.$queueReorderItems$ = function() {
};
chrome.cast.media.$Media$.prototype.queueReorderItems = chrome.cast.media.$Media$.prototype.$queueReorderItems$;
chrome.cast.media.$Media$.prototype.$queueMoveItemToNewIndex$ = function($index$jscomp$70_itemId$jscomp$2$$, $newIndex$$, $successCallback$jscomp$50$$, $errorCallback$jscomp$43$$) {
  $index$jscomp$70_itemId$jscomp$2$$ = $JSCompiler_StaticMethods_getIndexOfItem_$$(this, $index$jscomp$70_itemId$jscomp$2$$);
  0 > $index$jscomp$70_itemId$jscomp$2$$ || (0 > $newIndex$$ ? $errorCallback$jscomp$43$$ && $errorCallback$jscomp$43$$(new chrome.cast.Error(chrome.cast.$ErrorCode$.INVALID_PARAMETER)) : $index$jscomp$70_itemId$jscomp$2$$ == $newIndex$$ && $successCallback$jscomp$50$$ && $successCallback$jscomp$50$$());
};
chrome.cast.media.$Media$.prototype.queueMoveItemToNewIndex = chrome.cast.media.$Media$.prototype.$queueMoveItemToNewIndex$;
chrome.cast.media.$Media$.prototype.$supportsCommand$ = function($command$jscomp$1$$) {
  return -1 < this.supportedMediaCommands.indexOf($command$jscomp$1$$);
};
chrome.cast.media.$Media$.prototype.supportsCommand = chrome.cast.media.$Media$.prototype.$supportsCommand$;
chrome.cast.media.$Media$.prototype.$getEstimatedTime$ = function() {
  return this.currentTime;
};
chrome.cast.media.$Media$.prototype.getEstimatedTime = chrome.cast.media.$Media$.prototype.$getEstimatedTime$;
chrome.cast.media.$Media$.prototype.$addUpdateListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.media.$Media$.prototype.addUpdateListener = chrome.cast.media.$Media$.prototype.$addUpdateListener$;
chrome.cast.media.$Media$.prototype.$addUpdateListenerWithContext$ = function() {
};
chrome.cast.media.$Media$.prototype.addUpdateListenerWithContext = chrome.cast.media.$Media$.prototype.$addUpdateListenerWithContext$;
chrome.cast.media.$Media$.prototype.$removeUpdateListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.media.$Media$.prototype.removeUpdateListener = chrome.cast.media.$Media$.prototype.$removeUpdateListener$;
chrome.cast.media.$Media$.prototype.$removeUpdateListenerWithContext$ = function() {
};
chrome.cast.media.$Media$.prototype.removeUpdateListenerWithContext = chrome.cast.media.$Media$.prototype.$removeUpdateListenerWithContext$;
var $JSCompiler_StaticMethods_getIndexOfItem_$$ = function($JSCompiler_StaticMethods_getIndexOfItem_$self$$, $itemId$jscomp$3$$) {
  return $goog$array$findIndex$$($JSCompiler_StaticMethods_getIndexOfItem_$self$$.items, function($JSCompiler_StaticMethods_getIndexOfItem_$self$$) {
    return $JSCompiler_StaticMethods_getIndexOfItem_$self$$.itemId == $itemId$jscomp$3$$;
  });
};
var $mr$cast$AppMessage$$ = function($sessionId$jscomp$8$$, $namespaceName$$, $message$jscomp$57$$) {
  this.sessionId = $sessionId$jscomp$8$$;
  this.namespaceName = $namespaceName$$;
  this.message = $message$jscomp$57$$;
};
var $mr$cast$ReceiverStatusQuerier$$ = function($castRequestSender$jscomp$1$$) {
  this.$a$ = $castRequestSender$jscomp$1$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cast.ReceiverStatusQuerier");
}, $JSCompiler_StaticMethods_startQuery$$ = function($JSCompiler_StaticMethods_startQuery$self$$, $receiver$jscomp$6$$) {
  return $JSCompiler_StaticMethods_setBackoffFactor$$(new $mr$Retry$$($goog$bind$$($JSCompiler_StaticMethods_startQuery$self$$.$b$, $JSCompiler_StaticMethods_startQuery$self$$, $receiver$jscomp$6$$), 3500, 5), 2).start().then(null, function($error$jscomp$18$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_startQuery$self$$.$logger_$, "Failed to get receiver status from " + $receiver$jscomp$6$$.getId());
    throw $error$jscomp$18$$;
  });
};
$mr$cast$ReceiverStatusQuerier$$.prototype.$b$ = function($receiver$jscomp$7$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Query receiver status: " + $receiver$jscomp$7$$.getId());
  return this.$a$.sendRequest(new $mr$cast$ReceiverStatusRequest$$, $receiver$jscomp$7$$, $mr$cast$Namespace$Cast$RECEIVER$$);
};
var $mr$cast$ApiInterface$instance$$ = null;
var $mr$cast$SetVolumeRequest$$ = function($volume$jscomp$1$$, $opt_expectedVolume$$) {
  this.type = "SET_VOLUME";
  this.requestId = 0;
  this.volume = $volume$jscomp$1$$;
  this.expectedVolume = $opt_expectedVolume$$ || null;
};
chrome.cast.$Session$ = function($sessionId$jscomp$18$$, $appId$jscomp$7$$, $displayName$$, $appImages$jscomp$1$$, $receiver$jscomp$8$$) {
  this.sessionId = $sessionId$jscomp$18$$;
  this.appId = $appId$jscomp$7$$;
  this.displayName = $displayName$$;
  this.statusText = null;
  this.appImages = $appImages$jscomp$1$$;
  this.receiver = $receiver$jscomp$8$$;
  this.senderApps = [];
  this.namespaces = [];
  this.media = [];
  this.status = chrome.cast.$SessionStatus$.CONNECTED;
  this.transportId = "";
};
$goog$exportSymbol$$("chrome.cast.Session", chrome.cast.$Session$);
chrome.cast.$Session$.prototype.$setReceiverVolumeLevel$ = function($newLevel$$, $successCallback$jscomp$59$$, $errorCallback$jscomp$52$$) {
  this.$setReceiverVolumeLevelWithContext$($goog$asserts$assert$$($mr$cast$ApiInterface$instance$$), $newLevel$$, $successCallback$jscomp$59$$, $errorCallback$jscomp$52$$);
};
chrome.cast.$Session$.prototype.setReceiverVolumeLevel = chrome.cast.$Session$.prototype.$setReceiverVolumeLevel$;
chrome.cast.$Session$.prototype.$setReceiverVolumeLevelWithContext$ = function($context$jscomp$10$$, $newLevel$jscomp$1_volumeRequest$jscomp$2$$, $successCallback$jscomp$60$$, $errorCallback$jscomp$53$$) {
  $newLevel$jscomp$1_volumeRequest$jscomp$2$$ = new $mr$cast$SetVolumeRequest$$(new chrome.cast.Volume($newLevel$jscomp$1_volumeRequest$jscomp$2$$, null), this.receiver.volume);
  $context$jscomp$10$$.setReceiverVolume(this.sessionId, $newLevel$jscomp$1_volumeRequest$jscomp$2$$, $successCallback$jscomp$60$$, $errorCallback$jscomp$53$$);
};
chrome.cast.$Session$.prototype.setReceiverVolumeLevelWithContext = chrome.cast.$Session$.prototype.$setReceiverVolumeLevelWithContext$;
chrome.cast.$Session$.prototype.$setReceiverMuted$ = function($muted$$, $successCallback$jscomp$61$$, $errorCallback$jscomp$54$$) {
  this.$setReceiverMutedWithContext$($goog$asserts$assert$$($mr$cast$ApiInterface$instance$$), $muted$$, $successCallback$jscomp$61$$, $errorCallback$jscomp$54$$);
};
chrome.cast.$Session$.prototype.setReceiverMuted = chrome.cast.$Session$.prototype.$setReceiverMuted$;
chrome.cast.$Session$.prototype.$setReceiverMutedWithContext$ = function($context$jscomp$11_volumeRequest$jscomp$3$$, $muted$jscomp$1$$, $successCallback$jscomp$62$$, $errorCallback$jscomp$55$$) {
  $context$jscomp$11_volumeRequest$jscomp$3$$ = new $mr$cast$SetVolumeRequest$$(new chrome.cast.Volume(null, $muted$jscomp$1$$), this.receiver.volume);
  $mr$cast$ApiInterface$instance$$.setReceiverVolume(this.sessionId, $context$jscomp$11_volumeRequest$jscomp$3$$, $successCallback$jscomp$62$$, $errorCallback$jscomp$55$$);
};
chrome.cast.$Session$.prototype.setReceiverMutedWithContext = chrome.cast.$Session$.prototype.$setReceiverMutedWithContext$;
chrome.cast.$Session$.prototype.leave = function($successCallback$jscomp$63$$, $errorCallback$jscomp$56$$) {
  $mr$cast$ApiInterface$instance$$.leaveSession(this.sessionId, $successCallback$jscomp$63$$, $errorCallback$jscomp$56$$);
};
chrome.cast.$Session$.prototype.leave = chrome.cast.$Session$.prototype.leave;
chrome.cast.$Session$.prototype.stop = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.stop = chrome.cast.$Session$.prototype.stop;
chrome.cast.$Session$.prototype.$stopWithContext$ = function() {
};
chrome.cast.$Session$.prototype.stopWithContext = chrome.cast.$Session$.prototype.$stopWithContext$;
chrome.cast.$Session$.prototype.sendMessage = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.sendMessage = chrome.cast.$Session$.prototype.sendMessage;
chrome.cast.$Session$.prototype.$sendMessageWithContext$ = function() {
};
chrome.cast.$Session$.prototype.sendMessageWithContext = chrome.cast.$Session$.prototype.$sendMessageWithContext$;
chrome.cast.$Session$.prototype.$addUpdateListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.addUpdateListener = chrome.cast.$Session$.prototype.$addUpdateListener$;
chrome.cast.$Session$.prototype.$addUpdateListenerWithContext$ = function() {
};
chrome.cast.$Session$.prototype.addUpdateListenerWithContext = chrome.cast.$Session$.prototype.$addUpdateListenerWithContext$;
chrome.cast.$Session$.prototype.$removeUpdateListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.removeUpdateListener = chrome.cast.$Session$.prototype.$removeUpdateListener$;
chrome.cast.$Session$.prototype.$removeUpdateListenerWithContext$ = function() {
};
chrome.cast.$Session$.prototype.removeUpdateListenerWithContext = chrome.cast.$Session$.prototype.$removeUpdateListenerWithContext$;
chrome.cast.$Session$.prototype.$addMessageListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.addMessageListener = chrome.cast.$Session$.prototype.$addMessageListener$;
chrome.cast.$Session$.prototype.$addMessageListenerWithContext$ = function() {
};
chrome.cast.$Session$.prototype.addMessageListenerWithContext = chrome.cast.$Session$.prototype.$addMessageListenerWithContext$;
chrome.cast.$Session$.prototype.$addMediaListener$ = function() {
  this.$addMediaListenerWithContext$($goog$asserts$assert$$($mr$cast$ApiInterface$instance$$));
};
chrome.cast.$Session$.prototype.addMediaListener = chrome.cast.$Session$.prototype.$addMediaListener$;
chrome.cast.$Session$.prototype.$addMediaListenerWithContext$ = function($context$jscomp$17$$) {
  $context$jscomp$17$$.$addMediaListener$();
};
chrome.cast.$Session$.prototype.addMediaListenerWithContext = chrome.cast.$Session$.prototype.$addMediaListenerWithContext$;
chrome.cast.$Session$.prototype.$removeMediaListener$ = function() {
  this.$removeMediaListenerWithContext$($goog$asserts$assert$$($mr$cast$ApiInterface$instance$$));
};
chrome.cast.$Session$.prototype.removeMediaListener = chrome.cast.$Session$.prototype.$removeMediaListener$;
chrome.cast.$Session$.prototype.$removeMediaListenerWithContext$ = function($context$jscomp$18$$) {
  $context$jscomp$18$$.$removeMediaListener$();
};
chrome.cast.$Session$.prototype.removeMediaListenerWithContext = chrome.cast.$Session$.prototype.$removeMediaListenerWithContext$;
chrome.cast.$Session$.prototype.$removeMessageListener$ = function() {
  $goog$asserts$assert$$($mr$cast$ApiInterface$instance$$);
};
chrome.cast.$Session$.prototype.removeMessageListener = chrome.cast.$Session$.prototype.$removeMessageListener$;
chrome.cast.$Session$.prototype.$removeMessageListenerWithContext$ = function() {
};
chrome.cast.$Session$.prototype.removeMessageListenerWithContext = chrome.cast.$Session$.prototype.$removeMessageListenerWithContext$;
chrome.cast.$Session$.prototype.$loadMedia$ = function($loadRequest$$) {
  $loadRequest$$.sessionId = this.sessionId;
};
chrome.cast.$Session$.prototype.loadMedia = chrome.cast.$Session$.prototype.$loadMedia$;
chrome.cast.$Session$.prototype.$queueLoad$ = function($queueLoadRequest$$) {
  $queueLoadRequest$$.sessionId = this.sessionId;
};
chrome.cast.$Session$.prototype.queueLoad = chrome.cast.$Session$.prototype.$queueLoad$;
var $mr$cast$ApiDataUtils$getSessionFromReceiverStatus$$ = function($castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$, $receiverStatus$$) {
  if (!$receiverStatus$$.applications || 1 != $receiverStatus$$.applications.length) {
    return null;
  }
  var $app$jscomp$inline_928$$ = $receiverStatus$$.applications[0];
  $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$ = $mr$cast$ApiDataUtils$getReceiverFrom$$($castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$);
  $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$ = new chrome.cast.$Session$($app$jscomp$inline_928$$.sessionId, $app$jscomp$inline_928$$.appId, $app$jscomp$inline_928$$.displayName, $app$jscomp$inline_928$$.appImages, $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$);
  $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$.senderApps = $app$jscomp$inline_928$$.senderApps;
  $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$.namespaces = $app$jscomp$inline_928$$.namespaces || [];
  $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$.transportId = $app$jscomp$inline_928$$.transportId;
  $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$.statusText = $app$jscomp$inline_928$$.statusText;
  if (!$castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$.sessionId || !($castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$.namespaces && 0 != $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$.namespaces.length || $mr$cast$ApiDataUtils$isMultizoneLeader$$($castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$))) {
    return null;
  }
  $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$.receiver.volume = $receiverStatus$$.volume;
  $goog$isBoolean$$($receiverStatus$$.isActiveInput) && ($castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$.receiver.isActiveInput = $receiverStatus$$.isActiveInput);
  return $castReceiver$jscomp$inline_929_receiver$jscomp$9_session$jscomp$inline_930$$;
}, $mr$cast$ApiDataUtils$capabilitiesToApi$$ = function($capabilities$jscomp$5$$) {
  var $capabilitiesArray$$ = [];
  if (!$capabilities$jscomp$5$$) {
    return $capabilitiesArray$$;
  }
  $capabilities$jscomp$5$$ & 1 && $capabilitiesArray$$.push(chrome.cast.$Capability$.VIDEO_OUT);
  $capabilities$jscomp$5$$ & 2 && $capabilitiesArray$$.push(chrome.cast.$Capability$.VIDEO_IN);
  $capabilities$jscomp$5$$ & 4 && $capabilitiesArray$$.push(chrome.cast.$Capability$.AUDIO_OUT);
  $capabilities$jscomp$5$$ & 8 && $capabilitiesArray$$.push(chrome.cast.$Capability$.AUDIO_IN);
  $capabilities$jscomp$5$$ & 32 && $capabilitiesArray$$.push(chrome.cast.$Capability$.MULTIZONE_GROUP);
  return $capabilitiesArray$$;
}, $mr$cast$ApiDataUtils$getReceiverFrom$$ = function($receiver$jscomp$11$$) {
  return new chrome.cast.$Receiver$($receiver$jscomp$11$$.getId(), $receiver$jscomp$11$$.$b$.friendlyName, $mr$cast$ApiDataUtils$capabilitiesToApi$$($receiver$jscomp$11$$.$a$));
}, $mr$cast$ApiDataUtils$isSessionStatusChanged$$ = function($session1$$, $session2$$) {
  if ($session1$$.statusText != $session2$$.statusText) {
    return !0;
  }
  var $namespaces1$$ = $session1$$.namespaces || [], $namespaces2$$ = $session2$$.namespaces || [];
  if ($namespaces1$$.length != $namespaces2$$.length) {
    return !0;
  }
  for (var $$jscomp$loop$73$$ = {index:0}; $$jscomp$loop$73$$.index < $namespaces1$$.length; $$jscomp$loop$73$$ = {index:$$jscomp$loop$73$$.index}, $$jscomp$loop$73$$.index++) {
    if (!$namespaces2$$.some(function($session1$$) {
      return function($session2$$) {
        return $session2$$.name == $namespaces1$$[$session1$$.index].name;
      };
    }($$jscomp$loop$73$$))) {
      return !0;
    }
  }
  return $session1$$.receiver.volume.level !== $session2$$.receiver.volume.level || $session1$$.receiver.volume.muted !== $session2$$.receiver.volume.muted ? !0 : !1;
}, $mr$cast$ApiDataUtils$removeNullFields$$ = function($element$jscomp$32$$) {
  $goog$isArray$$($element$jscomp$32$$) ? $element$jscomp$32$$.forEach($mr$cast$ApiDataUtils$removeNullFields$$) : $goog$isObject$$($element$jscomp$32$$) && Object.keys($element$jscomp$32$$).forEach(function($key$jscomp$112$$) {
    null === $element$jscomp$32$$[$key$jscomp$112$$] ? delete $element$jscomp$32$$[$key$jscomp$112$$] : ($goog$isObject$$($element$jscomp$32$$[$key$jscomp$112$$]) || $goog$isArray$$($element$jscomp$32$$[$key$jscomp$112$$])) && $mr$cast$ApiDataUtils$removeNullFields$$($element$jscomp$32$$[$key$jscomp$112$$]);
  });
}, $mr$cast$ApiDataUtils$hasNamespace$$ = function($session$jscomp$3$$) {
  return $session$jscomp$3$$.namespaces.some(function($session$jscomp$3$$) {
    return $session$jscomp$3$$.name == $mr$cast$Namespace$Cast$MEDIA$$;
  });
}, $mr$cast$ApiDataUtils$MULTIZONE_APP_IDS$$ = ["MultizoneLeader", "MultizoneFollower"], $mr$cast$ApiDataUtils$isMultizoneLeader$$ = function($session$jscomp$5$$) {
  return null !== $session$jscomp$5$$ && "MultizoneLeader" == $session$jscomp$5$$.appId;
}, $mr$cast$ApiDataUtils$isIdleAppId$$ = function($appId$jscomp$8$$) {
  return "E8C28D3C" == $appId$jscomp$8$$ || "00000000-0000-0000-0000-000000000000" == $appId$jscomp$8$$;
};
var $mr$cast$SessionLauncher$$ = function($castRequestSender$jscomp$2$$) {
  this.$b$ = $castRequestSender$jscomp$2$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cast.SessionLauncher");
}, $JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$$ = function($JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$, $sessionRequest$jscomp$3$$, $receiver$jscomp$12$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Session.Type", 0, $mr$CastAnalytics$SESSION_TYPES$$);
  return $JSCompiler_StaticMethods_requestLaunchSession$$($JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$.$b$, $sessionRequest$jscomp$3$$, $receiver$jscomp$12$$).then($JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$.$a$.bind($JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$, $receiver$jscomp$12$$), function($JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$) {
    $JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$ && $mr$cast$RequestSender$TIMEOUT_ERROR$$ == $JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$ ? $mr$CastAnalytics$recordSessionFailure$$(1) : $mr$CastAnalytics$recordSessionFailure$$(0);
    throw $JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$self$$;
  });
};
$mr$cast$SessionLauncher$$.prototype.$a$ = function($receiver$jscomp$13_session$jscomp$7$$, $response$jscomp$8$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "Got launch result from " + $receiver$jscomp$13_session$jscomp$7$$.getId());
  if ("LAUNCH_ERROR" == $response$jscomp$8$$.type) {
    throw $mr$CastAnalytics$recordSessionFailure$$(2), Error($response$jscomp$8$$.reason);
  }
  $receiver$jscomp$13_session$jscomp$7$$ = $mr$cast$ApiDataUtils$getSessionFromReceiverStatus$$($receiver$jscomp$13_session$jscomp$7$$, $response$jscomp$8$$.status);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Launched session: " + $receiver$jscomp$13_session$jscomp$7$$.sessionId);
  return $receiver$jscomp$13_session$jscomp$7$$;
};
var $mr$cast$InternalMessage$$ = function($type$jscomp$171$$, $message$jscomp$60$$, $opt_sequenceNumber$jscomp$2$$) {
  this.type = $type$jscomp$171$$;
  this.message = $message$jscomp$60$$;
  this.sequenceNumber = $goog$isDef$$($opt_sequenceNumber$jscomp$2$$) ? $opt_sequenceNumber$jscomp$2$$ : -1;
  this.timeoutMillis = 0;
  this.clientId = "";
};
var $mr$cast$ApiMessenger$$ = function($providerCallbacks$$, $clientRecords$$) {
  this.$g$ = $providerCallbacks$$;
  this.$a$ = $clientRecords$$;
  this.$f$ = [];
  this.$b$ = new $mr$cast$PendingRequestsManager$$;
}, $JSCompiler_StaticMethods_getRouteIdFromClientId_$$ = function($JSCompiler_StaticMethods_getRouteIdFromClientId_$self_clientRecord$$, $clientId$$) {
  return ($JSCompiler_StaticMethods_getRouteIdFromClientId_$self_clientRecord$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_getRouteIdFromClientId_$self_clientRecord$$.$a$, $clientId$$)) ? $JSCompiler_StaticMethods_getRouteIdFromClientId_$self_clientRecord$$.routeId : null;
};
$mr$cast$ApiMessenger$$.prototype.listen = function($type$jscomp$172$$, $listener$jscomp$127$$) {
  this.$f$[$type$jscomp$172$$] = $listener$jscomp$127$$;
};
var $JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$$ = function($JSCompiler_StaticMethods_dispatchRouteMessage$self$jscomp$inline_932_JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$self$$, $routeId$jscomp$4$$, $clientId$jscomp$1$$, $message$jscomp$61$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiMessenger$logger_$$, "Sending to " + $clientId$jscomp$1$$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiMessenger$logger_$$, JSON.stringify($message$jscomp$61$$));
  $message$jscomp$61$$.clientId = $clientId$jscomp$1$$;
  $JSCompiler_StaticMethods_dispatchRouteMessage$self$jscomp$inline_932_JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$self$$ = $JSCompiler_StaticMethods_dispatchRouteMessage$self$jscomp$inline_932_JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$self$$.$g$;
  $JSCompiler_StaticMethods_dispatchRouteMessage$self$jscomp$inline_932_JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($JSCompiler_StaticMethods_dispatchRouteMessage$self$jscomp$inline_932_JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$self$$, $routeId$jscomp$4$$, $message$jscomp$61$$);
}, $JSCompiler_StaticMethods_sendToApi$$ = function($JSCompiler_StaticMethods_sendToApi$self$$, $clientId$jscomp$2$$, $message$jscomp$62$$) {
  var $clientRecord$jscomp$1$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_sendToApi$self$$.$a$, $clientId$jscomp$2$$);
  $clientRecord$jscomp$1$$ && $clientRecord$jscomp$1$$.$a$ ? $JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$$($JSCompiler_StaticMethods_sendToApi$self$$, $clientRecord$jscomp$1$$.routeId, $clientId$jscomp$2$$, $message$jscomp$62$$) : $JSCompiler_StaticMethods_sendToApi$self$$.connect($clientId$jscomp$2$$).then(function($clientRecord$jscomp$1$$) {
    $clientRecord$jscomp$1$$ ? ($clientRecord$jscomp$1$$ = $JSCompiler_StaticMethods_getRouteIdFromClientId_$$($JSCompiler_StaticMethods_sendToApi$self$$, $clientId$jscomp$2$$)) ? $JSCompiler_StaticMethods_mr_cast_ApiMessenger_prototype$send_$$($JSCompiler_StaticMethods_sendToApi$self$$, $clientRecord$jscomp$1$$, $clientId$jscomp$2$$, $message$jscomp$62$$) : $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiMessenger$logger_$$, "No route for " + $clientId$jscomp$2$$) : $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiMessenger$logger_$$, 
    "No connected client " + $clientId$jscomp$2$$);
  }, null);
};
$mr$cast$ApiMessenger$$.prototype.connect = function($clientId$jscomp$5_pendingRequest_resolver$jscomp$11$$) {
  var $clientRecord$jscomp$inline_938_routeId$jscomp$7$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$(this.$a$, $clientId$jscomp$5_pendingRequest_resolver$jscomp$11$$);
  if (null != $clientRecord$jscomp$inline_938_routeId$jscomp$7$$ && $clientRecord$jscomp$inline_938_routeId$jscomp$7$$.$a$) {
    return Promise.resolve(!0);
  }
  $clientRecord$jscomp$inline_938_routeId$jscomp$7$$ = $JSCompiler_StaticMethods_getRouteIdFromClientId_$$(this, $clientId$jscomp$5_pendingRequest_resolver$jscomp$11$$);
  if (!$clientRecord$jscomp$inline_938_routeId$jscomp$7$$) {
    return $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiMessenger$logger_$$, "No route for client " + $clientId$jscomp$5_pendingRequest_resolver$jscomp$11$$), Promise.resolve(!1);
  }
  if ($clientId$jscomp$5_pendingRequest_resolver$jscomp$11$$ = this.$b$.$a$.get($clientRecord$jscomp$inline_938_routeId$jscomp$7$$, null)) {
    return $clientId$jscomp$5_pendingRequest_resolver$jscomp$11$$.$resolver$.$a$;
  }
  $clientId$jscomp$5_pendingRequest_resolver$jscomp$11$$ = new $mr$PromiseResolver$$;
  $JSCompiler_StaticMethods_addRequest$$(this.$b$, new $mr$cast$ApiMessenger$PendingRequest$$($clientRecord$jscomp$inline_938_routeId$jscomp$7$$, $clientId$jscomp$5_pendingRequest_resolver$jscomp$11$$));
  return $clientId$jscomp$5_pendingRequest_resolver$jscomp$11$$.$a$;
};
var $mr$cast$ApiMessenger$logger_$$ = $mr$Logger$getInstance$$("mr.cast.ApiMessenger"), $mr$cast$ApiMessenger$PendingRequest$$ = function($requestId$jscomp$8$$, $resolver$jscomp$12$$) {
  $mr$cast$PendingRequest$$.call(this, $requestId$jscomp$8$$, 3E4);
  this.$resolver$ = $resolver$jscomp$12$$;
};
$$jscomp$inherits$$($mr$cast$ApiMessenger$PendingRequest$$, $mr$cast$PendingRequest$$);
$mr$cast$ApiMessenger$PendingRequest$$.prototype.$a$ = function() {
  this.$resolver$.resolve(!1);
};
var $goog$Uri$$ = function($opt_uri$$, $opt_ignoreCase$$) {
  this.$domain_$ = this.$h$ = this.$b$ = "";
  this.$port_$ = null;
  this.$f$ = this.$a$ = "";
  this.$g$ = !1;
  var $m$$;
  $opt_uri$$ instanceof $goog$Uri$$ ? (this.$g$ = $goog$isDef$$($opt_ignoreCase$$) ? $opt_ignoreCase$$ : $opt_uri$$.$g$, $JSCompiler_StaticMethods_setScheme$$(this, $opt_uri$$.$b$), this.$h$ = $opt_uri$$.$h$, $JSCompiler_StaticMethods_goog_Uri_prototype$setDomain$$(this, $opt_uri$$.$domain_$), $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$$(this, $opt_uri$$.$getPort$()), $JSCompiler_StaticMethods_goog_Uri_prototype$setPath$$(this, $opt_uri$$.$a$), $JSCompiler_StaticMethods_setQueryData$$(this, 
  $opt_uri$$.$j$.clone()), $JSCompiler_StaticMethods_setFragment$$(this, $opt_uri$$.$f$)) : $opt_uri$$ && ($m$$ = String($opt_uri$$).match($goog$uri$utils$splitRe_$$)) ? (this.$g$ = !!$opt_ignoreCase$$, $JSCompiler_StaticMethods_setScheme$$(this, $m$$[1] || "", !0), this.$h$ = $goog$Uri$decodeOrEmpty_$$($m$$[2] || ""), $JSCompiler_StaticMethods_goog_Uri_prototype$setDomain$$(this, $m$$[3] || "", !0), $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$$(this, $m$$[4]), $JSCompiler_StaticMethods_goog_Uri_prototype$setPath$$(this, 
  $m$$[5] || "", !0), $JSCompiler_StaticMethods_setQueryData$$(this, $m$$[6] || "", !0), $JSCompiler_StaticMethods_setFragment$$(this, $m$$[7] || "", !0)) : (this.$g$ = !!$opt_ignoreCase$$, this.$j$ = new $goog$Uri$QueryData$$(null, 0, this.$g$));
};
$goog$Uri$$.prototype.toString = function() {
  var $out$jscomp$1$$ = [], $scheme$jscomp$4_userInfo$$ = this.$b$;
  $scheme$jscomp$4_userInfo$$ && $out$jscomp$1$$.push($goog$Uri$encodeSpecialChars_$$($scheme$jscomp$4_userInfo$$, $goog$Uri$reDisallowedInSchemeOrUserInfo_$$, !0), ":");
  var $domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$ = this.$domain_$;
  if ($domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$ || "file" == $scheme$jscomp$4_userInfo$$) {
    $out$jscomp$1$$.push("//"), ($scheme$jscomp$4_userInfo$$ = this.$h$) && $out$jscomp$1$$.push($goog$Uri$encodeSpecialChars_$$($scheme$jscomp$4_userInfo$$, $goog$Uri$reDisallowedInSchemeOrUserInfo_$$, !0), "@"), $out$jscomp$1$$.push(encodeURIComponent(String($domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), $domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$ = this.$getPort$(), null != $domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$ && 
    $out$jscomp$1$$.push(":", String($domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$));
  }
  if ($domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$ = this.$a$) {
    this.$domain_$ && "/" != $domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$.charAt(0) && $out$jscomp$1$$.push("/"), $out$jscomp$1$$.push($goog$Uri$encodeSpecialChars_$$($domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$, "/" == $domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$.charAt(0) ? $goog$Uri$reDisallowedInAbsolutePath_$$ : $goog$Uri$reDisallowedInRelativePath_$$, !0));
  }
  ($domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$ = this.$j$.toString()) && $out$jscomp$1$$.push("?", $domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$);
  ($domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$ = this.$f$) && $out$jscomp$1$$.push("#", $goog$Uri$encodeSpecialChars_$$($domain$jscomp$3_fragment$jscomp$1_path$jscomp$21_port$jscomp$11_query$jscomp$6$$, $goog$Uri$reDisallowedInFragment_$$));
  return $out$jscomp$1$$.join("");
};
$goog$Uri$$.prototype.resolve = function($relativeUri$$) {
  var $absoluteUri$$ = this.clone(), $overridden$$ = !!$relativeUri$$.$b$;
  $overridden$$ ? $JSCompiler_StaticMethods_setScheme$$($absoluteUri$$, $relativeUri$$.$b$) : $overridden$$ = !!$relativeUri$$.$h$;
  $overridden$$ ? $absoluteUri$$.$h$ = $relativeUri$$.$h$ : $overridden$$ = !!$relativeUri$$.$domain_$;
  $overridden$$ ? $JSCompiler_StaticMethods_goog_Uri_prototype$setDomain$$($absoluteUri$$, $relativeUri$$.$domain_$) : $overridden$$ = null != $relativeUri$$.$port_$;
  var $leadingSlash$jscomp$inline_941_path$jscomp$22$$ = $relativeUri$$.$a$;
  if ($overridden$$) {
    $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$$($absoluteUri$$, $relativeUri$$.$getPort$());
  } else {
    if ($overridden$$ = !!$relativeUri$$.$a$) {
      if ("/" != $leadingSlash$jscomp$inline_941_path$jscomp$22$$.charAt(0)) {
        if (this.$domain_$ && !this.$a$) {
          $leadingSlash$jscomp$inline_941_path$jscomp$22$$ = "/" + $leadingSlash$jscomp$inline_941_path$jscomp$22$$;
        } else {
          var $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$ = $absoluteUri$$.$a$.lastIndexOf("/");
          -1 != $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$ && ($leadingSlash$jscomp$inline_941_path$jscomp$22$$ = $absoluteUri$$.$a$.substr(0, $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$ + 1) + $leadingSlash$jscomp$inline_941_path$jscomp$22$$);
        }
      }
      $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$ = $leadingSlash$jscomp$inline_941_path$jscomp$22$$;
      if (".." == $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$ || "." == $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$) {
        $leadingSlash$jscomp$inline_941_path$jscomp$22$$ = "";
      } else {
        if (-1 != $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$.indexOf("./") || -1 != $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$.indexOf("/.")) {
          for (var $leadingSlash$jscomp$inline_941_path$jscomp$22$$ = 0 == $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$.lastIndexOf("/", 0), $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$ = $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$.split("/"), $out$jscomp$inline_943$$ = [], $pos$jscomp$inline_944$$ = 0; $pos$jscomp$inline_944$$ < $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$.length;) {
            var $segment$jscomp$inline_945$$ = $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$[$pos$jscomp$inline_944$$++];
            "." == $segment$jscomp$inline_945$$ ? $leadingSlash$jscomp$inline_941_path$jscomp$22$$ && $pos$jscomp$inline_944$$ == $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$.length && $out$jscomp$inline_943$$.push("") : ".." == $segment$jscomp$inline_945$$ ? ((1 < $out$jscomp$inline_943$$.length || 1 == $out$jscomp$inline_943$$.length && "" != $out$jscomp$inline_943$$[0]) && $out$jscomp$inline_943$$.pop(), $leadingSlash$jscomp$inline_941_path$jscomp$22$$ && $pos$jscomp$inline_944$$ == 
            $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$.length && $out$jscomp$inline_943$$.push("")) : ($out$jscomp$inline_943$$.push($segment$jscomp$inline_945$$), $leadingSlash$jscomp$inline_941_path$jscomp$22$$ = !0);
          }
          $leadingSlash$jscomp$inline_941_path$jscomp$22$$ = $out$jscomp$inline_943$$.join("/");
        } else {
          $leadingSlash$jscomp$inline_941_path$jscomp$22$$ = $lastSlashIndex_path$jscomp$inline_940_segments$jscomp$inline_942$$;
        }
      }
    }
  }
  $overridden$$ ? $JSCompiler_StaticMethods_goog_Uri_prototype$setPath$$($absoluteUri$$, $leadingSlash$jscomp$inline_941_path$jscomp$22$$) : $overridden$$ = "" !== $relativeUri$$.$j$.toString();
  $overridden$$ ? $JSCompiler_StaticMethods_setQueryData$$($absoluteUri$$, $relativeUri$$.$j$.clone()) : $overridden$$ = !!$relativeUri$$.$f$;
  $overridden$$ && $JSCompiler_StaticMethods_setFragment$$($absoluteUri$$, $relativeUri$$.$f$);
  return $absoluteUri$$;
};
$goog$Uri$$.prototype.clone = function() {
  return new $goog$Uri$$(this);
};
var $JSCompiler_StaticMethods_setScheme$$ = function($JSCompiler_StaticMethods_setScheme$self$$, $newScheme$$, $opt_decode$$) {
  $JSCompiler_StaticMethods_setScheme$self$$.$b$ = $opt_decode$$ ? $goog$Uri$decodeOrEmpty_$$($newScheme$$, !0) : $newScheme$$;
  $JSCompiler_StaticMethods_setScheme$self$$.$b$ && ($JSCompiler_StaticMethods_setScheme$self$$.$b$ = $JSCompiler_StaticMethods_setScheme$self$$.$b$.replace(/:$/, ""));
}, $JSCompiler_StaticMethods_goog_Uri_prototype$setDomain$$ = function($JSCompiler_StaticMethods_goog_Uri_prototype$setDomain$self$$, $newDomain$$, $opt_decode$jscomp$2$$) {
  $JSCompiler_StaticMethods_goog_Uri_prototype$setDomain$self$$.$domain_$ = $opt_decode$jscomp$2$$ ? $goog$Uri$decodeOrEmpty_$$($newDomain$$, !0) : $newDomain$$;
};
$goog$Uri$$.prototype.$getPort$ = function() {
  return this.$port_$;
};
var $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$$ = function($JSCompiler_StaticMethods_goog_Uri_prototype$setPort$self$$, $newPort$$) {
  if ($newPort$$) {
    $newPort$$ = Number($newPort$$);
    if (isNaN($newPort$$) || 0 > $newPort$$) {
      throw Error("Bad port number " + $newPort$$);
    }
    $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$self$$.$port_$ = $newPort$$;
  } else {
    $JSCompiler_StaticMethods_goog_Uri_prototype$setPort$self$$.$port_$ = null;
  }
}, $JSCompiler_StaticMethods_goog_Uri_prototype$setPath$$ = function($JSCompiler_StaticMethods_goog_Uri_prototype$setPath$self$$, $newPath$$, $opt_decode$jscomp$3$$) {
  $JSCompiler_StaticMethods_goog_Uri_prototype$setPath$self$$.$a$ = $opt_decode$jscomp$3$$ ? $goog$Uri$decodeOrEmpty_$$($newPath$$, !0) : $newPath$$;
}, $JSCompiler_StaticMethods_setQueryData$$ = function($JSCompiler_StaticMethods_setQueryData$self$$, $queryData$jscomp$6$$, $opt_decode$jscomp$4$$) {
  $queryData$jscomp$6$$ instanceof $goog$Uri$QueryData$$ ? ($JSCompiler_StaticMethods_setQueryData$self$$.$j$ = $queryData$jscomp$6$$, $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$$($JSCompiler_StaticMethods_setQueryData$self$$.$j$, $JSCompiler_StaticMethods_setQueryData$self$$.$g$)) : ($opt_decode$jscomp$4$$ || ($queryData$jscomp$6$$ = $goog$Uri$encodeSpecialChars_$$($queryData$jscomp$6$$, $goog$Uri$reDisallowedInQuery_$$)), $JSCompiler_StaticMethods_setQueryData$self$$.$j$ = 
  new $goog$Uri$QueryData$$($queryData$jscomp$6$$, 0, $JSCompiler_StaticMethods_setQueryData$self$$.$g$));
}, $JSCompiler_StaticMethods_setFragment$$ = function($JSCompiler_StaticMethods_setFragment$self$$, $newFragment$$, $opt_decode$jscomp$6$$) {
  $JSCompiler_StaticMethods_setFragment$self$$.$f$ = $opt_decode$jscomp$6$$ ? $goog$Uri$decodeOrEmpty_$$($newFragment$$) : $newFragment$$;
}, $goog$Uri$decodeOrEmpty_$$ = function($val$jscomp$37$$, $opt_preserveReserved$jscomp$1$$) {
  return $val$jscomp$37$$ ? $opt_preserveReserved$jscomp$1$$ ? decodeURI($val$jscomp$37$$.replace(/%25/g, "%2525")) : decodeURIComponent($val$jscomp$37$$) : "";
}, $goog$Uri$encodeSpecialChars_$$ = function($encoded$jscomp$1_unescapedPart$$, $extra$$, $opt_removeDoubleEncoding$$) {
  return $goog$isString$$($encoded$jscomp$1_unescapedPart$$) ? ($encoded$jscomp$1_unescapedPart$$ = encodeURI($encoded$jscomp$1_unescapedPart$$).replace($extra$$, $goog$Uri$encodeChar_$$), $opt_removeDoubleEncoding$$ && ($encoded$jscomp$1_unescapedPart$$ = $encoded$jscomp$1_unescapedPart$$.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), $encoded$jscomp$1_unescapedPart$$) : null;
}, $goog$Uri$encodeChar_$$ = function($ch$jscomp$3_n$jscomp$11$$) {
  $ch$jscomp$3_n$jscomp$11$$ = $ch$jscomp$3_n$jscomp$11$$.charCodeAt(0);
  return "%" + ($ch$jscomp$3_n$jscomp$11$$ >> 4 & 15).toString(16) + ($ch$jscomp$3_n$jscomp$11$$ & 15).toString(16);
}, $goog$Uri$reDisallowedInSchemeOrUserInfo_$$ = /[#\/\?@]/g, $goog$Uri$reDisallowedInRelativePath_$$ = /[\#\?:]/g, $goog$Uri$reDisallowedInAbsolutePath_$$ = /[\#\?]/g, $goog$Uri$reDisallowedInQuery_$$ = /[\#\?@]/g, $goog$Uri$reDisallowedInFragment_$$ = /#/g, $goog$Uri$QueryData$$ = function($opt_query$jscomp$1$$, $opt_uri$jscomp$1$$, $opt_ignoreCase$jscomp$3$$) {
  this.$b$ = this.$a$ = null;
  this.$f$ = $opt_query$jscomp$1$$ || null;
  this.$g$ = !!$opt_ignoreCase$jscomp$3$$;
}, $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$ = function($JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$a$ || ($JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$a$ = new $goog$structs$Map$$, $JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$b$ = 0, $JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$f$ && $goog$uri$utils$parseQueryData$$($JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.$f$, function($name$jscomp$157$$, $value$jscomp$172$$) {
    $JSCompiler_StaticMethods_ensureKeyMapInitialized_$self$$.add(decodeURIComponent($name$jscomp$157$$.replace(/\+/g, " ")), $value$jscomp$172$$);
  }));
}, $goog$Uri$QueryData$createFromMap$$ = function($map$jscomp$4_values$jscomp$20$$) {
  var $keys$jscomp$10$$ = $goog$structs$getKeys$$($map$jscomp$4_values$jscomp$20$$);
  if ("undefined" == typeof $keys$jscomp$10$$) {
    throw Error("Keys are undefined");
  }
  var $queryData$jscomp$7$$ = new $goog$Uri$QueryData$$(null, 0, void 0);
  $map$jscomp$4_values$jscomp$20$$ = $goog$structs$getValues$$($map$jscomp$4_values$jscomp$20$$);
  for (var $i$jscomp$133$$ = 0; $i$jscomp$133$$ < $keys$jscomp$10$$.length; $i$jscomp$133$$++) {
    var $key$jscomp$116$$ = $keys$jscomp$10$$[$i$jscomp$133$$], $value$jscomp$173$$ = $map$jscomp$4_values$jscomp$20$$[$i$jscomp$133$$];
    $goog$isArray$$($value$jscomp$173$$) ? $JSCompiler_StaticMethods_setValues$$($queryData$jscomp$7$$, $key$jscomp$116$$, $value$jscomp$173$$) : $queryData$jscomp$7$$.add($key$jscomp$116$$, $value$jscomp$173$$);
  }
  return $queryData$jscomp$7$$;
};
$JSCompiler_prototypeAlias$$ = $goog$Uri$QueryData$$.prototype;
$JSCompiler_prototypeAlias$$.$getCount$ = function() {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  return this.$b$;
};
$JSCompiler_prototypeAlias$$.add = function($key$jscomp$117$$, $value$jscomp$174$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  this.$f$ = null;
  $key$jscomp$117$$ = $JSCompiler_StaticMethods_getKeyName_$$(this, $key$jscomp$117$$);
  var $values$jscomp$22$$ = this.$a$.get($key$jscomp$117$$);
  $values$jscomp$22$$ || this.$a$.set($key$jscomp$117$$, $values$jscomp$22$$ = []);
  $values$jscomp$22$$.push($value$jscomp$174$$);
  this.$b$ = $goog$asserts$assertNumber$$(this.$b$) + 1;
  return this;
};
$JSCompiler_prototypeAlias$$.remove = function($key$jscomp$118$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  $key$jscomp$118$$ = $JSCompiler_StaticMethods_getKeyName_$$(this, $key$jscomp$118$$);
  return this.$a$.$containsKey$($key$jscomp$118$$) ? (this.$f$ = null, this.$b$ = $goog$asserts$assertNumber$$(this.$b$) - this.$a$.get($key$jscomp$118$$).length, this.$a$.remove($key$jscomp$118$$)) : !1;
};
$JSCompiler_prototypeAlias$$.clear = function() {
  this.$a$ = this.$f$ = null;
  this.$b$ = 0;
};
$JSCompiler_prototypeAlias$$.$isEmpty$ = function() {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  return 0 == this.$b$;
};
$JSCompiler_prototypeAlias$$.$containsKey$ = function($key$jscomp$119$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  $key$jscomp$119$$ = $JSCompiler_StaticMethods_getKeyName_$$(this, $key$jscomp$119$$);
  return this.$a$.$containsKey$($key$jscomp$119$$);
};
$JSCompiler_prototypeAlias$$.$containsValue$ = function($value$jscomp$175$$) {
  var $vals$$ = this.$getValues$();
  return $goog$array$contains$$($vals$$, $value$jscomp$175$$);
};
$JSCompiler_prototypeAlias$$.forEach = function($f$jscomp$57$$, $opt_scope$jscomp$4$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  this.$a$.forEach(function($values$jscomp$23$$, $key$jscomp$120$$) {
    $goog$array$forEach$$($values$jscomp$23$$, function($values$jscomp$23$$) {
      $f$jscomp$57$$.call($opt_scope$jscomp$4$$, $values$jscomp$23$$, $key$jscomp$120$$, this);
    }, this);
  }, this);
};
$JSCompiler_prototypeAlias$$.$getKeys$ = function() {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  for (var $vals$jscomp$1$$ = this.$a$.$getValues$(), $keys$jscomp$12$$ = this.$a$.$getKeys$(), $rv$jscomp$18$$ = [], $i$jscomp$135$$ = 0; $i$jscomp$135$$ < $keys$jscomp$12$$.length; $i$jscomp$135$$++) {
    for (var $val$jscomp$38$$ = $vals$jscomp$1$$[$i$jscomp$135$$], $j$jscomp$9$$ = 0; $j$jscomp$9$$ < $val$jscomp$38$$.length; $j$jscomp$9$$++) {
      $rv$jscomp$18$$.push($keys$jscomp$12$$[$i$jscomp$135$$]);
    }
  }
  return $rv$jscomp$18$$;
};
$JSCompiler_prototypeAlias$$.$getValues$ = function($opt_key$jscomp$8_values$jscomp$24$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  var $rv$jscomp$19$$ = [];
  if ($goog$isString$$($opt_key$jscomp$8_values$jscomp$24$$)) {
    this.$containsKey$($opt_key$jscomp$8_values$jscomp$24$$) && ($rv$jscomp$19$$ = $goog$array$concat$$($rv$jscomp$19$$, this.$a$.get($JSCompiler_StaticMethods_getKeyName_$$(this, $opt_key$jscomp$8_values$jscomp$24$$))));
  } else {
    $opt_key$jscomp$8_values$jscomp$24$$ = this.$a$.$getValues$();
    for (var $i$jscomp$136$$ = 0; $i$jscomp$136$$ < $opt_key$jscomp$8_values$jscomp$24$$.length; $i$jscomp$136$$++) {
      $rv$jscomp$19$$ = $goog$array$concat$$($rv$jscomp$19$$, $opt_key$jscomp$8_values$jscomp$24$$[$i$jscomp$136$$]);
    }
  }
  return $rv$jscomp$19$$;
};
$JSCompiler_prototypeAlias$$.set = function($key$jscomp$121$$, $value$jscomp$177$$) {
  $JSCompiler_StaticMethods_ensureKeyMapInitialized_$$(this);
  this.$f$ = null;
  $key$jscomp$121$$ = $JSCompiler_StaticMethods_getKeyName_$$(this, $key$jscomp$121$$);
  this.$containsKey$($key$jscomp$121$$) && (this.$b$ = $goog$asserts$assertNumber$$(this.$b$) - this.$a$.get($key$jscomp$121$$).length);
  this.$a$.set($key$jscomp$121$$, [$value$jscomp$177$$]);
  this.$b$ = $goog$asserts$assertNumber$$(this.$b$) + 1;
  return this;
};
$JSCompiler_prototypeAlias$$.get = function($key$jscomp$122_values$jscomp$25$$, $opt_default$jscomp$1$$) {
  $key$jscomp$122_values$jscomp$25$$ = $key$jscomp$122_values$jscomp$25$$ ? this.$getValues$($key$jscomp$122_values$jscomp$25$$) : [];
  return 0 < $key$jscomp$122_values$jscomp$25$$.length ? String($key$jscomp$122_values$jscomp$25$$[0]) : $opt_default$jscomp$1$$;
};
var $JSCompiler_StaticMethods_setValues$$ = function($JSCompiler_StaticMethods_setValues$self$$, $key$jscomp$123$$, $values$jscomp$26$$) {
  $JSCompiler_StaticMethods_setValues$self$$.remove($key$jscomp$123$$);
  0 < $values$jscomp$26$$.length && ($JSCompiler_StaticMethods_setValues$self$$.$f$ = null, $JSCompiler_StaticMethods_setValues$self$$.$a$.set($JSCompiler_StaticMethods_getKeyName_$$($JSCompiler_StaticMethods_setValues$self$$, $key$jscomp$123$$), $goog$array$toArray$$($values$jscomp$26$$)), $JSCompiler_StaticMethods_setValues$self$$.$b$ = $goog$asserts$assertNumber$$($JSCompiler_StaticMethods_setValues$self$$.$b$) + $values$jscomp$26$$.length);
};
$goog$Uri$QueryData$$.prototype.toString = function() {
  if (this.$f$) {
    return this.$f$;
  }
  if (!this.$a$) {
    return "";
  }
  for (var $sb$jscomp$10$$ = [], $keys$jscomp$13$$ = this.$a$.$getKeys$(), $i$jscomp$137$$ = 0; $i$jscomp$137$$ < $keys$jscomp$13$$.length; $i$jscomp$137$$++) {
    for (var $key$jscomp$124_val$jscomp$39$$ = $keys$jscomp$13$$[$i$jscomp$137$$], $encodedKey$$ = encodeURIComponent(String($key$jscomp$124_val$jscomp$39$$)), $key$jscomp$124_val$jscomp$39$$ = this.$getValues$($key$jscomp$124_val$jscomp$39$$), $j$jscomp$10$$ = 0; $j$jscomp$10$$ < $key$jscomp$124_val$jscomp$39$$.length; $j$jscomp$10$$++) {
      var $param$jscomp$4$$ = $encodedKey$$;
      "" !== $key$jscomp$124_val$jscomp$39$$[$j$jscomp$10$$] && ($param$jscomp$4$$ += "=" + encodeURIComponent(String($key$jscomp$124_val$jscomp$39$$[$j$jscomp$10$$])));
      $sb$jscomp$10$$.push($param$jscomp$4$$);
    }
  }
  return this.$f$ = $sb$jscomp$10$$.join("&");
};
$goog$Uri$QueryData$$.prototype.clone = function() {
  var $rv$jscomp$20$$ = new $goog$Uri$QueryData$$;
  $rv$jscomp$20$$.$f$ = this.$f$;
  this.$a$ && ($rv$jscomp$20$$.$a$ = this.$a$.clone(), $rv$jscomp$20$$.$b$ = this.$b$);
  return $rv$jscomp$20$$;
};
var $JSCompiler_StaticMethods_getKeyName_$$ = function($JSCompiler_StaticMethods_getKeyName_$self$$, $arg$jscomp$9_keyName$$) {
  $arg$jscomp$9_keyName$$ = String($arg$jscomp$9_keyName$$);
  $JSCompiler_StaticMethods_getKeyName_$self$$.$g$ && ($arg$jscomp$9_keyName$$ = $arg$jscomp$9_keyName$$.toLowerCase());
  return $arg$jscomp$9_keyName$$;
}, $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$$ = function($JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$, $ignoreCase$jscomp$1$$) {
  $ignoreCase$jscomp$1$$ && !$JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$.$g$ && ($JSCompiler_StaticMethods_ensureKeyMapInitialized_$$($JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$), $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$.$f$ = null, $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$.$a$.forEach(function($JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$, 
  $ignoreCase$jscomp$1$$) {
    var $value$jscomp$179$$ = $ignoreCase$jscomp$1$$.toLowerCase();
    $ignoreCase$jscomp$1$$ != $value$jscomp$179$$ && (this.remove($ignoreCase$jscomp$1$$), $JSCompiler_StaticMethods_setValues$$(this, $value$jscomp$179$$, $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$));
  }, $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$));
  $JSCompiler_StaticMethods_goog_Uri_QueryData_prototype$setIgnoreCase$self$$.$g$ = $ignoreCase$jscomp$1$$;
};
$goog$Uri$QueryData$$.prototype.extend = function($var_args$jscomp$105$$) {
  for (var $i$jscomp$138$$ = 0; $i$jscomp$138$$ < arguments.length; $i$jscomp$138$$++) {
    $goog$structs$forEach$$(arguments[$i$jscomp$138$$], function($var_args$jscomp$105$$, $i$jscomp$138$$) {
      this.add($i$jscomp$138$$, $var_args$jscomp$105$$);
    }, this);
  }
};
var $mr$cast$PresentationUrl$$ = function($appInfos$$, $opt_clientId$$, $opt_autoJoinPolicy$jscomp$1$$, $opt_defaultActionPolicy$jscomp$1$$, $opt_launchTimeout$$, $opt_appName$$, $opt_dialPostData$$, $opt_invisibleSender$$, $opt_broadcastNamespace$$, $opt_broadcastMessage$$) {
  this.$h$ = $appInfos$$;
  this.$a$ = $opt_clientId$$ || null;
  this.$b$ = $opt_autoJoinPolicy$jscomp$1$$ || null;
  this.$f$ = $opt_defaultActionPolicy$jscomp$1$$ || null;
  this.$g$ = $goog$isDef$$($opt_launchTimeout$$) ? $opt_launchTimeout$$ : null;
  this.$w$ = $opt_appName$$ || null;
  this.$A$ = $opt_dialPostData$$ || null;
  this.$o$ = $opt_invisibleSender$$ || !1;
  this.$l$ = $opt_broadcastNamespace$$ || null;
  this.$j$ = $opt_broadcastMessage$$ || null;
}, $mr$cast$PresentationUrl$extractParameter_$$ = function($match$jscomp$8_str$jscomp$91$$, $key$jscomp$128$$) {
  return ($match$jscomp$8_str$jscomp$91$$ = $match$jscomp$8_str$jscomp$91$$.match($key$jscomp$128$$ + "=([^/]*)")) ? $match$jscomp$8_str$jscomp$91$$[1] : null;
}, $mr$cast$PresentationUrl$extractAppInfos_$$ = function($appIds$jscomp$1_str$jscomp$93$$) {
  $appIds$jscomp$1_str$jscomp$93$$ = $appIds$jscomp$1_str$jscomp$93$$.match(/__castAppId__=([^/]*)/g);
  return null == $appIds$jscomp$1_str$jscomp$93$$ ? [] : $goog$array$filter$$($goog$array$map$$($appIds$jscomp$1_str$jscomp$93$$, function($appIds$jscomp$1_str$jscomp$93$$) {
    $appIds$jscomp$1_str$jscomp$93$$ = $mr$cast$PresentationUrl$extractParameter_$$($appIds$jscomp$1_str$jscomp$93$$, "__castAppId__");
    if (!$appIds$jscomp$1_str$jscomp$93$$) {
      return null;
    }
    $appIds$jscomp$1_str$jscomp$93$$ = $appIds$jscomp$1_str$jscomp$93$$.match($mr$cast$PresentationUrl$APP_ID_REGEX_$$);
    if (!$appIds$jscomp$1_str$jscomp$93$$ || 0 == $appIds$jscomp$1_str$jscomp$93$$.length) {
      return null;
    }
    var $appId$jscomp$9_appIdParam_matches$jscomp$2$$ = [];
    3 == $appIds$jscomp$1_str$jscomp$93$$.length && $appIds$jscomp$1_str$jscomp$93$$[2] && ($appId$jscomp$9_appIdParam_matches$jscomp$2$$ = $appIds$jscomp$1_str$jscomp$93$$[2].split(","));
    return {appId:$appIds$jscomp$1_str$jscomp$93$$[1], capabilities:$appId$jscomp$9_appIdParam_matches$jscomp$2$$};
  }), function($appIds$jscomp$1_str$jscomp$93$$) {
    return null != $appIds$jscomp$1_str$jscomp$93$$;
  });
}, $mr$cast$PresentationUrl$extractClientId$$ = function($str$jscomp$97$$) {
  return $mr$cast$PresentationUrl$extractParameter_$$($str$jscomp$97$$, "__castClientId__");
}, $JSCompiler_StaticMethods_getAppIds$$ = function($JSCompiler_StaticMethods_getAppIds$self$$) {
  return $goog$array$map$$($JSCompiler_StaticMethods_getAppIds$self$$.$h$, function($JSCompiler_StaticMethods_getAppIds$self$$) {
    return $JSCompiler_StaticMethods_getAppIds$self$$.appId;
  });
}, $JSCompiler_StaticMethods_getAutoJoinPolicy$$ = function($JSCompiler_StaticMethods_getAutoJoinPolicy$self$$) {
  return $JSCompiler_StaticMethods_getAutoJoinPolicy$self$$.$b$ ? $JSCompiler_StaticMethods_getAutoJoinPolicy$self$$.$b$ : chrome.cast.$AutoJoinPolicy$.TAB_AND_ORIGIN_SCOPED;
};
$mr$cast$PresentationUrl$$.prototype.toString = function() {
  var $uri$jscomp$48$$ = new $goog$Uri$$;
  $JSCompiler_StaticMethods_setScheme$$($uri$jscomp$48$$, "https");
  $JSCompiler_StaticMethods_goog_Uri_prototype$setDomain$$($uri$jscomp$48$$, "google.com");
  $JSCompiler_StaticMethods_goog_Uri_prototype$setPath$$($uri$jscomp$48$$, "/cast");
  var $fragments$$ = [];
  $goog$array$forEach$$(this.$h$, function($uri$jscomp$48$$) {
    var $appInfo$jscomp$2$$ = "__castAppId__=" + $uri$jscomp$48$$.appId;
    $uri$jscomp$48$$.capabilities && 0 < $uri$jscomp$48$$.capabilities.length && ($appInfo$jscomp$2$$ = $appInfo$jscomp$2$$ + "(" + $uri$jscomp$48$$.capabilities.join(","), $appInfo$jscomp$2$$ += ")");
    $fragments$$.push($appInfo$jscomp$2$$);
  });
  this.$a$ && $fragments$$.push("__castClientId__=" + this.$a$);
  this.$b$ && $fragments$$.push("__castAutoJoinPolicy__=" + this.$b$);
  this.$f$ && $fragments$$.push("__castDefaultActionPolicy__=" + this.$f$);
  null != this.$g$ && $fragments$$.push("__castLaunchTimeout__=" + this.$g$);
  this.$w$ && $fragments$$.push("__dialAppName__=" + this.$w$);
  this.$A$ && $fragments$$.push("__dialPostData__=" + this.$A$);
  this.$o$ && $fragments$$.push("__castInvisibleSender__=true");
  this.$l$ && ($fragments$$.push("__castBroadcastNamespace__=" + this.$l$), $fragments$$.push("__castBroadcastId__=" + Math.random()));
  this.$j$ && $fragments$$.push("__castBroadcastMessage__=" + encodeURIComponent(JSON.stringify(this.$j$)));
  $JSCompiler_StaticMethods_setFragment$$($uri$jscomp$48$$, $fragments$$.join("/"));
  return $uri$jscomp$48$$.toString();
};
var $JSCompiler_StaticMethods_isSameAppId$$ = function($JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$, $url$jscomp$70$$) {
  $JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$ = $JSCompiler_StaticMethods_getAppIds$$($JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$);
  var $otherAppIds$$ = $mr$cast$PresentationUrl$getAppIdsFromUrl$$($url$jscomp$70$$);
  return $goog$array$some$$($JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$, function($JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$) {
    return $goog$array$contains$$($otherAppIds$$, $JSCompiler_StaticMethods_isSameAppId$self_appIds$jscomp$2$$);
  });
}, $mr$cast$PresentationUrl$createFromUrl$$ = function($appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$) {
  $appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$ = new $goog$Uri$$($appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$);
  if ("https" != $appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$.$b$ || "google.com" != $appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$.$domain_$ || "/cast" != $appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$.$a$) {
    return null;
  }
  var $broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$ = $appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$.$f$;
  $appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$ = $mr$cast$PresentationUrl$extractAppInfos_$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$);
  if (!$appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$ || 0 == $appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$.length) {
    return null;
  }
  var $clientId$jscomp$7$$ = $mr$cast$PresentationUrl$extractClientId$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$), $autoJoinPolicy$$ = $mr$cast$PresentationUrl$extractParameter_$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$, "__castAutoJoinPolicy__"), $defaultActionPolicy$$ = $mr$cast$PresentationUrl$extractParameter_$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$, "__castDefaultActionPolicy__");
  var $JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$ = $mr$cast$PresentationUrl$extractParameter_$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$, "__castLaunchTimeout__");
  null == $JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$ ? $JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$ = null : ($JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$ = Number($JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$), $JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$ = 
  !isNaN($JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$) && 0 <= $JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$ ? $JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$ : null);
  var $appName$jscomp$4$$ = $mr$cast$PresentationUrl$extractParameter_$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$, "__dialAppName__"), $dialPostData$$ = $mr$cast$PresentationUrl$extractParameter_$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$, "__dialPostData__"), $invisibleSender_parameter$jscomp$inline_964$$ = $mr$cast$PresentationUrl$extractParameter_$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$, "__castInvisibleSender__"), $invisibleSender_parameter$jscomp$inline_964$$ = 
  null === $invisibleSender_parameter$jscomp$inline_964$$ ? null : "true" == $invisibleSender_parameter$jscomp$inline_964$$, $broadcastNamespace$$ = $mr$cast$PresentationUrl$extractParameter_$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$, "__castBroadcastNamespace__"), $broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$ = ($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$ = $mr$cast$PresentationUrl$extractParameter_$$($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$, 
  "__castBroadcastMessage__")) ? JSON.parse(decodeURIComponent($broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$)) : null;
  return new $mr$cast$PresentationUrl$$($appInfos$jscomp$1_uri$jscomp$49_url$jscomp$71$$, $clientId$jscomp$7$$, $autoJoinPolicy$$, $defaultActionPolicy$$, $JSCompiler_inline_result$jscomp$142_launchTimeout_param$jscomp$inline_960_timeout$jscomp$inline_961$$, $appName$jscomp$4$$, $dialPostData$$, $invisibleSender_parameter$jscomp$inline_964$$, $broadcastNamespace$$, $broadcastMessage_data$jscomp$inline_967_fragment$jscomp$3$$);
}, $mr$cast$PresentationUrl$getAppIdsFromUrl$$ = function($presentationUrl_url$jscomp$72$$) {
  return ($presentationUrl_url$jscomp$72$$ = $mr$cast$PresentationUrl$createFromUrl$$($presentationUrl_url$jscomp$72$$)) ? $JSCompiler_StaticMethods_getAppIds$$($presentationUrl_url$jscomp$72$$) : null;
}, $mr$cast$PresentationUrl$getClientIdFromUrl$$ = function($presentationUrl$jscomp$1_url$jscomp$73$$) {
  return ($presentationUrl$jscomp$1_url$jscomp$73$$ = $mr$cast$PresentationUrl$createFromUrl$$($presentationUrl$jscomp$1_url$jscomp$73$$)) ? $presentationUrl$jscomp$1_url$jscomp$73$$.$a$ : null;
}, $mr$cast$PresentationUrl$APP_ID_REGEX_$$ = /(^\w+)(?:\(([\w,\ ]*)\))?$/;
var $mr$cast$ApiHandler$$ = function($requestSender$$, $discoveryService$$, $clientRecords$jscomp$1$$, $sessionRecords$$, $channelService$jscomp$1$$, $providerCallbacks$jscomp$1$$) {
  this.$f$ = $requestSender$$;
  this.$l$ = $discoveryService$$;
  this.$h$ = $clientRecords$jscomp$1$$;
  this.$a$ = $sessionRecords$$;
  this.$j$ = $channelService$jscomp$1$$;
  this.$g$ = $providerCallbacks$jscomp$1$$;
  this.$b$ = new $mr$cast$ApiMessenger$$($providerCallbacks$jscomp$1$$, $clientRecords$jscomp$1$$);
  this.$B$ = new $mr$cast$ReceiverStatusQuerier$$(this.$f$);
  this.$D$ = new $mr$cast$SessionLauncher$$(this.$f$);
};
$mr$cast$ApiHandler$$.prototype.init = function() {
  this.$h$.init();
  this.$b$.listen("v2_message", this.$A$.bind(this));
  this.$b$.listen("app_message", this.$o$.bind(this));
  this.$b$.listen("leave_session", this.$w$.bind(this));
};
var $JSCompiler_StaticMethods_sendMessageToClients_$$ = function($JSCompiler_StaticMethods_sendMessageToClients_$self$$, $sessionId$jscomp$19$$, $message$jscomp$64$$, $opt_excludeClientId$$) {
  $JSCompiler_StaticMethods_getClientIdsOfSession$$($JSCompiler_StaticMethods_sendMessageToClients_$self$$.$a$, $sessionId$jscomp$19$$).slice().forEach(function($sessionId$jscomp$19$$) {
    $sessionId$jscomp$19$$ != $opt_excludeClientId$$ && $JSCompiler_StaticMethods_sendMessageToClient_$$($JSCompiler_StaticMethods_sendMessageToClients_$self$$, $sessionId$jscomp$19$$, $message$jscomp$64$$);
  });
}, $JSCompiler_StaticMethods_sendMessageToClient_$$ = function($JSCompiler_StaticMethods_sendMessageToClient_$self$$, $clientId$jscomp$9$$, $message$jscomp$65$$) {
  $message$jscomp$65$$.clientId = $clientId$jscomp$9$$;
  $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_sendMessageToClient_$self$$.$b$, $clientId$jscomp$9$$, $message$jscomp$65$$);
}, $JSCompiler_StaticMethods_sendReceiverAction$$ = function($JSCompiler_StaticMethods_sendReceiverAction$self$$, $clientId$jscomp$10$$, $receiverAction_sink$jscomp$20$$, $action$jscomp$1$$) {
  $receiverAction_sink$jscomp$20$$ = {receiver:$mr$cast$ApiDataUtils$getReceiverFrom$$($receiverAction_sink$jscomp$20$$), action:$action$jscomp$1$$};
  $JSCompiler_StaticMethods_sendMessageToClient_$$($JSCompiler_StaticMethods_sendReceiverAction$self$$, $clientId$jscomp$10$$, new $mr$cast$InternalMessage$$("receiver_action", $receiverAction_sink$jscomp$20$$));
};
$mr$cast$ApiHandler$$.prototype.$A$ = function($request$jscomp$26$$) {
  var $message$jscomp$67$$ = $request$jscomp$26$$.message, $receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$ = $message$jscomp$67$$.sessionId;
  if ($receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$) {
    var $session$jscomp$8$$ = $JSCompiler_StaticMethods_getSessionById$$(this.$a$, $receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$);
    if ($session$jscomp$8$$) {
      if ($receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$ = $JSCompiler_StaticMethods_getSinkIdBySessionId$$(this.$a$, $receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$)) {
        if ($receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$ = this.$l$.$b$($receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$)) {
          switch($message$jscomp$67$$.type) {
            case "STOP":
              $JSCompiler_StaticMethods_onApiStopSession_$$(this, $request$jscomp$26$$, $receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$);
              break;
            case "LOAD":
            case "PAUSE":
            case "PLAY":
            case "SEEK":
            case "STOP_MEDIA":
            case "MEDIA_SET_VOLUME":
            case "MEDIA_GET_STATUS":
            case "EDIT_TRACKS_INFO":
            case "QUEUE_LOAD":
            case "QUEUE_INSERT":
            case "QUEUE_UPDATE":
            case "QUEUE_REMOVE":
            case "QUEUE_REORDER":
            case "PRECACHE":
              $JSCompiler_StaticMethods_onApiMediaCommand_$$(this, $request$jscomp$26$$, $receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$, $session$jscomp$8$$);
              break;
            case "SET_VOLUME":
              $JSCompiler_StaticMethods_onApiSetReceiverVolume_$$(this, $request$jscomp$26$$, $receiver$jscomp$14_sessionId$jscomp$20_sinkId$jscomp$10$$);
              break;
            default:
              $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiHandler$logger_$$, "Unknown request");
          }
        } else {
          $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$26$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "No receiver");
        }
      } else {
        $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$26$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "No sink ID");
      }
    } else {
      $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$26$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "Unknown session ID");
    }
  } else {
    $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$26$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "No session ID");
  }
};
var $JSCompiler_StaticMethods_sendErrorCodeToApi_$$ = function($JSCompiler_StaticMethods_sendErrorCodeToApi_$self$$, $request$jscomp$27$$, $error$jscomp$21_errorCode$jscomp$2$$, $opt_description$jscomp$3$$) {
  $error$jscomp$21_errorCode$jscomp$2$$ = new chrome.cast.Error($error$jscomp$21_errorCode$jscomp$2$$, $opt_description$jscomp$3$$);
  $JSCompiler_StaticMethods_sendErrorToApi_$$($JSCompiler_StaticMethods_sendErrorCodeToApi_$self$$, $request$jscomp$27$$, $error$jscomp$21_errorCode$jscomp$2$$);
}, $JSCompiler_StaticMethods_sendErrorToApi_$$ = function($JSCompiler_StaticMethods_sendErrorToApi_$self$$, $request$jscomp$28$$, $error$jscomp$22$$) {
  $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_sendErrorToApi_$self$$.$b$, $request$jscomp$28$$.clientId, new $mr$cast$InternalMessage$$("error", $error$jscomp$22$$, $request$jscomp$28$$.sequenceNumber));
}, $JSCompiler_StaticMethods_onApiStopSession_$$ = function($JSCompiler_StaticMethods_onApiStopSession_$self$$, $request$jscomp$29$$, $receiver$jscomp$15$$) {
  var $stopRequest$jscomp$2$$ = $request$jscomp$29$$.message;
  $mr$Analytics$recordEvent$$("MediaRouter.Cast.Session.End");
  var $sessionId$jscomp$21$$ = $stopRequest$jscomp$2$$.sessionId, $cleanup_sessionRecord$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_onApiStopSession_$self$$.$a$, $sessionId$jscomp$21$$);
  $cleanup_sessionRecord$$ && ($cleanup_sessionRecord$$.$g$ = !0);
  $cleanup_sessionRecord$$ = function() {
    $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$($JSCompiler_StaticMethods_onApiStopSession_$self$$, $sessionId$jscomp$21$$, $request$jscomp$29$$);
  };
  $JSCompiler_StaticMethods_onApiStopSession_$self$$.$f$.sendRequest($stopRequest$jscomp$2$$, $receiver$jscomp$15$$, $mr$cast$Namespace$Cast$RECEIVER$$, $request$jscomp$29$$.timeoutMillis, $goog$asserts$assertString$$($request$jscomp$29$$.clientId)).then($cleanup_sessionRecord$$, $cleanup_sessionRecord$$);
}, $JSCompiler_StaticMethods_onApiMediaCommand_$$ = function($JSCompiler_StaticMethods_onApiMediaCommand_$self$$, $request$jscomp$30$$, $receiver$jscomp$16$$, $session$jscomp$9$$) {
  var $message$jscomp$69$$ = $request$jscomp$30$$.message, $messageType$$ = $message$jscomp$69$$.type;
  $messageType$$ in $mr$cast$OVERLOADED_MESSAGE_TYPES$$ && ($message$jscomp$69$$.type = $mr$cast$OVERLOADED_MESSAGE_TYPES$$[$messageType$$]);
  $JSCompiler_StaticMethods_onApiMediaCommand_$self$$.$f$.sendRequest($message$jscomp$69$$, $receiver$jscomp$16$$, $mr$cast$Namespace$Cast$MEDIA$$, $request$jscomp$30$$.timeoutMillis, $request$jscomp$30$$.clientId, $session$jscomp$9$$.transportId).then(function($receiver$jscomp$16$$) {
    var $message$jscomp$69$$ = $session$jscomp$9$$.sessionId;
    $receiver$jscomp$16$$.sessionId = $message$jscomp$69$$;
    $JSCompiler_StaticMethods_setSessionMedia$$($JSCompiler_StaticMethods_onApiMediaCommand_$self$$.$a$, $message$jscomp$69$$, $mr$cast$ApiHandler$fixupMediaArray_$$($receiver$jscomp$16$$.status, $message$jscomp$69$$));
    $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_onApiMediaCommand_$self$$.$b$, $request$jscomp$30$$.clientId, new $mr$cast$InternalMessage$$("v2_message", $receiver$jscomp$16$$, $request$jscomp$30$$.sequenceNumber));
  }, function($receiver$jscomp$16$$) {
    $JSCompiler_StaticMethods_sendErrorToApi_$$($JSCompiler_StaticMethods_onApiMediaCommand_$self$$, $request$jscomp$30$$, $receiver$jscomp$16$$);
  });
}, $JSCompiler_StaticMethods_onApiSetReceiverVolume_$$ = function($JSCompiler_StaticMethods_onApiSetReceiverVolume_$self$$, $request$jscomp$31$$, $receiver$jscomp$17$$) {
  var $volumeRequest$jscomp$4$$ = $request$jscomp$31$$.message;
  delete $volumeRequest$jscomp$4$$.sessionId;
  $JSCompiler_StaticMethods_onApiSetReceiverVolume_$self$$.$f$.sendRequest($volumeRequest$jscomp$4$$, $receiver$jscomp$17$$, $mr$cast$Namespace$Cast$RECEIVER$$, $request$jscomp$31$$.timeoutMillis, $request$jscomp$31$$.clientId).then(function() {
    $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_onApiSetReceiverVolume_$self$$.$b$, $request$jscomp$31$$.clientId, new $mr$cast$InternalMessage$$("v2_message", null, $request$jscomp$31$$.sequenceNumber));
  }, function($receiver$jscomp$17$$) {
    $JSCompiler_StaticMethods_sendErrorToApi_$$($JSCompiler_StaticMethods_onApiSetReceiverVolume_$self$$, $request$jscomp$31$$, $receiver$jscomp$17$$);
  });
};
$mr$cast$ApiHandler$$.prototype.$o$ = function($request$jscomp$32$$) {
  var $$jscomp$this$jscomp$45$$ = this, $appMessageRequest$$ = $request$jscomp$32$$.message, $session$jscomp$10_sessionId$jscomp$22$$ = $appMessageRequest$$.sessionId;
  if ($session$jscomp$10_sessionId$jscomp$22$$) {
    var $receiver$jscomp$18_sinkId$jscomp$11$$ = $JSCompiler_StaticMethods_getSinkIdBySessionId$$(this.$a$, $session$jscomp$10_sessionId$jscomp$22$$);
    $receiver$jscomp$18_sinkId$jscomp$11$$ ? ($receiver$jscomp$18_sinkId$jscomp$11$$ = this.$l$.$b$($receiver$jscomp$18_sinkId$jscomp$11$$)) ? ($session$jscomp$10_sessionId$jscomp$22$$ = $JSCompiler_StaticMethods_getSessionById$$(this.$a$, $session$jscomp$10_sessionId$jscomp$22$$), $goog$array$find$$($session$jscomp$10_sessionId$jscomp$22$$.namespaces, function($request$jscomp$32$$) {
      return $request$jscomp$32$$.name == $appMessageRequest$$.namespaceName;
    }) ? $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$(this.$j$, $receiver$jscomp$18_sinkId$jscomp$11$$, $appMessageRequest$$.namespaceName, $appMessageRequest$$.message, $request$jscomp$32$$.clientId, $session$jscomp$10_sessionId$jscomp$22$$.transportId).then(function() {
      $JSCompiler_StaticMethods_sendToApi$$($$jscomp$this$jscomp$45$$.$b$, $request$jscomp$32$$.clientId, new $mr$cast$InternalMessage$$("app_message", null, $request$jscomp$32$$.sequenceNumber));
    }, function() {
      $JSCompiler_StaticMethods_sendErrorCodeToApi_$$($$jscomp$this$jscomp$45$$, $request$jscomp$32$$, chrome.cast.$ErrorCode$.CHANNEL_ERROR, "Channel to receiver not available");
    }) : $JSCompiler_StaticMethods_sendErrorCodeToApi_$$(this, $request$jscomp$32$$, chrome.cast.$ErrorCode$.INVALID_PARAMETER, "Invalid namespace")) : $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiHandler$logger_$$, "No receiver from sinkId") : $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiHandler$logger_$$, "No sinkId from sessionId");
  } else {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiHandler$logger_$$, "No sessionId");
  }
};
$mr$cast$ApiHandler$$.prototype.$w$ = function($request$jscomp$33$$) {
  var $$jscomp$this$jscomp$46$$ = this;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ApiHandler$logger_$$, "Leave session");
  var $sessionRecord$jscomp$2$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$(this.$a$, $request$jscomp$33$$.message);
  if ($sessionRecord$jscomp$2$$) {
    var $clientId$jscomp$11$$ = $request$jscomp$33$$.clientId, $clientRecord$jscomp$4$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$(this.$h$, $clientId$jscomp$11$$);
    if ($clientRecord$jscomp$4$$) {
      var $leaving$$ = [], $staying$$ = [], $tabId$jscomp$15$$ = $clientRecord$jscomp$4$$.tabId, $origin$jscomp$1$$ = $clientRecord$jscomp$4$$.origin, $autoJoinPolicy$jscomp$1$$ = $clientRecord$jscomp$4$$.autoJoinPolicy;
      $sessionRecord$jscomp$2$$.$b$.forEach(function($request$jscomp$33$$) {
        var $sessionRecord$jscomp$2$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($$jscomp$this$jscomp$46$$.$h$, $request$jscomp$33$$);
        $autoJoinPolicy$jscomp$1$$ == chrome.cast.$AutoJoinPolicy$.TAB_AND_ORIGIN_SCOPED && $tabId$jscomp$15$$ == $sessionRecord$jscomp$2$$.tabId && $origin$jscomp$1$$ == $sessionRecord$jscomp$2$$.origin || $autoJoinPolicy$jscomp$1$$ == chrome.cast.$AutoJoinPolicy$.ORIGIN_SCOPED && $origin$jscomp$1$$ == $sessionRecord$jscomp$2$$.origin ? ($sessionRecord$jscomp$2$$.$b$ = !0, $leaving$$.push($request$jscomp$33$$)) : $staying$$.push($request$jscomp$33$$);
      });
      $JSCompiler_StaticMethods_sendToApi$$(this.$b$, $clientId$jscomp$11$$, new $mr$cast$InternalMessage$$("leave_session", null, $request$jscomp$33$$.sequenceNumber));
      $leaving$$.forEach(function($request$jscomp$33$$) {
        ($request$jscomp$33$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($$jscomp$this$jscomp$46$$.$h$, $request$jscomp$33$$)) && $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$($$jscomp$this$jscomp$46$$.$g$, $request$jscomp$33$$.routeId, !0, !0);
      });
      $sessionRecord$jscomp$2$$.$b$ = $staying$$;
    } else {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiHandler$logger_$$, "No client record");
    }
  } else {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiHandler$logger_$$, "No session");
  }
};
var $JSCompiler_StaticMethods_queryMediaStatus_$$ = function($JSCompiler_StaticMethods_queryMediaStatus_$self$$, $session$jscomp$11$$, $sink$jscomp$21$$) {
  $mr$cast$ApiDataUtils$hasNamespace$$($session$jscomp$11$$) && $JSCompiler_StaticMethods_queryMediaStatus_$self$$.$f$.sendRequest(new $mr$cast$ReceiverStatusRequest$$, $sink$jscomp$21$$, $mr$cast$Namespace$Cast$MEDIA$$, void 0, void 0, $session$jscomp$11$$.transportId).catch($goog$nullFunction$$);
}, $JSCompiler_StaticMethods_querySinkStatus$$ = function($JSCompiler_StaticMethods_querySinkStatus$self$$, $sink$jscomp$22$$, $opt_queryMediaStatus$$) {
  var $sinkId$jscomp$13$$ = $sink$jscomp$22$$.getId();
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ApiHandler$logger_$$, "Query status for " + $sinkId$jscomp$13$$);
  $JSCompiler_StaticMethods_startQuery$$($JSCompiler_StaticMethods_querySinkStatus$self$$.$B$, $sink$jscomp$22$$).then(function($session$jscomp$12_statusResponse$jscomp$1$$) {
    $JSCompiler_StaticMethods_onReceiverStatus_$$($JSCompiler_StaticMethods_querySinkStatus$self$$, $sinkId$jscomp$13$$, $session$jscomp$12_statusResponse$jscomp$1$$);
    $opt_queryMediaStatus$$ && ($session$jscomp$12_statusResponse$jscomp$1$$ = $JSCompiler_StaticMethods_getSessionBySinkId$$($JSCompiler_StaticMethods_querySinkStatus$self$$.$a$, $sinkId$jscomp$13$$)) && $JSCompiler_StaticMethods_queryMediaStatus_$$($JSCompiler_StaticMethods_querySinkStatus$self$$, $session$jscomp$12_statusResponse$jscomp$1$$, $sink$jscomp$22$$);
  }, $goog$nullFunction$$);
}, $JSCompiler_StaticMethods_isValidDestinationId_$$ = function($JSCompiler_StaticMethods_isValidDestinationId_$self$$, $destinationId_message$jscomp$75$$) {
  if ("*" == $destinationId_message$jscomp$75$$.destinationId) {
    return !0;
  }
  $destinationId_message$jscomp$75$$ = $destinationId_message$jscomp$75$$.destinationId;
  if ($destinationId_message$jscomp$75$$ == $JSCompiler_StaticMethods_isValidDestinationId_$self$$.$j$.$j$ || null != $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_isValidDestinationId_$self$$.$h$, $destinationId_message$jscomp$75$$)) {
    return !0;
  }
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ApiHandler$logger_$$, "Invalid destination " + $destinationId_message$jscomp$75$$);
  return !1;
}, $JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$$ = function($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $receiverId_sessionRecord$jscomp$3$$, $message$jscomp$76$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiHandler$logger_$$, function() {
    return "Cast message: " + JSON.stringify($message$jscomp$76$$);
  });
  if ($JSCompiler_StaticMethods_isValidDestinationId_$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $message$jscomp$76$$)) {
    if ($message$jscomp$76$$.namespace_ == $mr$cast$Namespace$Cast$REMOTING$$ || $message$jscomp$76$$.namespace_ == $mr$cast$Namespace$Cast$WEBRTC$$) {
      ($receiverId_sessionRecord$jscomp$3$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$.$a$, $receiverId_sessionRecord$jscomp$3$$)) && $receiverId_sessionRecord$jscomp$3$$.$a$.forEach(function($receiverId_sessionRecord$jscomp$3$$) {
        var $payload$jscomp$1$$ = $JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$.$g$, $request$jscomp$34_sourceId$jscomp$2$$ = $payload$jscomp$1$$.$f$.get($receiverId_sessionRecord$jscomp$3$$);
        $request$jscomp$34_sourceId$jscomp$2$$ && $request$jscomp$34_sourceId$jscomp$2$$.$createdLocally$ && $payload$jscomp$1$$.$b$.$onInternalMessage$($payload$jscomp$1$$, $receiverId_sessionRecord$jscomp$3$$, $message$jscomp$76$$);
      });
    } else {
      var $payload$jscomp$1$$ = JSON.parse($message$jscomp$76$$.data), $request$jscomp$34_sourceId$jscomp$2$$ = $JSCompiler_StaticMethods_handlePendingRequest_$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $payload$jscomp$1$$), $request$jscomp$34_sourceId$jscomp$2$$ = $request$jscomp$34_sourceId$jscomp$2$$ ? $request$jscomp$34_sourceId$jscomp$2$$.sourceId : void 0;
      switch($payload$jscomp$1$$.type) {
        case "RECEIVER_STATUS":
          $JSCompiler_StaticMethods_onReceiverStatus_$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $receiverId_sessionRecord$jscomp$3$$, $payload$jscomp$1$$);
          break;
        case "MEDIA_STATUS":
          $JSCompiler_StaticMethods_onReceiverMediaStatus_$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$, $receiverId_sessionRecord$jscomp$3$$, $message$jscomp$76$$, $request$jscomp$34_sourceId$jscomp$2$$);
      }
    }
  } else {
    $JSCompiler_StaticMethods_closeVirtualConnection$$($JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$self$$.$j$, $receiverId_sessionRecord$jscomp$3$$, $message$jscomp$76$$.destinationId, $message$jscomp$76$$.sourceId, !1);
  }
}, $JSCompiler_StaticMethods_handlePendingRequest_$$ = function($JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$35$$, $payload$jscomp$2$$) {
  $JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$35$$ = $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$35$$.$f$.$a$, $payload$jscomp$2$$.requestId);
  if (!$JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$35$$) {
    return null;
  }
  var $resolver$jscomp$13$$ = $JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$35$$.$resolver$;
  switch($payload$jscomp$2$$.type) {
    case "LAUNCH_ERROR":
    case "INVALID_REQUEST":
    case "LOAD_CANCELLED":
    case "LOAD_FAILED":
    case "INVALID_PLAYER_STATE":
      delete $payload$jscomp$2$$.requestId;
      $resolver$jscomp$13$$.reject(new chrome.cast.Error(chrome.cast.$ErrorCode$.SESSION_ERROR, $payload$jscomp$2$$.reason || $payload$jscomp$2$$.type, $payload$jscomp$2$$));
      break;
    default:
      $resolver$jscomp$13$$.resolve($payload$jscomp$2$$);
  }
  return $JSCompiler_StaticMethods_handlePendingRequest_$self_request$jscomp$35$$;
}, $JSCompiler_StaticMethods_onReceiverAppMessage_$$ = function($JSCompiler_StaticMethods_onReceiverAppMessage_$self$$, $receiverId$jscomp$1_session$jscomp$13$$, $message$jscomp$77$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiHandler$logger_$$, function() {
    return "App message: " + JSON.stringify($message$jscomp$77$$);
  });
  if ($receiverId$jscomp$1_session$jscomp$13$$ = $JSCompiler_StaticMethods_getSessionBySinkId$$($JSCompiler_StaticMethods_onReceiverAppMessage_$self$$.$a$, $receiverId$jscomp$1_session$jscomp$13$$)) {
    var $clientIds$jscomp$1$$;
    "*" == $message$jscomp$77$$.destinationId ? $clientIds$jscomp$1$$ = $JSCompiler_StaticMethods_getClientIdsOfSession$$($JSCompiler_StaticMethods_onReceiverAppMessage_$self$$.$a$, $receiverId$jscomp$1_session$jscomp$13$$.sessionId) : $clientIds$jscomp$1$$ = [$message$jscomp$77$$.destinationId];
    var $appMessage$$ = new $mr$cast$AppMessage$$($receiverId$jscomp$1_session$jscomp$13$$.sessionId, $message$jscomp$77$$.namespace_, $message$jscomp$77$$.data);
    $clientIds$jscomp$1$$.forEach(function($receiverId$jscomp$1_session$jscomp$13$$) {
      $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_onReceiverAppMessage_$self$$.$b$, $receiverId$jscomp$1_session$jscomp$13$$, new $mr$cast$InternalMessage$$("app_message", $appMessage$$));
    });
  } else {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiHandler$logger_$$, "No session for incoming app message");
  }
}, $mr$cast$ApiHandler$fixupMediaArray_$$ = function($mediaArray$$, $sessionId$jscomp$24$$) {
  $mediaArray$$.forEach(function($mediaArray$$) {
    $mediaArray$$.sessionId = $sessionId$jscomp$24$$;
    var $media$jscomp$4$$ = $mediaArray$$.supportedMediaCommands, $result$jscomp$inline_981$$ = [];
    $media$jscomp$4$$ & 1 && $result$jscomp$inline_981$$.push(chrome.cast.media.$MediaCommand$.PAUSE);
    $media$jscomp$4$$ & 2 && $result$jscomp$inline_981$$.push(chrome.cast.media.$MediaCommand$.SEEK);
    $media$jscomp$4$$ & 4 && $result$jscomp$inline_981$$.push(chrome.cast.media.$MediaCommand$.STREAM_VOLUME);
    $media$jscomp$4$$ & 8 && $result$jscomp$inline_981$$.push(chrome.cast.media.$MediaCommand$.STREAM_MUTE);
    $mediaArray$$.supportedMediaCommands = $result$jscomp$inline_981$$;
  });
  return $mediaArray$$;
}, $JSCompiler_StaticMethods_removeSession$$ = function($JSCompiler_StaticMethods_removeSession$self$$, $session$jscomp$16_sessionId$jscomp$26_sinkId$jscomp$15$$) {
  if ($session$jscomp$16_sessionId$jscomp$26_sinkId$jscomp$15$$ = $JSCompiler_StaticMethods_getSessionBySinkId$$($JSCompiler_StaticMethods_removeSession$self$$.$a$, $session$jscomp$16_sessionId$jscomp$26_sinkId$jscomp$15$$)) {
    $session$jscomp$16_sessionId$jscomp$26_sinkId$jscomp$15$$ = $session$jscomp$16_sessionId$jscomp$26_sinkId$jscomp$15$$.sessionId;
    var $sessionRecord$jscomp$4$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_removeSession$self$$.$a$, $session$jscomp$16_sessionId$jscomp$26_sinkId$jscomp$15$$);
    $sessionRecord$jscomp$4$$ && $sessionRecord$jscomp$4$$.$g$ || $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$($JSCompiler_StaticMethods_removeSession$self$$, $session$jscomp$16_sessionId$jscomp$26_sinkId$jscomp$15$$);
  }
}, $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$ = function($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$, $sessionId$jscomp$27$$, $opt_request$jscomp$4_sessionRecord$jscomp$5$$) {
  $opt_request$jscomp$4_sessionRecord$jscomp$5$$ && $JSCompiler_StaticMethods_sendMessageToClient_$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$, $opt_request$jscomp$4_sessionRecord$jscomp$5$$.clientId, $opt_request$jscomp$4_sessionRecord$jscomp$5$$);
  ($opt_request$jscomp$4_sessionRecord$jscomp$5$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$.$a$, $sessionId$jscomp$27$$)) && $opt_request$jscomp$4_sessionRecord$jscomp$5$$.$a$.slice().forEach(function($sessionId$jscomp$27$$) {
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$.$g$, $sessionId$jscomp$27$$, !0);
  });
  $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$self$$.$a$, $sessionId$jscomp$27$$);
}, $JSCompiler_StaticMethods_onReceiverStatus_$$ = function($JSCompiler_StaticMethods_onReceiverStatus_$self$$, $receiverId$jscomp$2_session$jscomp$inline_986$$, $receiver$jscomp$19_statusResponse$jscomp$2$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiHandler$logger_$$, "Receiver status for " + $receiverId$jscomp$2_session$jscomp$inline_986$$);
  var $latestSession_receiverStatus$jscomp$2$$ = $receiver$jscomp$19_statusResponse$jscomp$2$$.status;
  if ($latestSession_receiverStatus$jscomp$2$$) {
    if ($receiver$jscomp$19_statusResponse$jscomp$2$$ = $JSCompiler_StaticMethods_onReceiverStatus_$self$$.$l$.$b$($receiverId$jscomp$2_session$jscomp$inline_986$$)) {
      var $latestSession_receiverStatus$jscomp$2$$ = $mr$cast$ApiDataUtils$getSessionFromReceiverStatus$$($receiver$jscomp$19_statusResponse$jscomp$2$$, $latestSession_receiverStatus$jscomp$2$$), $currentSessionRecord$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$.$a$, $receiverId$jscomp$2_session$jscomp$inline_986$$);
      $currentSessionRecord$$ ? $latestSession_receiverStatus$jscomp$2$$ ? $latestSession_receiverStatus$jscomp$2$$.sessionId == $currentSessionRecord$$.session.sessionId ? ($goog$asserts$assert$$($currentSessionRecord$$.session.sessionId == $latestSession_receiverStatus$jscomp$2$$.sessionId), $receiverId$jscomp$2_session$jscomp$inline_986$$ = $currentSessionRecord$$.session, $mr$cast$ApiDataUtils$isSessionStatusChanged$$($receiverId$jscomp$2_session$jscomp$inline_986$$, $latestSession_receiverStatus$jscomp$2$$) && 
      ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiHandler$logger_$$, "Updating session " + $latestSession_receiverStatus$jscomp$2$$.sessionId), $receiverId$jscomp$2_session$jscomp$inline_986$$.statusText = $latestSession_receiverStatus$jscomp$2$$.statusText, $receiverId$jscomp$2_session$jscomp$inline_986$$.namespaces = $latestSession_receiverStatus$jscomp$2$$.namespaces, $receiverId$jscomp$2_session$jscomp$inline_986$$.receiver.volume = $latestSession_receiverStatus$jscomp$2$$.receiver.volume, 
      $JSCompiler_StaticMethods_updateRoute$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$.$g$, $currentSessionRecord$$), $JSCompiler_StaticMethods_sendMessageToClients_$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$, $receiverId$jscomp$2_session$jscomp$inline_986$$.sessionId, new $mr$cast$InternalMessage$$("update_session", $receiverId$jscomp$2_session$jscomp$inline_986$$)))) : ($JSCompiler_StaticMethods_removeSession$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$, $receiverId$jscomp$2_session$jscomp$inline_986$$), 
      $mr$CastAnalytics$recordSessionEndType$$(1), $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$.$g$, null, $receiver$jscomp$19_statusResponse$jscomp$2$$, null, $latestSession_receiverStatus$jscomp$2$$)) : ($JSCompiler_StaticMethods_removeSession$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$, $receiverId$jscomp$2_session$jscomp$inline_986$$), $mr$CastAnalytics$recordSessionEndType$$(1)) : $latestSession_receiverStatus$jscomp$2$$ && 
      $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$($JSCompiler_StaticMethods_onReceiverStatus_$self$$.$g$, null, $receiver$jscomp$19_statusResponse$jscomp$2$$, null, $latestSession_receiverStatus$jscomp$2$$);
    } else {
      $mr$Analytics$recordEvent$$("MediaRouter.Cast.Error.Sink.Missing.From.Discovery.Service"), $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiHandler$logger_$$, "Got message from receiver " + $receiverId$jscomp$2_session$jscomp$inline_986$$ + ", but sink is no longer available.");
    }
  }
}, $JSCompiler_StaticMethods_onReceiverMediaStatus_$$ = function($JSCompiler_StaticMethods_onReceiverMediaStatus_$self$$, $receiverId$jscomp$4_session$jscomp$18_sessionId$jscomp$inline_998$$, $message$jscomp$80_statusMessage$jscomp$3$$, $opt_excludeClientId$jscomp$1$$) {
  if ($receiverId$jscomp$4_session$jscomp$18_sessionId$jscomp$inline_998$$ = $JSCompiler_StaticMethods_getSessionBySinkId$$($JSCompiler_StaticMethods_onReceiverMediaStatus_$self$$.$a$, $receiverId$jscomp$4_session$jscomp$18_sessionId$jscomp$inline_998$$)) {
    if ($message$jscomp$80_statusMessage$jscomp$3$$ = JSON.parse($message$jscomp$80_statusMessage$jscomp$3$$.data)) {
      $receiverId$jscomp$4_session$jscomp$18_sessionId$jscomp$inline_998$$ = $receiverId$jscomp$4_session$jscomp$18_sessionId$jscomp$inline_998$$.sessionId, $message$jscomp$80_statusMessage$jscomp$3$$.sessionId = $receiverId$jscomp$4_session$jscomp$18_sessionId$jscomp$inline_998$$, $JSCompiler_StaticMethods_setSessionMedia$$($JSCompiler_StaticMethods_onReceiverMediaStatus_$self$$.$a$, $receiverId$jscomp$4_session$jscomp$18_sessionId$jscomp$inline_998$$, $mr$cast$ApiHandler$fixupMediaArray_$$($message$jscomp$80_statusMessage$jscomp$3$$.status, 
      $receiverId$jscomp$4_session$jscomp$18_sessionId$jscomp$inline_998$$)), $JSCompiler_StaticMethods_sendMessageToClients_$$($JSCompiler_StaticMethods_onReceiverMediaStatus_$self$$, $message$jscomp$80_statusMessage$jscomp$3$$.sessionId, new $mr$cast$InternalMessage$$("v2_message", $message$jscomp$80_statusMessage$jscomp$3$$), $opt_excludeClientId$jscomp$1$$);
    }
  }
}, $JSCompiler_StaticMethods_chooseAppId_$$ = function($presentationUrl$jscomp$2$$, $appInfo$jscomp$3_sink$jscomp$24$$) {
  var $capabilities$jscomp$7$$ = $mr$cast$ApiDataUtils$capabilitiesToApi$$($appInfo$jscomp$3_sink$jscomp$24$$.$a$);
  return ($appInfo$jscomp$3_sink$jscomp$24$$ = $goog$array$find$$($presentationUrl$jscomp$2$$.$h$, function($presentationUrl$jscomp$2$$) {
    return $goog$array$every$$($presentationUrl$jscomp$2$$.capabilities, function($presentationUrl$jscomp$2$$) {
      return $goog$array$contains$$($capabilities$jscomp$7$$, $presentationUrl$jscomp$2$$);
    });
  })) ? $appInfo$jscomp$3_sink$jscomp$24$$.appId : $JSCompiler_StaticMethods_getAppIds$$($presentationUrl$jscomp$2$$)[0];
}, $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$$ = function($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$self$$, $sourceUrn$jscomp$12$$, $sink$jscomp$25$$) {
  var $presentationUrl$jscomp$3$$ = $mr$cast$PresentationUrl$createFromUrl$$($sourceUrn$jscomp$12$$);
  if (!$presentationUrl$jscomp$3$$) {
    return Promise.reject(Error("Invalid source " + $sourceUrn$jscomp$12$$));
  }
  var $appId$jscomp$11$$ = $JSCompiler_StaticMethods_chooseAppId_$$($presentationUrl$jscomp$3$$, $sink$jscomp$25$$), $timing$$ = new $mr$Timing$$("MediaRouter.Cast.Session.Launch");
  return $JSCompiler_StaticMethods_mr_cast_SessionLauncher_prototype$launchSession$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$self$$.$D$, new chrome.cast.$SessionRequest$($appId$jscomp$11$$, void 0, null == $presentationUrl$jscomp$3$$.$g$ ? chrome.cast.timeout.requestSession : $presentationUrl$jscomp$3$$.$g$), $sink$jscomp$25$$).then(function($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$self$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ApiHandler$logger_$$, "Launched session " + $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$self$$.sessionId + " for appId " + $appId$jscomp$11$$);
    $timing$$.$a$("Success");
    return $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$self$$;
  }, function($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$self$$) {
    $mr$cast$ApiHandler$logger_$$.error("Failed to session for appId " + $appId$jscomp$11$$);
    $timing$$.$a$("Failure");
    throw $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$self$$;
  });
}, $mr$cast$ApiHandler$logger_$$ = $mr$Logger$getInstance$$("mr.cast.ApiHandler");
var $mr$RunTimeErrorUtils$getError$$ = function($functionName_message$jscomp$81$$, $logger$jscomp$11$$) {
  if (!chrome.runtime.lastError) {
    return null;
  }
  $functionName_message$jscomp$81$$ = $functionName_message$jscomp$81$$ + " failed, chrome.runtime.lastError: " + (chrome.runtime.lastError.message || "Unknown error");
  $logger$jscomp$11$$ && $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($logger$jscomp$11$$, $functionName_message$jscomp$81$$);
  return Error($functionName_message$jscomp$81$$);
};
var $mr$cast$ChannelFactory$$ = function() {
  this.$b$ = new $goog$structs$Map$$;
  this.$f$ = new $goog$structs$Map$$;
  this.$a$ = new $goog$structs$Map$$;
}, $JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$$ = function($JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$, $p$jscomp$2_receiver$jscomp$20$$, $reconnect$$) {
  $reconnect$$ = void 0 === $reconnect$$ ? !1 : $reconnect$$;
  var $id$jscomp$52$$ = $p$jscomp$2_receiver$jscomp$20$$.getId(), $address$jscomp$6$$ = $p$jscomp$2_receiver$jscomp$20$$.$getIpAddress$() + ":" + $p$jscomp$2_receiver$jscomp$20$$.$getPort$(), $pendingCreation$$ = $JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$.$b$.get($id$jscomp$52$$);
  if ($pendingCreation$$) {
    if ($JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$.$a$.get($id$jscomp$52$$) == $address$jscomp$6$$) {
      return $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ChannelFactory$logger_$$, "Using pending creation to " + $id$jscomp$52$$), $pendingCreation$$;
    }
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ChannelFactory$logger_$$, "Device " + $id$jscomp$52$$ + " IP changed from " + $JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$.$a$.get($p$jscomp$2_receiver$jscomp$20$$.getId()) + " to " + $address$jscomp$6$$);
    $JSCompiler_StaticMethods_abortPendingCastChannel$$($JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$, $p$jscomp$2_receiver$jscomp$20$$);
  }
  $p$jscomp$2_receiver$jscomp$20$$ = $JSCompiler_StaticMethods_doCreateChannel_$$($JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$, $p$jscomp$2_receiver$jscomp$20$$, $reconnect$$ ? 15E3 : 1E4).then(function($p$jscomp$2_receiver$jscomp$20$$) {
    $JSCompiler_StaticMethods_clearReceiver_$$($JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$, $id$jscomp$52$$);
    $mr$CastAnalytics$recordCastChannelConnectResult$$(1);
    return $p$jscomp$2_receiver$jscomp$20$$;
  }, function($p$jscomp$2_receiver$jscomp$20$$) {
    $address$jscomp$6$$ == $JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$.$a$.get($id$jscomp$52$$) && $JSCompiler_StaticMethods_clearReceiver_$$($JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$, $id$jscomp$52$$);
    $mr$CastAnalytics$recordCastChannelConnectResult$$(0);
    return Promise.reject($p$jscomp$2_receiver$jscomp$20$$);
  });
  $JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$.$b$.set($id$jscomp$52$$, $p$jscomp$2_receiver$jscomp$20$$);
  $JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$self$$.$a$.set($id$jscomp$52$$, $address$jscomp$6$$);
  return $p$jscomp$2_receiver$jscomp$20$$;
}, $JSCompiler_StaticMethods_abortPendingCastChannel$$ = function($JSCompiler_StaticMethods_abortPendingCastChannel$self$$, $id$jscomp$53_receiver$jscomp$21$$) {
  $id$jscomp$53_receiver$jscomp$21$$ = $id$jscomp$53_receiver$jscomp$21$$.getId();
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ChannelFactory$logger_$$, "Aborting connection to device " + $id$jscomp$53_receiver$jscomp$21$$);
  var $r$jscomp$5$$ = $JSCompiler_StaticMethods_abortPendingCastChannel$self$$.$f$.get($id$jscomp$53_receiver$jscomp$21$$);
  $r$jscomp$5$$ && $r$jscomp$5$$.abort();
  $JSCompiler_StaticMethods_clearReceiver_$$($JSCompiler_StaticMethods_abortPendingCastChannel$self$$, $id$jscomp$53_receiver$jscomp$21$$);
}, $JSCompiler_StaticMethods_clearReceiver_$$ = function($JSCompiler_StaticMethods_clearReceiver_$self$$, $id$jscomp$54$$) {
  $JSCompiler_StaticMethods_clearReceiver_$self$$.$b$.remove($id$jscomp$54$$);
  $JSCompiler_StaticMethods_clearReceiver_$self$$.$f$.remove($id$jscomp$54$$);
  $JSCompiler_StaticMethods_clearReceiver_$self$$.$a$.remove($id$jscomp$54$$);
}, $JSCompiler_StaticMethods_doCreateChannel_$$ = function($JSCompiler_StaticMethods_doCreateChannel_$self$$, $receiver$jscomp$22$$, $livenessTimeout$jscomp$1$$) {
  var $r$jscomp$6$$ = new $mr$Retry$$(function() {
    return $JSCompiler_StaticMethods_oneAttempt_$$($receiver$jscomp$22$$, $livenessTimeout$jscomp$1$$);
  }, 1000, 3);
  $JSCompiler_StaticMethods_doCreateChannel_$self$$.$f$.set($receiver$jscomp$22$$.getId(), $r$jscomp$6$$);
  return $JSCompiler_StaticMethods_setBackoffFactor$$($r$jscomp$6$$, 1.5).start().then(null, function($JSCompiler_StaticMethods_doCreateChannel_$self$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ChannelFactory$logger_$$, "Failed to create channel to " + $receiver$jscomp$22$$.getId());
    return Promise.reject($JSCompiler_StaticMethods_doCreateChannel_$self$$);
  });
}, $JSCompiler_StaticMethods_oneAttempt_$$ = function($receiver$jscomp$23$$, $livenessTimeout$jscomp$2$$) {
  var $attemptId$$ = $mr$cast$ChannelFactory$attemptId_$$++;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ChannelFactory$logger_$$, "Connecting to (id " + $attemptId$$ + ") " + $receiver$jscomp$23$$.getId());
  var $timing$jscomp$1$$ = new $mr$Timing$$("MediaRouter.Cast.Mdns.Channel.Open");
  return $JSCompiler_StaticMethods_openCastChannel_$$($receiver$jscomp$23$$, $livenessTimeout$jscomp$2$$).then(function($receiver$jscomp$23$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ChannelFactory$logger_$$, function() {
      return "Channel opened (id " + $attemptId$$ + "): " + JSON.stringify($receiver$jscomp$23$$);
    });
    $timing$jscomp$1$$.$a$("Success");
    return $receiver$jscomp$23$$;
  }, function($receiver$jscomp$23$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ChannelFactory$logger_$$, "Channel did not open (id " + $attemptId$$ + ").");
    $timing$jscomp$1$$.$a$("Failure");
    return Promise.reject($receiver$jscomp$23$$);
  });
}, $JSCompiler_StaticMethods_openCastChannel_$$ = function($receiver$jscomp$24$$, $livenessTimeout$jscomp$3$$) {
  var $connectInfo$jscomp$2$$ = {ipAddress:$receiver$jscomp$24$$.$getIpAddress$(), port:$receiver$jscomp$24$$.$getPort$(), auth:"ssl_verified", timeout:10000, livenessTimeout:$livenessTimeout$jscomp$3$$, pingInterval:5000, capabilities:0};
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ChannelFactory$logger_$$, function() {
    return "Opening channel to " + JSON.stringify($connectInfo$jscomp$2$$);
  });
  var $resolver$jscomp$14$$ = new $mr$PromiseResolver$$;
  chrome.cast.channel.open($connectInfo$jscomp$2$$, function($receiver$jscomp$24$$) {
    $receiver$jscomp$24$$ ? "open" == $receiver$jscomp$24$$.readyState ? $resolver$jscomp$14$$.resolve($receiver$jscomp$24$$) : ($mr$RunTimeErrorUtils$getError$$("chrome.cast.channel.open", $mr$cast$ChannelFactory$logger_$$), chrome.cast.channel.close($receiver$jscomp$24$$, function() {
      $mr$RunTimeErrorUtils$getError$$("chrome.cast.channel.close", $mr$cast$ChannelFactory$logger_$$);
    }), $resolver$jscomp$14$$.reject(Error($receiver$jscomp$24$$.errorState))) : ($receiver$jscomp$24$$ = $mr$Assertions$assert$$($mr$RunTimeErrorUtils$getError$$("chrome.cast.channel.open", $mr$cast$ChannelFactory$logger_$$)), $resolver$jscomp$14$$.reject($receiver$jscomp$24$$));
  });
  return $resolver$jscomp$14$$.$a$;
}, $mr$cast$ChannelFactory$logger_$$ = $mr$Logger$getInstance$$("mr.cast.ChannelFactory"), $mr$cast$ChannelFactory$attemptId_$$ = 0;
var $mr$cast$ChannelUtils$createMessage$$ = function($namespace$jscomp$18$$, $data$jscomp$57$$, $sourceVcId$$, $destinationVcId$$) {
  return {namespace_:$namespace$jscomp$18$$, data:$goog$isString$$($data$jscomp$57$$) ? $data$jscomp$57$$ : JSON.stringify($data$jscomp$57$$), sourceId:$sourceVcId$$, destinationId:$destinationVcId$$};
};
var $mr$cast$VirtualCloseRequest$$ = function($reasonCode$$) {
  this.type = "CLOSE";
  this.reasonCode = $reasonCode$$;
};
var $goog$userAgent$product$FIREFOX$$ = $goog$labs$userAgent$util$matchUserAgent$$("Firefox"), $goog$userAgent$product$IPHONE$$ = $goog$labs$userAgent$platform$isIphone$$() || $goog$labs$userAgent$util$matchUserAgent$$("iPod"), $goog$userAgent$product$IPAD$$ = $goog$labs$userAgent$util$matchUserAgent$$("iPad"), $goog$userAgent$product$ANDROID$$ = $goog$labs$userAgent$util$matchUserAgent$$("Android") && !($goog$labs$userAgent$browser$matchChrome_$$() || $goog$labs$userAgent$util$matchUserAgent$$("Firefox") || 
$goog$labs$userAgent$util$matchUserAgent$$("Opera") || $goog$labs$userAgent$util$matchUserAgent$$("Silk")), $goog$userAgent$product$CHROME$$ = $goog$labs$userAgent$browser$matchChrome_$$(), $goog$userAgent$product$SAFARI$$ = $goog$labs$userAgent$util$matchUserAgent$$("Safari") && !($goog$labs$userAgent$browser$matchChrome_$$() || $goog$labs$userAgent$util$matchUserAgent$$("Coast") || $goog$labs$userAgent$util$matchUserAgent$$("Opera") || $goog$labs$userAgent$util$matchUserAgent$$("Edge") || $goog$labs$userAgent$util$matchUserAgent$$("Silk") || 
$goog$labs$userAgent$util$matchUserAgent$$("Android")) && !$goog$labs$userAgent$platform$isIos$$();
var $goog$userAgent$product$getFirstRegExpGroup_$$ = function($arr$jscomp$76_re$jscomp$4$$) {
  return ($arr$jscomp$76_re$jscomp$4$$ = $arr$jscomp$76_re$jscomp$4$$.exec($goog$labs$userAgent$util$userAgent_$$)) ? $arr$jscomp$76_re$jscomp$4$$[1] : "";
}, $goog$userAgent$product$VERSION$$ = function() {
  if ($goog$userAgent$product$FIREFOX$$) {
    return $goog$userAgent$product$getFirstRegExpGroup_$$(/Firefox\/([0-9.]+)/);
  }
  if ($goog$userAgent$IE$$ || $goog$userAgent$EDGE$$ || $goog$userAgent$OPERA$$) {
    return $goog$userAgent$VERSION$$;
  }
  if ($goog$userAgent$product$CHROME$$) {
    return $goog$labs$userAgent$platform$isIos$$() ? $goog$userAgent$product$getFirstRegExpGroup_$$(/CriOS\/([0-9.]+)/) : $goog$userAgent$product$getFirstRegExpGroup_$$(/Chrome\/([0-9.]+)/);
  }
  if ($goog$userAgent$product$SAFARI$$ && !$goog$labs$userAgent$platform$isIos$$()) {
    return $goog$userAgent$product$getFirstRegExpGroup_$$(/Version\/([0-9.]+)/);
  }
  if ($goog$userAgent$product$IPHONE$$ || $goog$userAgent$product$IPAD$$) {
    var $arr$jscomp$75_version$jscomp$17$$ = /Version\/(\S+).*Mobile\/(\S+)/.exec($goog$labs$userAgent$util$userAgent_$$);
    if ($arr$jscomp$75_version$jscomp$17$$) {
      return $arr$jscomp$75_version$jscomp$17$$[1] + "." + $arr$jscomp$75_version$jscomp$17$$[2];
    }
  } else {
    if ($goog$userAgent$product$ANDROID$$) {
      return ($arr$jscomp$75_version$jscomp$17$$ = $goog$userAgent$product$getFirstRegExpGroup_$$(/Android\s+([0-9.]+)/)) ? $arr$jscomp$75_version$jscomp$17$$ : $goog$userAgent$product$getFirstRegExpGroup_$$(/Version\/([0-9.]+)/);
    }
  }
  return "";
}();
var $mr$cast$VirtualConnectRequest$$ = function($isVisible$$) {
  this.type = "CONNECT";
  this.origin = {};
  this.userAgent = $goog$labs$userAgent$util$userAgent_$$;
  var $systemVersion_systemVersionStart$$ = this.userAgent.indexOf("(") + 1, $systemVersion_systemVersionStart$$ = this.userAgent.substr($systemVersion_systemVersionStart$$, this.userAgent.indexOf(")", $systemVersion_systemVersionStart$$) - 1 - $systemVersion_systemVersionStart$$ + 1);
  this.senderInfo = {sdkType:2, version:chrome.runtime.getManifest().version, browserVersion:$goog$userAgent$product$VERSION$$, platform:$mr$cast$VirtualConnectRequest$getPlatform_$$(), systemVersion:$systemVersion_systemVersionStart$$, connectionType:1};
  this.connType = $isVisible$$ ? 0 : 2;
}, $mr$cast$VirtualConnectRequest$getPlatform_$$ = function() {
  switch($mr$PlatformUtils$getCurrentOS$$()) {
    case "ChromeOS":
      return 5;
    case "Windows":
      return 3;
    case "Mac":
      return 4;
    case "Linux":
      return 6;
  }
  return 0;
};
var $mr$cast$VirtualConnectionManager$$ = function() {
  this.$a$ = new $goog$structs$Map$$;
};
$mr$cast$VirtualConnectionManager$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
var $JSCompiler_StaticMethods_openVc$$ = function($JSCompiler_StaticMethods_openVc$self$$, $channel$jscomp$8$$, $senderVcId$$, $receiverVcId$$, $isVisible$jscomp$1$$) {
  if (!$JSCompiler_StaticMethods_openVc$self$$.$a$.$containsKey$([$channel$jscomp$8$$.channelId, $senderVcId$$, $receiverVcId$$].join("#"))) {
    var $message$jscomp$82$$ = $mr$cast$ChannelUtils$createMessage$$($mr$cast$Namespace$Cast$TP_CONNECTION$$, new $mr$cast$VirtualConnectRequest$$($isVisible$jscomp$1$$), $senderVcId$$, $receiverVcId$$);
    chrome.cast.channel.send($channel$jscomp$8$$, $message$jscomp$82$$, $JSCompiler_StaticMethods_openVc$self$$.$b$.bind($JSCompiler_StaticMethods_openVc$self$$));
    $JSCompiler_StaticMethods_openVc$self$$.$a$.set([$channel$jscomp$8$$.channelId, $senderVcId$$, $receiverVcId$$].join("#"), $isVisible$jscomp$1$$);
  }
};
$mr$cast$VirtualConnectionManager$$.prototype.$b$ = function() {
  $mr$RunTimeErrorUtils$getError$$("chrome.cast.channel.send", $mr$cast$VirtualConnectionManager$logger_$$);
};
var $JSCompiler_StaticMethods_removeVcsOnChannel$$ = function($JSCompiler_StaticMethods_removeVcsOnChannel$self$$, $channel$jscomp$12$$) {
  $JSCompiler_StaticMethods_removeVcsOnChannel$self$$.$a$.$getKeys$().forEach(function($vcKey$jscomp$2$$) {
    $vcKey$jscomp$2$$.split("#")[0] == $channel$jscomp$12$$.channelId.toString() && $JSCompiler_StaticMethods_removeVcsOnChannel$self$$.$a$.remove($vcKey$jscomp$2$$);
  });
}, $JSCompiler_StaticMethods_moveVcs$$ = function($JSCompiler_StaticMethods_moveVcs$self$$, $oldChannel$$, $newChannel$$) {
  $JSCompiler_StaticMethods_moveVcs$self$$.$a$.forEach(function($isVisible$jscomp$2$$, $vcKey$jscomp$3$$) {
    var $vcKeyFields$$ = $vcKey$jscomp$3$$.split("#");
    $vcKeyFields$$[0] == $oldChannel$$.channelId.toString() && ($JSCompiler_StaticMethods_openVc$$($JSCompiler_StaticMethods_moveVcs$self$$, $newChannel$$, $vcKeyFields$$[1], $vcKeyFields$$[2], $isVisible$jscomp$2$$), $JSCompiler_StaticMethods_moveVcs$self$$.$a$.remove($vcKey$jscomp$3$$));
  });
};
$mr$cast$VirtualConnectionManager$$.prototype.$getStorageKey$ = function() {
  return "cast.VirtualConnectionManager";
};
$mr$cast$VirtualConnectionManager$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  var $connections$$ = $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$a$);
  return [new $mr$cast$VirtualConnectionManager$PersistentData_$$($connections$$)];
};
$mr$cast$VirtualConnectionManager$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$3$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$3$$) {
    for (var $key$jscomp$130$$ in $savedData$jscomp$3$$.$a$) {
      this.$a$.set($key$jscomp$130$$, $savedData$jscomp$3$$.$a$[$key$jscomp$130$$]);
    }
  }
};
$goog$addSingletonGetter$$($mr$cast$VirtualConnectionManager$$);
var $mr$cast$VirtualConnectionManager$logger_$$ = $mr$Logger$getInstance$$("mr.cast.VirtualConnectionManager"), $mr$cast$VirtualConnectionManager$PersistentData_$$ = function($virtualConnections$$) {
  this.$a$ = $virtualConnections$$;
};
var $mr$cast$ChannelService$$ = function($senderId$jscomp$1$$, $channelCallbacks$$) {
  this.$g$ = $channelCallbacks$$;
  this.$j$ = $senderId$jscomp$1$$;
  this.$b$ = new $goog$structs$Map$$;
  this.$a$ = new $goog$structs$Map$$;
  this.$f$ = $mr$cast$VirtualConnectionManager$$.$getInstance$();
  this.$l$ = new $mr$cast$ChannelFactory$$;
  this.$h$ = null;
};
$$jscomp$inherits$$($mr$cast$ChannelService$$, $mr$Module$$);
$mr$cast$ChannelService$$.prototype.handleEvent = function($event$jscomp$16$$, $args$jscomp$20$$) {
  for (var $$jscomp$restParams$jscomp$6$$ = [], $$jscomp$restIndex$jscomp$6$$ = 1; $$jscomp$restIndex$jscomp$6$$ < arguments.length; ++$$jscomp$restIndex$jscomp$6$$) {
    $$jscomp$restParams$jscomp$6$$[$$jscomp$restIndex$jscomp$6$$ - 1] = arguments[$$jscomp$restIndex$jscomp$6$$];
  }
  $event$jscomp$16$$ == chrome.cast.channel.onMessage ? this.$w$.apply(this, [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$6$$))) : $event$jscomp$16$$ == chrome.cast.channel.onError ? this.$o$.apply(this, [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$6$$))) : $mr$Assertions$assert$$(!1, "Unhandled event");
};
$mr$cast$ChannelService$$.prototype.init = function() {
  this.$f$.init();
  $mr$PersistentDataManager$register$$(this);
  $mr$Module$onModuleLoaded$$("mr.cast.ChannelService", this);
  $mr$cast$EventListeners$getChannelListeners$$().forEach(function($listener$jscomp$129$$) {
    return $listener$jscomp$129$$.addListener();
  });
};
var $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$ = function($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$self$$, $receiver$jscomp$25$$, $namespace$jscomp$19$$, $content$jscomp$9$$, $opt_sourceId$jscomp$5$$, $opt_destinationId$jscomp$2$$) {
  var $sourceId$jscomp$3$$ = $opt_sourceId$jscomp$5$$ || $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$self$$.$j$, $destinationId$jscomp$1$$ = $opt_destinationId$jscomp$2$$ || "receiver-0";
  return $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$$($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$self$$, $receiver$jscomp$25$$).then(function($receiver$jscomp$25$$) {
    return $JSCompiler_StaticMethods_sendToChannel_$$($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$self$$, $receiver$jscomp$25$$, $namespace$jscomp$19$$, $content$jscomp$9$$, $sourceId$jscomp$3$$, $destinationId$jscomp$1$$);
  });
}, $JSCompiler_StaticMethods_openVirtualConnection$$ = function($JSCompiler_StaticMethods_openVirtualConnection$self$$, $receiver$jscomp$26$$, $sourceId$jscomp$4$$, $destinationId$jscomp$2$$, $isVisible$jscomp$4$$) {
  $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$$($JSCompiler_StaticMethods_openVirtualConnection$self$$, $receiver$jscomp$26$$).then(function($receiver$jscomp$26$$) {
    return $JSCompiler_StaticMethods_openVc$$($JSCompiler_StaticMethods_openVirtualConnection$self$$.$f$, $receiver$jscomp$26$$, $sourceId$jscomp$4$$, $destinationId$jscomp$2$$, $isVisible$jscomp$4$$);
  });
}, $JSCompiler_StaticMethods_closeVirtualConnection$$ = function($JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1000_JSCompiler_StaticMethods_closeVirtualConnection$self$$, $channel$jscomp$18_receiverId$jscomp$8$$, $message$jscomp$inline_1005_sourceId$jscomp$5$$, $destinationId$jscomp$3$$, $explicitDisconnect$jscomp$1$$) {
  if ($channel$jscomp$18_receiverId$jscomp$8$$ = $JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1000_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$b$.get($channel$jscomp$18_receiverId$jscomp$8$$)) {
    $JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1000_JSCompiler_StaticMethods_closeVirtualConnection$self$$ = $JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1000_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$f$, $JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1000_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$a$.$containsKey$([$channel$jscomp$18_receiverId$jscomp$8$$.channelId, $message$jscomp$inline_1005_sourceId$jscomp$5$$, $destinationId$jscomp$3$$].join("#")) && 
    ($JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1000_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$a$.remove([$channel$jscomp$18_receiverId$jscomp$8$$.channelId, $message$jscomp$inline_1005_sourceId$jscomp$5$$, $destinationId$jscomp$3$$].join("#")), $message$jscomp$inline_1005_sourceId$jscomp$5$$ = $mr$cast$ChannelUtils$createMessage$$($mr$cast$Namespace$Cast$TP_CONNECTION$$, new $mr$cast$VirtualCloseRequest$$($explicitDisconnect$jscomp$1$$ ? 5 : 0), $message$jscomp$inline_1005_sourceId$jscomp$5$$, 
    $destinationId$jscomp$3$$), chrome.cast.channel.send($channel$jscomp$18_receiverId$jscomp$8$$, $message$jscomp$inline_1005_sourceId$jscomp$5$$, $JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1000_JSCompiler_StaticMethods_closeVirtualConnection$self$$.$b$.bind($JSCompiler_StaticMethods_closeVc$self$jscomp$inline_1000_JSCompiler_StaticMethods_closeVirtualConnection$self$$)));
  }
};
$mr$cast$ChannelService$$.prototype.$w$ = function($channel$jscomp$19$$, $message$jscomp$84$$) {
  var $receiverId$jscomp$9$$ = this.$a$.get($channel$jscomp$19$$.channelId);
  if ($receiverId$jscomp$9$$) {
    var $receiver$jscomp$27$$ = this.$h$($receiverId$jscomp$9$$);
    if ($receiver$jscomp$27$$) {
      if ($mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$.hasOwnProperty($message$jscomp$84$$.namespace_)) {
        var $payload$jscomp$3$$ = JSON.parse($message$jscomp$84$$.data);
        switch($payload$jscomp$3$$.type) {
          case "CLOSE":
            this.$f$.$a$.remove([$channel$jscomp$19$$.channelId, $message$jscomp$84$$.destinationId, $message$jscomp$84$$.sourceId].join("#"));
            return;
          case "RPC":
            break;
          default:
            $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ChannelService$logger_$$, function() {
              return "Got message " + ($payload$jscomp$3$$.type || $payload$jscomp$3$$.responseType) + " " + ("from " + $receiver$jscomp$27$$.getId());
            });
        }
      } else {
        $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ChannelService$logger_$$, "Got message in " + $message$jscomp$84$$.namespace_ + " from " + $receiver$jscomp$27$$.getId());
      }
      $JSCompiler_StaticMethods_onChannelMessage$$(this.$g$, $receiver$jscomp$27$$, $message$jscomp$84$$);
    } else {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ChannelService$logger_$$, "Got message for unknown receiver (receiverId=" + $receiverId$jscomp$9$$ + ").");
    }
  } else {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ChannelService$logger_$$, "Got message for unknown channel (channelId=" + $channel$jscomp$19$$.channelId + ").");
  }
};
var $JSCompiler_StaticMethods_close_$$ = function($JSCompiler_StaticMethods_close_$self$$, $channel$jscomp$20$$) {
  chrome.cast.channel.close($channel$jscomp$20$$, function() {
    chrome.runtime.lastError || $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ChannelService$logger_$$, "Channel close success");
  });
  var $receiverId$jscomp$10$$ = $JSCompiler_StaticMethods_close_$self$$.$a$.get($channel$jscomp$20$$.channelId);
  $receiverId$jscomp$10$$ && ($JSCompiler_StaticMethods_close_$self$$.$a$.remove($channel$jscomp$20$$.channelId), $JSCompiler_StaticMethods_close_$self$$.$b$.remove($receiverId$jscomp$10$$));
};
$mr$cast$ChannelService$$.prototype.$o$ = function($channel$jscomp$21$$, $error$jscomp$31$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ChannelService$logger_$$, function() {
    return "Channel error: " + JSON.stringify($channel$jscomp$21$$) + ($error$jscomp$31$$ ? ", " + JSON.stringify($error$jscomp$31$$) : "");
  });
  $error$jscomp$31$$ && $JSCompiler_StaticMethods_recordError_$$($error$jscomp$31$$);
  $JSCompiler_StaticMethods_closeAndRetry_$$(this, $channel$jscomp$21$$);
};
var $JSCompiler_StaticMethods_recordError_$$ = function($errorInfo$$) {
  switch($errorInfo$$.errorState) {
    case "unknown":
      var $errorCode$jscomp$3$$ = 0;
      break;
    case "authentication_error":
      $errorCode$jscomp$3$$ = 1;
      break;
    case "connect_error":
      $errorCode$jscomp$3$$ = 2;
      break;
    case "connect_timeout":
      $errorCode$jscomp$3$$ = 6;
      break;
    case "ping_timeout":
      $errorCode$jscomp$3$$ = 7;
      break;
    default:
      return;
  }
  if (-8192 <= $errorInfo$$.nssErrorCode && -7192 > $errorInfo$$.nssErrorCode || 2 == $errorInfo$$.challengeReplyErrorType || 8 == $errorInfo$$.challengeReplyErrorType || 9 == $errorInfo$$.challengeReplyErrorType || 11 == $errorInfo$$.challengeReplyErrorType || -200 >= $errorInfo$$.netReturnValue && -300 < $errorInfo$$.netReturnValue || 30 == $errorInfo$$.eventType || 31 == $errorInfo$$.eventType || 32 == $errorInfo$$.eventType) {
    $errorCode$jscomp$3$$ = 3;
  }
  if (26 == $errorInfo$$.eventType || -201 == $errorInfo$$.netReturnValue || -8181 == $errorInfo$$.nssErrorCode || -8162 == $errorInfo$$.nssErrorCode || -8161 == $errorInfo$$.nssErrorCode) {
    $errorCode$jscomp$3$$ = 4;
  }
  -138 == $errorInfo$$.netReturnValue && ($errorCode$jscomp$3$$ = 5);
  if (-8182 == $errorInfo$$.nssErrorCode || 10 == $errorInfo$$.eventType || 12 == $errorInfo$$.eventType) {
    $errorCode$jscomp$3$$ = 1;
  }
  $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ChannelService$logger_$$, "Channel error code: " + $errorCode$jscomp$3$$);
  $mr$Analytics$recordEnum$$("MediaRouter.Cast.Channel.Error", $errorCode$jscomp$3$$, $mr$CastAnalytics$CHANNEL_ERRORS$$);
}, $JSCompiler_StaticMethods_closeAndRetry_$$ = function($JSCompiler_StaticMethods_closeAndRetry_$self$$, $channel$jscomp$22$$) {
  var $receiverId$jscomp$11$$ = $JSCompiler_StaticMethods_closeAndRetry_$self$$.$a$.get($channel$jscomp$22$$.channelId);
  $JSCompiler_StaticMethods_close_$$($JSCompiler_StaticMethods_closeAndRetry_$self$$, $channel$jscomp$22$$);
  if ($receiverId$jscomp$11$$) {
    var $receiver$jscomp$28$$ = $JSCompiler_StaticMethods_closeAndRetry_$self$$.$h$($receiverId$jscomp$11$$);
    $receiver$jscomp$28$$ && $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$$($JSCompiler_StaticMethods_closeAndRetry_$self$$, $receiver$jscomp$28$$, !0).then(function($receiverId$jscomp$11$$) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ChannelService$logger_$$, "Re-connected to receiver: " + $receiver$jscomp$28$$.getId());
      $JSCompiler_StaticMethods_moveVcs$$($JSCompiler_StaticMethods_closeAndRetry_$self$$.$f$, $channel$jscomp$22$$, $receiverId$jscomp$11$$);
      $JSCompiler_StaticMethods_querySinkStatus$$($JSCompiler_StaticMethods_closeAndRetry_$self$$.$g$.$h$, $receiver$jscomp$28$$, !0);
    }, function() {
      $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ChannelService$logger_$$, "Failed to re-connect to receiver: " + $receiver$jscomp$28$$.getId());
      $JSCompiler_StaticMethods_removeVcsOnChannel$$($JSCompiler_StaticMethods_closeAndRetry_$self$$.$f$, $channel$jscomp$22$$);
      var $receiverId$jscomp$11$$ = $JSCompiler_StaticMethods_closeAndRetry_$self$$.$g$.$a$, $sinkId$jscomp$inline_4304$$ = $receiver$jscomp$28$$.getId();
      $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($receiverId$jscomp$11$$.$logger_$, "Channel error for sink " + $sinkId$jscomp$inline_4304$$);
      $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$$($receiverId$jscomp$11$$, $sinkId$jscomp$inline_4304$$);
      $mr$CastAnalytics$recordSessionEndType$$(2);
    });
  }
}, $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$$ = function($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$self$$, $receiver$jscomp$29$$, $reconnect$jscomp$1$$) {
  $reconnect$jscomp$1$$ = void 0 === $reconnect$jscomp$1$$ ? !1 : $reconnect$jscomp$1$$;
  var $receiverId$jscomp$12$$ = $receiver$jscomp$29$$.getId(), $channel$jscomp$23$$ = $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$self$$.$b$.get($receiverId$jscomp$12$$);
  return $channel$jscomp$23$$ && "open" == $channel$jscomp$23$$.readyState ? Promise.resolve($channel$jscomp$23$$) : $JSCompiler_StaticMethods_mr_cast_ChannelFactory_prototype$connectCastChannel$$($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$self$$.$l$, $receiver$jscomp$29$$, $reconnect$jscomp$1$$).then(function($receiver$jscomp$29$$) {
    if ($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$self$$.$a$.$containsKey$($receiver$jscomp$29$$.channelId)) {
      return $receiver$jscomp$29$$;
    }
    $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$self$$.$b$.get($receiverId$jscomp$12$$) && ($JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ChannelService$logger_$$, "Duplicate channel to a receiver " + $receiverId$jscomp$12$$), $JSCompiler_StaticMethods_close_$$($JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$self$$, $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$self$$.$b$.get($receiverId$jscomp$12$$)));
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mr$cast$ChannelService$logger_$$, "Connected to: " + $receiverId$jscomp$12$$);
    $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$self$$.$b$.set($receiverId$jscomp$12$$, $receiver$jscomp$29$$);
    $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$connectCastChannel$self$$.$a$.set($receiver$jscomp$29$$.channelId, $receiverId$jscomp$12$$);
    return $receiver$jscomp$29$$;
  }, null);
}, $JSCompiler_StaticMethods_sendToChannel_$$ = function($JSCompiler_StaticMethods_sendToChannel_$self$$, $channel$jscomp$25$$, $namespace$jscomp$20$$, $content$jscomp$10$$, $sourceId$jscomp$6$$, $destinationId$jscomp$4$$) {
  $JSCompiler_StaticMethods_openVc$$($JSCompiler_StaticMethods_sendToChannel_$self$$.$f$, $channel$jscomp$25$$, $sourceId$jscomp$6$$, $destinationId$jscomp$4$$, 0 == $destinationId$jscomp$4$$.indexOf("receiver-0"));
  $mr$cast$ApiDataUtils$removeNullFields$$($content$jscomp$10$$);
  var $message$jscomp$85$$ = $mr$cast$ChannelUtils$createMessage$$($namespace$jscomp$20$$, $content$jscomp$10$$, $sourceId$jscomp$6$$, $destinationId$jscomp$4$$);
  "object" === typeof $content$jscomp$10$$ && "RPC" == $content$jscomp$10$$.type || $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ChannelService$logger_$$, function() {
    return "Channel is sending message: " + JSON.stringify($message$jscomp$85$$);
  });
  return new Promise(function($namespace$jscomp$20$$, $content$jscomp$10$$) {
    chrome.cast.channel.send($channel$jscomp$25$$, $message$jscomp$85$$, function($channel$jscomp$25$$) {
      $channel$jscomp$25$$ ? $channel$jscomp$25$$.errorState ? ($content$jscomp$10$$(Error("Failed to send message")), $JSCompiler_StaticMethods_closeAndRetry_$$($JSCompiler_StaticMethods_sendToChannel_$self$$, $channel$jscomp$25$$)) : $namespace$jscomp$20$$(!0) : ($channel$jscomp$25$$ = $mr$Assertions$assert$$($mr$RunTimeErrorUtils$getError$$("chrome.cast.channel.send", $mr$cast$ChannelService$logger_$$)), $content$jscomp$10$$($channel$jscomp$25$$));
    });
  });
};
$mr$cast$ChannelService$$.prototype.$getStorageKey$ = function() {
  return "cast.ChannelService";
};
$mr$cast$ChannelService$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [new $mr$cast$ChannelService$PersistentData_$$($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$b$), $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$a$))];
};
$mr$cast$ChannelService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$4$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$4$$ && ($JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$b$, $savedData$jscomp$4$$.$b$), $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$a$, $savedData$jscomp$4$$.$a$));
};
var $mr$cast$ChannelService$logger_$$ = $mr$Logger$getInstance$$("mr.cast.ChannelService"), $mr$cast$ChannelService$PersistentData_$$ = function($receiverIdToChannel$$, $channelIdToReceiverId$$) {
  this.$b$ = $receiverIdToChannel$$;
  this.$a$ = $channelIdToReceiverId$$;
};
var $mr$cast$GetAppAvailabilityRequest$$ = function() {
  this.requestId = 0;
  this.type = "GET_APP_AVAILABILITY";
  this.appId = [];
};
var $mr$cast$AppDiscoveryService$$ = function($requestSender$jscomp$1$$, $discoveryService$jscomp$1$$) {
  this.$g$ = $requestSender$jscomp$1$$;
  this.$b$ = $discoveryService$jscomp$1$$;
  this.$f$ = new $goog$structs$Set$$;
  this.$a$ = new $goog$structs$Map$$;
};
$mr$cast$AppDiscoveryService$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
var $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$$ = function($JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$, $appId$jscomp$13$$) {
  var $appInfo$jscomp$6$$ = $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$.$a$.get($appId$jscomp$13$$);
  $appInfo$jscomp$6$$ && ($appInfo$jscomp$6$$.$registeredCount$--, 0 < $appInfo$jscomp$6$$.$registeredCount$ || ($goog$iter$forEach$$($JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$.$b$.$a$.$__iterator__$(!1), function($JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$) {
    switch($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$, $appId$jscomp$13$$)) {
      case "available":
        $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$.$s$[$appId$jscomp$13$$] = "available_rescan";
        break;
      case "unavailable":
        $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$.$s$[$appId$jscomp$13$$] = "unavailable_rescan";
    }
  }), $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$self$$.$a$.remove($appId$jscomp$13$$)));
};
$JSCompiler_prototypeAlias$$ = $mr$cast$AppDiscoveryService$$.prototype;
$JSCompiler_prototypeAlias$$.$mr_cast_AppDiscoveryService_prototype$scanSink$ = function($sink$jscomp$27$$) {
  var $$jscomp$this$jscomp$60$$ = this;
  $goog$iter$forEach$$(this.$a$.$__iterator__$(!0), function($appId$jscomp$15$$) {
    a: {
      switch($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($sink$jscomp$27$$, $appId$jscomp$15$$)) {
        case "unknown":
        case "available_rescan":
        case "unavailable_rescan":
          var $JSCompiler_inline_result$jscomp$128_cleanup$jscomp$1$$ = !0;
          break a;
      }
      $JSCompiler_inline_result$jscomp$128_cleanup$jscomp$1$$ = !1;
    }
    if ($JSCompiler_inline_result$jscomp$128_cleanup$jscomp$1$$) {
      var $requestId$jscomp$9$$ = $sink$jscomp$27$$.getId() + ":" + $appId$jscomp$15$$;
      $$jscomp$this$jscomp$60$$.$f$.contains($requestId$jscomp$9$$) || ($$jscomp$this$jscomp$60$$.$f$.add($requestId$jscomp$9$$), $JSCompiler_inline_result$jscomp$128_cleanup$jscomp$1$$ = function() {
        $$jscomp$this$jscomp$60$$.$f$.remove($requestId$jscomp$9$$);
      }, $JSCompiler_StaticMethods_setBackoffFactor$$(new $mr$Retry$$($$jscomp$this$jscomp$60$$.$checkAppAvailability_$.bind($$jscomp$this$jscomp$60$$, $sink$jscomp$27$$, $appId$jscomp$15$$), 5500, 3), 2).start().then($$jscomp$this$jscomp$60$$.$updateAppStatus_$.bind($$jscomp$this$jscomp$60$$, $sink$jscomp$27$$, $appId$jscomp$15$$), function() {
        $$jscomp$this$jscomp$60$$.$logger_$.error("Failed to get app availability response for " + $sink$jscomp$27$$.getId() + ", appId " + $appId$jscomp$15$$ + " after 3 attempts.");
        $$jscomp$this$jscomp$60$$.$updateAppStatus_$($sink$jscomp$27$$, $appId$jscomp$15$$, "unknown");
      }).then($JSCompiler_inline_result$jscomp$128_cleanup$jscomp$1$$, $JSCompiler_inline_result$jscomp$128_cleanup$jscomp$1$$));
    }
  });
};
$JSCompiler_prototypeAlias$$.$updateAppStatus_$ = function($sink$jscomp$28$$, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1034_appId$jscomp$16$$, $appStatus$jscomp$2$$) {
  $appStatus$jscomp$2$$ != $JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($sink$jscomp$28$$, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1034_appId$jscomp$16$$) && ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1034_appId$jscomp$16$$ + " on " + $sink$jscomp$28$$.getId() + " is " + $appStatus$jscomp$2$$), $sink$jscomp$28$$.$s$[$JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1034_appId$jscomp$16$$] = 
  $appStatus$jscomp$2$$, $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1034_appId$jscomp$16$$ = this.$b$, $goog$asserts$assert$$(null != $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1034_appId$jscomp$16$$.$b$($sink$jscomp$28$$.getId())), $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1034_appId$jscomp$16$$.$g$, 
  $sink$jscomp$28$$));
};
$JSCompiler_prototypeAlias$$.$checkAppAvailability_$ = function($sink$jscomp$29$$, $appId$jscomp$17$$) {
  var $$jscomp$this$jscomp$61$$ = this, $request$jscomp$36$$ = new $mr$cast$GetAppAvailabilityRequest$$;
  $request$jscomp$36$$.appId = [$appId$jscomp$17$$];
  var $timing$jscomp$2$$ = new $mr$Timing$$("MediaRouter.Cast.App.Availability");
  return this.$g$.sendRequest($request$jscomp$36$$, $sink$jscomp$29$$, $mr$cast$Namespace$Cast$RECEIVER$$, 5000).then(function($sink$jscomp$29$$) {
    $timing$jscomp$2$$.$a$("Success");
    $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($$jscomp$this$jscomp$61$$.$logger_$, function() {
      return "App availability response " + JSON.stringify($sink$jscomp$29$$);
    });
    for (var $appId$jscomp$17$$ in $sink$jscomp$29$$.availability) {
      if ("APP_AVAILABLE" == $sink$jscomp$29$$.availability[$appId$jscomp$17$$]) {
        return "available";
      }
      if ("APP_UNAVAILABLE" == $sink$jscomp$29$$.availability[$appId$jscomp$17$$]) {
        return "unavailable";
      }
    }
    return "unknown";
  }, function($request$jscomp$36$$) {
    $timing$jscomp$2$$.$a$("Failure");
    $$jscomp$this$jscomp$61$$.$logger_$.error("checkAppAvailability_ failed for " + $sink$jscomp$29$$.getId() + ", appId " + $appId$jscomp$17$$);
    throw $request$jscomp$36$$;
  });
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "cast.AppDiscoveryService";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [new $mr$cast$AppDiscoveryService$PersistentData_$$($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$a$))];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$5$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$5$$ && $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$a$, $savedData$jscomp$5$$.$a$);
};
$JSCompiler_prototypeAlias$$.$logger_$ = $mr$Logger$getInstance$$("mr.cast.AppDiscoveryService");
var $mr$cast$AppDiscoveryService$PersistentData_$$ = function($registeredApps$$) {
  this.$a$ = $registeredApps$$;
};
var $mr$RouteRequestError$$ = function($errorCode$jscomp$4$$, $opt_message$jscomp$23_stack$jscomp$4$$, $opt_stack$$) {
  var $$jscomp$tmp$error$jscomp$2$$ = Error.call(this);
  this.message = $$jscomp$tmp$error$jscomp$2$$.message;
  "stack" in $$jscomp$tmp$error$jscomp$2$$ && (this.stack = $$jscomp$tmp$error$jscomp$2$$.stack);
  this.name = "RouteRequestError";
  this.message = $opt_message$jscomp$23_stack$jscomp$4$$ || "";
  if ($opt_stack$$) {
    this.stack = $opt_stack$$;
  } else {
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, $mr$RouteRequestError$$);
    } else {
      if ($opt_message$jscomp$23_stack$jscomp$4$$ = Error().stack) {
        this.stack = $opt_message$jscomp$23_stack$jscomp$4$$;
      }
    }
  }
  this.errorCode = $errorCode$jscomp$4$$;
};
$$jscomp$inherits$$($mr$RouteRequestError$$, Error);
var $mr$SinkList$$ = function($sinks$jscomp$2$$, $opt_origins$$) {
  this.sinks = $sinks$jscomp$2$$;
  this.origins = $opt_origins$$ || null;
}, $mr$SinkList$EMPTY$$ = new $mr$SinkList$$([]);
var $mr$cast$RouteUtils$createRoute$$ = function($sourceUrn$jscomp$24$$, $sink$jscomp$30$$, $presentationId$jscomp$7$$, $isLocal$jscomp$2$$) {
  return $mr$Route$createRoute$$($presentationId$jscomp$7$$, "cast", $sink$jscomp$30$$.getId(), $sourceUrn$jscomp$24$$, $isLocal$jscomp$2$$, "", null);
};
var $mr$cast$ClientRecord$$ = function($routeId$jscomp$17$$, $clientId$jscomp$16$$, $appIds$jscomp$3$$, $autoJoinPolicy$jscomp$2$$, $origin$jscomp$4$$, $tabId$jscomp$18$$) {
  this.routeId = $routeId$jscomp$17$$;
  this.clientId = $clientId$jscomp$16$$;
  this.appIds = $appIds$jscomp$3$$;
  this.autoJoinPolicy = $autoJoinPolicy$jscomp$2$$;
  this.origin = $origin$jscomp$4$$;
  this.tabId = $tabId$jscomp$18$$;
  this.$b$ = this.$a$ = !1;
}, $mr$cast$ClientRecords$$ = function() {
  this.$a$ = [];
};
$mr$cast$ClientRecords$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
$mr$cast$ClientRecords$$.prototype.$getCount$ = function() {
  return this.$a$.length;
};
var $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$ = function($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$self$$, $clientId$jscomp$17$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$self$$.$a$, function($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$self$$) {
    return $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$self$$.clientId == $clientId$jscomp$17$$;
  });
}, $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$$ = function($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$self$$, $routeId$jscomp$18$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$self$$.$a$, function($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$self$$) {
    return $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$self$$.routeId == $routeId$jscomp$18$$;
  });
}, $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$$ = function($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$self$$, $clientId$jscomp$19$$) {
  $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$self$$.$a$ = $goog$array$filter$$($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$self$$.$a$, function($JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$self$$) {
    return $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$self$$.clientId != $clientId$jscomp$19$$;
  });
};
$mr$cast$ClientRecords$$.prototype.$getStorageKey$ = function() {
  return "cast.ClientRecords";
};
$mr$cast$ClientRecords$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [new $mr$cast$ClientRecords$PersistentData_$$(this.$a$)];
};
$mr$cast$ClientRecords$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$6$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$6$$ && (this.$a$ = $savedData$jscomp$6$$.$a$);
};
var $mr$cast$ClientRecords$PersistentData_$$ = function($records$$) {
  this.$a$ = $records$$;
};
var $mr$cast$DebugService$$ = function($discoveryService$jscomp$2$$) {
  this.$a$ = $discoveryService$jscomp$2$$;
}, $mr$cast$DebugService$getMdnsDevicesFromIpList$$ = function() {
  var $devices$$ = [];
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$h$.forEach(function($ip$$) {
    var $instanceName$$ = "Receiver-" + $ip$$.replace(/\./g, "_"), $port$jscomp$12$$ = $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$f$ || 8009;
    $devices$$.push({serviceName:$instanceName$$ + "._googlecast._tcp.local", serviceHostPort:$instanceName$$ + ":" + $port$jscomp$12$$, ipAddress:$ip$$, serviceData:["id=mdns:" + $instanceName$$, "ve=02", "ca=5", "st=1", "fn=" + $instanceName$$, "md=Chromecast"]});
  });
  return $devices$$;
};
$mr$cast$DebugService$$.prototype.init = function() {
  var $debugDevices$$ = $mr$cast$DebugService$getMdnsDevicesFromIpList$$(), $JSCompiler_StaticMethods_registerDebugDevices$self$jscomp$inline_1037$$ = this.$a$;
  $JSCompiler_StaticMethods_registerDebugDevices$self$jscomp$inline_1037$$.$L$($debugDevices$$);
  $JSCompiler_StaticMethods_registerDebugDevices$self$jscomp$inline_1037$$.$K$ = $debugDevices$$;
};
var $mr$cast$Messages$MSG_FAILED_TO_CAST$$ = chrome.i18n.getMessage("4528089202128275824");
chrome.i18n.getMessage("2810417817914017289");
chrome.i18n.getMessage("3413021810593924462");
chrome.i18n.getMessage("7603034707785674700");
chrome.i18n.getMessage("8009014317872238527");
chrome.i18n.getMessage("8636962961150071298");
chrome.i18n.getMessage("1802762746589457177");
var $mr$cast$SessionRecord$$ = function($sinkId$jscomp$21$$, $session$jscomp$23$$) {
  this.$b$ = [];
  this.$a$ = [];
  this.sinkId = $sinkId$jscomp$21$$;
  this.session = $session$jscomp$23$$;
  this.$h$ = this.$f$ = null;
  this.offTheRecord = this.$g$ = !1;
}, $mr$cast$SessionRecords$$ = function() {
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cast.SessionRecords");
  this.$a$ = [];
};
$mr$cast$SessionRecords$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
var $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$$ = function($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$, $sessionId$jscomp$29$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$.$logger_$, "Removing session " + $sessionId$jscomp$29$$);
  $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$.$a$ = $goog$array$filter$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$.$a$, function($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$) {
    return $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$removeSessionById$self$$.session.sessionId != $sessionId$jscomp$29$$;
  });
}, $JSCompiler_StaticMethods_getClientIdsOfSession$$ = function($JSCompiler_StaticMethods_getClientIdsOfSession$self_record$jscomp$3$$, $sessionId$jscomp$30$$) {
  return ($JSCompiler_StaticMethods_getClientIdsOfSession$self_record$jscomp$3$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_getClientIdsOfSession$self_record$jscomp$3$$, $sessionId$jscomp$30$$)) ? $JSCompiler_StaticMethods_getClientIdsOfSession$self_record$jscomp$3$$.$b$ : [];
}, $JSCompiler_StaticMethods_getSessionBySinkId$$ = function($JSCompiler_StaticMethods_getSessionBySinkId$self_record$jscomp$4$$, $sinkId$jscomp$24$$) {
  return ($JSCompiler_StaticMethods_getSessionBySinkId$self_record$jscomp$4$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_getSessionBySinkId$self_record$jscomp$4$$, $sinkId$jscomp$24$$)) ? $JSCompiler_StaticMethods_getSessionBySinkId$self_record$jscomp$4$$.session : null;
}, $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$$ = function($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$self$$, $clientId$jscomp$22$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$self$$.$a$, function($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$self$$) {
    return $goog$array$contains$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$self$$.$b$, $clientId$jscomp$22$$);
  });
}, $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$ = function($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$self$$, $routeId$jscomp$26$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$self$$.$a$, function($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$self$$) {
    return $goog$array$contains$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$self$$.$a$, $routeId$jscomp$26$$);
  });
}, $JSCompiler_StaticMethods_getRecordByPresentationId$$ = function($JSCompiler_StaticMethods_getRecordByPresentationId$self$$, $presentationId$jscomp$9$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_getRecordByPresentationId$self$$.$a$, function($JSCompiler_StaticMethods_getRecordByPresentationId$self$$) {
    return null != $goog$array$find$$($JSCompiler_StaticMethods_getRecordByPresentationId$self$$.$a$, function($JSCompiler_StaticMethods_getRecordByPresentationId$self$$) {
      return $mr$RouteUrn$create$$($JSCompiler_StaticMethods_getRecordByPresentationId$self$$).$a$ == $presentationId$jscomp$9$$;
    });
  });
}, $JSCompiler_StaticMethods_getRecordBySinkId$$ = function($JSCompiler_StaticMethods_getRecordBySinkId$self$$, $sinkId$jscomp$25$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_getRecordBySinkId$self$$.$a$, function($JSCompiler_StaticMethods_getRecordBySinkId$self$$) {
    return $JSCompiler_StaticMethods_getRecordBySinkId$self$$.sinkId == $sinkId$jscomp$25$$ || $JSCompiler_StaticMethods_getRecordBySinkId$self$$.$f$ == $sinkId$jscomp$25$$;
  });
}, $JSCompiler_StaticMethods_getRecordBySessionId$$ = function($JSCompiler_StaticMethods_getRecordBySessionId$self$$, $sessionId$jscomp$31$$) {
  return $goog$array$find$$($JSCompiler_StaticMethods_getRecordBySessionId$self$$.$a$, function($JSCompiler_StaticMethods_getRecordBySessionId$self$$) {
    return $JSCompiler_StaticMethods_getRecordBySessionId$self$$.session.sessionId == $sessionId$jscomp$31$$;
  });
}, $JSCompiler_StaticMethods_getSinkIdBySessionId$$ = function($JSCompiler_StaticMethods_getSinkIdBySessionId$self_record$jscomp$5$$, $sessionId$jscomp$32$$) {
  return ($JSCompiler_StaticMethods_getSinkIdBySessionId$self_record$jscomp$5$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_getSinkIdBySessionId$self_record$jscomp$5$$, $sessionId$jscomp$32$$)) ? $JSCompiler_StaticMethods_getSinkIdBySessionId$self_record$jscomp$5$$.sinkId : null;
}, $JSCompiler_StaticMethods_getSessionById$$ = function($JSCompiler_StaticMethods_getSessionById$self_record$jscomp$6$$, $sessionId$jscomp$33$$) {
  return ($JSCompiler_StaticMethods_getSessionById$self_record$jscomp$6$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_getSessionById$self_record$jscomp$6$$, $sessionId$jscomp$33$$)) ? $JSCompiler_StaticMethods_getSessionById$self_record$jscomp$6$$.session : null;
}, $JSCompiler_StaticMethods_setSessionMedia$$ = function($JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$, $sessionId$jscomp$34$$, $mediaArray$jscomp$1$$) {
  var $session$jscomp$26$$ = $JSCompiler_StaticMethods_getSessionById$$($JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$, $sessionId$jscomp$34$$);
  $session$jscomp$26$$ && ($JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$ = $goog$array$filter$$($mediaArray$jscomp$1$$, function($JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$) {
    return $JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$.playerState != chrome.cast.media.$PlayerState$.IDLE;
  }), $JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$.forEach(function($JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$) {
    if (!$JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$.media) {
      var $sessionId$jscomp$34$$ = $goog$array$find$$($session$jscomp$26$$.media, function($sessionId$jscomp$34$$) {
        return $sessionId$jscomp$34$$.mediaSessionId == $JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$.mediaSessionId;
      });
      $sessionId$jscomp$34$$ && ($JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$.media = $sessionId$jscomp$34$$.media);
    }
  }), $session$jscomp$26$$.media = $JSCompiler_StaticMethods_setSessionMedia$self_newMedias$$);
};
$mr$cast$SessionRecords$$.prototype.$getStorageKey$ = function() {
  return "cast.SessionRecords";
};
$mr$cast$SessionRecords$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [new $mr$cast$SessionRecords$PersistentData_$$(this.$a$)];
};
$mr$cast$SessionRecords$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$7$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$7$$) {
    for (var $i$jscomp$141$$ = 0; $i$jscomp$141$$ < $savedData$jscomp$7$$.$a$.length; $i$jscomp$141$$++) {
      var $savedRecord$$ = $savedData$jscomp$7$$.$a$[$i$jscomp$141$$], $record$jscomp$7$$ = new $mr$cast$SessionRecord$$($savedRecord$$.sinkId, $savedRecord$$.session);
      $record$jscomp$7$$.$b$ = $savedRecord$$.$b$;
      $record$jscomp$7$$.$a$ = $savedRecord$$.$a$;
      $record$jscomp$7$$.$g$ = $savedRecord$$.$g$;
      $record$jscomp$7$$.$h$ = $savedRecord$$.$h$;
      $record$jscomp$7$$.$f$ = $savedRecord$$.$f$;
      this.$a$.push($record$jscomp$7$$);
    }
  }
};
var $mr$cast$SessionRecords$PersistentData_$$ = function($records$jscomp$1$$) {
  this.$a$ = $records$jscomp$1$$;
};
var $mr$CastProvider$$ = function($providerManagerCallbacks$$) {
  this.$w$ = "sender-" + $goog$string$getRandomString$$();
  this.$f$ = new $goog$structs$Map$$;
  this.$l$ = null;
  $mr$PersistentDataManager$register$$(this);
  this.$b$ = $providerManagerCallbacks$$;
  this.$j$ = new $mr$cast$ClientRecords$$;
  this.$g$ = new $mr$cast$SessionRecords$$;
  this.$o$ = new $mr$cast$ChannelService$$(this.$w$, this);
  this.$a$ = new $mr$cast$SinkDiscoveryService$$(this.$o$, this);
  this.$I$ = new $mr$cast$DebugService$$(this.$a$);
  this.$B$ = new $mr$cast$RequestSender$$(this.$o$, this.$w$);
  this.$D$ = new $mr$cast$AppDiscoveryService$$(this.$B$, this.$a$);
  this.$h$ = new $mr$cast$ApiHandler$$(this.$B$, this.$a$, this.$j$, this.$g$, this.$o$, this);
  this.$F$ = new $castApp$eventPage$Service$$(this.$a$, this.$B$);
  this.$J$ = this.$a$.start.bind(this.$a$);
  this.$A$ = new Map;
};
$JSCompiler_prototypeAlias$$ = $mr$CastProvider$$.prototype;
$JSCompiler_prototypeAlias$$.getName = function() {
  return "cast";
};
$JSCompiler_prototypeAlias$$.$initialize$ = function() {
  this.$B$.init();
  this.$g$.init();
  this.$h$.init();
  this.$o$.init();
  this.$a$.init();
  this.$I$.init();
  this.$D$.init();
  this.$b$.$registerMdnsDiscoveryEnabledCallback$(this.$J$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$getRoutes$ = function() {
  var $nonRemotingRoutes$$ = this.$f$.$getValues$(), $remotingRoutes$$ = [].concat($$jscomp$arrayFromIterable$$(this.$A$.values())).map(function($nonRemotingRoutes$$) {
    return $nonRemotingRoutes$$.$remoter$.$getRoute$();
  });
  return $nonRemotingRoutes$$.concat($remotingRoutes$$);
};
$JSCompiler_prototypeAlias$$.$getAvailableSinks$ = function($sourceUrn$jscomp$26$$) {
  var $$jscomp$this$jscomp$62$$ = this;
  if (null != $JSCompiler_StaticMethods_getBroadcastRequestFromUrn_$$($sourceUrn$jscomp$26$$)) {
    return new $mr$SinkList$$([]);
  }
  var $sinks$jscomp$4$$ = new $goog$structs$Set$$;
  $JSCompiler_StaticMethods_getAppIdsFromUrn_$$($sourceUrn$jscomp$26$$).forEach(function($sourceUrn$jscomp$26$$) {
    $JSCompiler_StaticMethods_getSinksByAppId$$($$jscomp$this$jscomp$62$$.$a$, $sourceUrn$jscomp$26$$).map(function($sourceUrn$jscomp$26$$) {
      return $sourceUrn$jscomp$26$$.$b$;
    }).forEach(function($sourceUrn$jscomp$26$$) {
      $sinks$jscomp$4$$.add($sourceUrn$jscomp$26$$);
    });
  });
  return new $mr$SinkList$$($sinks$jscomp$4$$.$getValues$(), $mr$MediaSourceUtils$getWhitelistedOrigins$$($sourceUrn$jscomp$26$$));
};
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function($sourceUrn$jscomp$27$$) {
  var $$jscomp$this$jscomp$63$$ = this, $broadcastRequest$jscomp$1$$ = $JSCompiler_StaticMethods_getBroadcastRequestFromUrn_$$($sourceUrn$jscomp$27$$);
  $broadcastRequest$jscomp$1$$ ? ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Received broadcast request " + $sourceUrn$jscomp$27$$), $goog$iter$forEach$$(this.$a$.$a$.$__iterator__$(!1), function($sourceUrn$jscomp$27$$) {
    $$jscomp$this$jscomp$63$$.$B$.sendMessage($broadcastRequest$jscomp$1$$, $sourceUrn$jscomp$27$$, $mr$cast$Namespace$Cast$BROADCAST$$).catch(function($sourceUrn$jscomp$27$$) {
      $$jscomp$this$jscomp$63$$.$logger_$.error("Broadcast failed " + $sourceUrn$jscomp$27$$.message);
    });
  })) : ($JSCompiler_StaticMethods_getAppIdsFromUrn_$$($sourceUrn$jscomp$27$$).forEach(function($sourceUrn$jscomp$27$$) {
    var $broadcastRequest$jscomp$1$$ = $$jscomp$this$jscomp$63$$.$D$, $appId$jscomp$22$$ = $broadcastRequest$jscomp$1$$.$a$.get($sourceUrn$jscomp$27$$);
    $appId$jscomp$22$$ ? $appId$jscomp$22$$.$registeredCount$++ : $broadcastRequest$jscomp$1$$.$a$.set($sourceUrn$jscomp$27$$, {$registeredCount$:1});
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($broadcastRequest$jscomp$1$$.$logger_$, "Scanning sinks for app availability");
    $goog$iter$forEach$$($broadcastRequest$jscomp$1$$.$b$.$a$.$__iterator__$(!1), $broadcastRequest$jscomp$1$$.$mr_cast_AppDiscoveryService_prototype$scanSink$, $broadcastRequest$jscomp$1$$);
  }), this.$b$.$isMdnsDiscoveryEnabled$() && this.$a$.start());
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function($sourceUrn$jscomp$28$$) {
  var $$jscomp$this$jscomp$64$$ = this;
  null != $JSCompiler_StaticMethods_getBroadcastRequestFromUrn_$$($sourceUrn$jscomp$28$$) || $JSCompiler_StaticMethods_getAppIdsFromUrn_$$($sourceUrn$jscomp$28$$).forEach(function($sourceUrn$jscomp$28$$) {
    $JSCompiler_StaticMethods_mr_cast_AppDiscoveryService_prototype$unregisterApp$$($$jscomp$this$jscomp$64$$.$D$, $sourceUrn$jscomp$28$$);
  });
};
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function() {
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function() {
};
$JSCompiler_prototypeAlias$$.$setDiscoveryEnabled$ = function() {
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$getSinkById$ = function($castSink$jscomp$2_sinkId$jscomp$26$$) {
  return ($castSink$jscomp$2_sinkId$jscomp$26$$ = this.$a$.$b$($castSink$jscomp$2_sinkId$jscomp$26$$)) ? $castSink$jscomp$2_sinkId$jscomp$26$$.$b$ : null;
};
var $JSCompiler_StaticMethods_handleLaunchError_$$ = function($JSCompiler_StaticMethods_handleLaunchError_$self$$, $route$jscomp$9$$, $error$jscomp$38_issue$jscomp$inline_1046$$) {
  $JSCompiler_StaticMethods_handleLaunchError_$self$$.$logger_$.error("Error launching.", $error$jscomp$38_issue$jscomp$inline_1046$$);
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$($JSCompiler_StaticMethods_handleLaunchError_$self$$, $route$jscomp$9$$.id, !1, !0, "error");
  $error$jscomp$38_issue$jscomp$inline_1046$$ = new $mr$Issue$$($mr$cast$Messages$MSG_FAILED_TO_CAST$$, "warning");
  $error$jscomp$38_issue$jscomp$inline_1046$$.routeId = $route$jscomp$9$$.id;
  $JSCompiler_StaticMethods_handleLaunchError_$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$getIssueSender$().send($error$jscomp$38_issue$jscomp$inline_1046$$);
}, $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$31$$, $sink$jscomp$40$$, $presentationId$jscomp$10$$, $offTheRecord$jscomp$2_presentationUrl$jscomp$4$$, $timeoutMillis$jscomp$6$$, $opt_origin$jscomp$2$$, $opt_tabId$jscomp$6$$) {
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$b$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($sink$jscomp$40$$.$v$, $sink$jscomp$40$$.$getIpAddress$());
  var $route$jscomp$10$$ = $mr$cast$RouteUtils$createRoute$$($sourceUrn$jscomp$31$$, $sink$jscomp$40$$, $presentationId$jscomp$10$$, !0);
  $route$jscomp$10$$.forDisplay = !1;
  $route$jscomp$10$$.offTheRecord = $offTheRecord$jscomp$2_presentationUrl$jscomp$4$$;
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$.$f$.set($route$jscomp$10$$.id, $route$jscomp$10$$);
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$.$b$.$onRouteAdded$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $route$jscomp$10$$);
  $JSCompiler_StaticMethods_updateKeepAliveRequest_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$);
  ($offTheRecord$jscomp$2_presentationUrl$jscomp$4$$ = $mr$cast$PresentationUrl$createFromUrl$$($sourceUrn$jscomp$31$$)) && $offTheRecord$jscomp$2_presentationUrl$jscomp$4$$.$a$ && $JSCompiler_StaticMethods_addClient_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $offTheRecord$jscomp$2_presentationUrl$jscomp$4$$, $route$jscomp$10$$.id, $opt_origin$jscomp$2$$, $opt_tabId$jscomp$6$$);
  $mr$MediaSourceUtils$isMirrorSource$$($sourceUrn$jscomp$31$$) || $mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$31$$) ? ($route$jscomp$10$$.$mirrorInitData$ = {tabId:$opt_tabId$jscomp$6$$, sessionId:"", $sinkIpAddress$:$sink$jscomp$40$$.$getIpAddress$() || "", $sinkModelName$:$sink$jscomp$40$$.$v$ || ""}, $mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$31$$) && ($route$jscomp$10$$.isOffscreenPresentation = !0), $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$startMirroring$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, 
  $route$jscomp$10$$, $presentationId$jscomp$10$$, function($offTheRecord$jscomp$2_presentationUrl$jscomp$4$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_launchSession_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$31$$, $sink$jscomp$40$$, $presentationId$jscomp$10$$, $timeoutMillis$jscomp$6$$, $opt_origin$jscomp$2$$, $opt_tabId$jscomp$6$$, $offTheRecord$jscomp$2_presentationUrl$jscomp$4$$));
  }).$a$.then(function() {
    $JSCompiler_StaticMethods_setMirroringSessionStatusText_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $route$jscomp$10$$);
  }, function($sourceUrn$jscomp$31$$) {
    $JSCompiler_StaticMethods_handleLaunchError_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $route$jscomp$10$$, $sourceUrn$jscomp$31$$);
  })) : $JSCompiler_StaticMethods_launchSession_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$31$$, $sink$jscomp$40$$, $presentationId$jscomp$10$$, $timeoutMillis$jscomp$6$$, $opt_origin$jscomp$2$$, $opt_tabId$jscomp$6$$, $route$jscomp$10$$).then(null, function($sourceUrn$jscomp$31$$) {
    $JSCompiler_StaticMethods_handleLaunchError_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$self$$, $route$jscomp$10$$, $sourceUrn$jscomp$31$$);
  });
  return Promise.resolve($route$jscomp$10$$);
}, $JSCompiler_StaticMethods_launchSession_$$ = function($JSCompiler_StaticMethods_launchSession_$self$$, $sourceUrn$jscomp$32$$, $sink$jscomp$41$$, $presentationId$jscomp$11$$, $timeoutMillis$jscomp$7$$, $origin$jscomp$6$$, $tabId$jscomp$20$$, $route$jscomp$11$$) {
  return $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$launchSession$$($JSCompiler_StaticMethods_launchSession_$self$$.$h$, $JSCompiler_StaticMethods_preprocessUrn_$$($sourceUrn$jscomp$32$$, $sink$jscomp$41$$, $timeoutMillis$jscomp$7$$), $sink$jscomp$41$$).then(function($timeoutMillis$jscomp$7$$) {
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$($JSCompiler_StaticMethods_launchSession_$self$$, $sourceUrn$jscomp$32$$, $sink$jscomp$41$$, $presentationId$jscomp$11$$, $timeoutMillis$jscomp$7$$, $origin$jscomp$6$$, $tabId$jscomp$20$$, $route$jscomp$11$$);
    return $route$jscomp$11$$;
  });
};
$mr$CastProvider$$.prototype.createRoute = function($sourceUrn$jscomp$33$$, $promise$jscomp$16_sinkId$jscomp$27$$, $presentationId$jscomp$12$$, $offTheRecord$jscomp$3$$, $timeoutMillis$jscomp$8$$, $opt_origin$jscomp$3$$, $opt_tabId$jscomp$7$$) {
  var $$jscomp$this$jscomp$67$$ = this, $sink$jscomp$42$$ = this.$a$.$b$($promise$jscomp$16_sinkId$jscomp$27$$);
  if (!$sink$jscomp$42$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No sink with ID " + $promise$jscomp$16_sinkId$jscomp$27$$));
  }
  var $clientId$jscomp$24$$ = $mr$cast$PresentationUrl$extractClientId$$($sourceUrn$jscomp$33$$);
  if ($clientId$jscomp$24$$) {
    setTimeout(function() {
      $JSCompiler_StaticMethods_sendReceiverAction$$($$jscomp$this$jscomp$67$$.$h$, $goog$asserts$assertString$$($clientId$jscomp$24$$), $goog$asserts$assertObject$$($sink$jscomp$42$$), chrome.cast.$ReceiverAction$.CAST);
    }, 0);
    var $doCreateRoute$$ = function() {
      return $JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$$($$jscomp$this$jscomp$67$$, $sourceUrn$jscomp$33$$, $sink$jscomp$42$$, $presentationId$jscomp$12$$, $offTheRecord$jscomp$3$$, $timeoutMillis$jscomp$8$$, $opt_origin$jscomp$3$$, $opt_tabId$jscomp$7$$);
    }, $clientRecord$jscomp$7$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$(this.$j$, $clientId$jscomp$24$$);
    if ($clientRecord$jscomp$7$$) {
      return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$(this.terminateRoute($clientRecord$jscomp$7$$.routeId).then($doCreateRoute$$, $doCreateRoute$$));
    }
    if ($opt_origin$jscomp$3$$ && $opt_tabId$jscomp$7$$ && ($promise$jscomp$16_sinkId$jscomp$27$$ = $JSCompiler_StaticMethods_convertMirrorToCast_$$(this, $sourceUrn$jscomp$33$$, $opt_origin$jscomp$3$$, $opt_tabId$jscomp$7$$, $offTheRecord$jscomp$3$$, $timeoutMillis$jscomp$8$$, $promise$jscomp$16_sinkId$jscomp$27$$))) {
      return $promise$jscomp$16_sinkId$jscomp$27$$;
    }
  }
  return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$doCreateRoute_$$(this, $sourceUrn$jscomp$33$$, $sink$jscomp$42$$, $presentationId$jscomp$12$$, $offTheRecord$jscomp$3$$, $timeoutMillis$jscomp$8$$, $opt_origin$jscomp$3$$, $opt_tabId$jscomp$7$$));
};
var $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$, $routeId$jscomp$30$$, $explicitDisconnect$jscomp$3$$, $isClosed$jscomp$1$$, $closeReason$jscomp$1$$) {
  $isClosed$jscomp$1$$ = void 0 === $isClosed$jscomp$1$$ ? !1 : $isClosed$jscomp$1$$;
  $closeReason$jscomp$1$$ = void 0 === $closeReason$jscomp$1$$ ? "closed" : $closeReason$jscomp$1$$;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$logger_$, "Remove route " + $routeId$jscomp$30$$);
  var $clientRecord$jscomp$8$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$j$, $routeId$jscomp$30$$);
  if ($clientRecord$jscomp$8$$) {
    $explicitDisconnect$jscomp$3$$ = $explicitDisconnect$jscomp$3$$ || $clientRecord$jscomp$8$$.$b$;
    var $clientId$jscomp$25_sessionRecord$jscomp$9$$ = $clientRecord$jscomp$8$$.clientId;
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$logger_$, "Remove client " + $clientId$jscomp$25_sessionRecord$jscomp$9$$);
    for (var $JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1048_route$jscomp$13$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$g$, $i$jscomp$inline_1050$$ = 0; $i$jscomp$inline_1050$$ < $JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1048_route$jscomp$13$$.$a$.length; $i$jscomp$inline_1050$$++) {
      $goog$array$remove$$($JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1048_route$jscomp$13$$.$a$[$i$jscomp$inline_1050$$].$b$, $clientId$jscomp$25_sessionRecord$jscomp$9$$);
    }
    $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$removeClient$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$j$, $clientId$jscomp$25_sessionRecord$jscomp$9$$);
  }
  if ($clientId$jscomp$25_sessionRecord$jscomp$9$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$g$, $routeId$jscomp$30$$)) {
    $goog$array$remove$$($clientId$jscomp$25_sessionRecord$jscomp$9$$.$a$, $routeId$jscomp$30$$), $JSCompiler_StaticMethods_markForDisplay_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$, $clientId$jscomp$25_sessionRecord$jscomp$9$$.$a$);
  }
  if ($JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1048_route$jscomp$13$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$f$.get($routeId$jscomp$30$$)) {
    if ($JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1048_route$jscomp$13$$.$createdLocally$ && $clientId$jscomp$25_sessionRecord$jscomp$9$$ && ($JSCompiler_StaticMethods_closeVirtualConnection$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$o$, $JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1048_route$jscomp$13$$.sinkId, $clientRecord$jscomp$8$$ ? $clientRecord$jscomp$8$$.clientId : $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$w$, 
    $clientId$jscomp$25_sessionRecord$jscomp$9$$.session.transportId, $explicitDisconnect$jscomp$3$$), $JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1048_route$jscomp$13$$.forDisplay && $clientRecord$jscomp$8$$ && ($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$l$ = {$clientRecord$:$clientRecord$jscomp$8$$, $sessionRecord$:$clientId$jscomp$25_sessionRecord$jscomp$9$$})), $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$f$.remove($routeId$jscomp$30$$), 
    $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$, $JSCompiler_StaticMethods_purgeClient$self$jscomp$inline_1048_route$jscomp$13$$), $JSCompiler_StaticMethods_updateKeepAliveRequest_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$), $isClosed$jscomp$1$$) {
      $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$b$.onPresentationConnectionClosed($routeId$jscomp$30$$, $closeReason$jscomp$1$$, "Remove route");
    } else {
      $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$self$$.$b$.onPresentationConnectionStateChanged($routeId$jscomp$30$$, "terminated");
    }
  }
}, $JSCompiler_StaticMethods_updateRoute$$ = function($JSCompiler_StaticMethods_updateRoute$self$$, $sessionRecord$jscomp$10$$) {
  $sessionRecord$jscomp$10$$.$a$.forEach(function($route$jscomp$14_routeId$jscomp$31$$) {
    if ($route$jscomp$14_routeId$jscomp$31$$ = $JSCompiler_StaticMethods_updateRoute$self$$.$f$.get($route$jscomp$14_routeId$jscomp$31$$)) {
      var $session$jscomp$28$$ = $sessionRecord$jscomp$10$$.session;
      $route$jscomp$14_routeId$jscomp$31$$.$mirrorInitData$ && $route$jscomp$14_routeId$jscomp$31$$.forDisplay ? $JSCompiler_StaticMethods_setMirroringSessionStatusText_$$($JSCompiler_StaticMethods_updateRoute$self$$, $route$jscomp$14_routeId$jscomp$31$$) : ($route$jscomp$14_routeId$jscomp$31$$.description = $session$jscomp$28$$.statusText || $session$jscomp$28$$.displayName, $JSCompiler_StaticMethods_updateRoute$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteUpdated$($JSCompiler_StaticMethods_updateRoute$self$$, 
      $route$jscomp$14_routeId$jscomp$31$$));
    }
  });
}, $JSCompiler_StaticMethods_updateLocalState_$$ = function($JSCompiler_StaticMethods_updateLocalState_$self$$, $routeIds$$) {
  $goog$array$some$$($routeIds$$, function($routeIds$$) {
    $routeIds$$ = $JSCompiler_StaticMethods_updateLocalState_$self$$.$f$.get($routeIds$$, null);
    if (!$routeIds$$ || !$routeIds$$.mediaSource) {
      return !1;
    }
    var $route$jscomp$15_routeId$jscomp$32$$ = $mr$cast$PresentationUrl$createFromUrl$$($routeIds$$.mediaSource), $route$jscomp$15_routeId$jscomp$32$$ = $route$jscomp$15_routeId$jscomp$32$$ ? $route$jscomp$15_routeId$jscomp$32$$.$o$ : !1;
    return $routeIds$$.isLocal && !$route$jscomp$15_routeId$jscomp$32$$;
  }) && $goog$array$forEach$$($routeIds$$, function($routeIds$$) {
    if ($routeIds$$ = $JSCompiler_StaticMethods_updateLocalState_$self$$.$f$.get($routeIds$$, null)) {
      $routeIds$$.isLocal = !0;
    }
  });
}, $JSCompiler_StaticMethods_markForDisplay_$$ = function($JSCompiler_StaticMethods_markForDisplay_$self$$, $routeIds$jscomp$1$$) {
  var $firstRoutesForDisplay$$ = [], $nonLocalRoutes$$ = [], $firstLocalSinkId$$ = null;
  $routeIds$jscomp$1$$.forEach(function($routeIds$jscomp$1$$) {
    if ($routeIds$jscomp$1$$ = $JSCompiler_StaticMethods_markForDisplay_$self$$.$f$.get($routeIds$jscomp$1$$)) {
      $routeIds$jscomp$1$$.forDisplay = !1;
      var $route$jscomp$17_routeId$jscomp$34$$ = $mr$cast$PresentationUrl$createFromUrl$$($routeIds$jscomp$1$$.mediaSource);
      $route$jscomp$17_routeId$jscomp$34$$ && $goog$array$find$$($JSCompiler_StaticMethods_getAppIds$$($route$jscomp$17_routeId$jscomp$34$$), $mr$cast$ApiDataUtils$isIdleAppId$$) || ($routeIds$jscomp$1$$.$createdLocally$ ? ($route$jscomp$17_routeId$jscomp$34$$ = $route$jscomp$17_routeId$jscomp$34$$ ? $JSCompiler_StaticMethods_getAutoJoinPolicy$$($route$jscomp$17_routeId$jscomp$34$$) : null, $firstLocalSinkId$$ || $route$jscomp$17_routeId$jscomp$34$$ == chrome.cast.$AutoJoinPolicy$.CUSTOM_CONTROLLER_SCOPED || 
      ($firstRoutesForDisplay$$.push($routeIds$jscomp$1$$), $firstLocalSinkId$$ = $routeIds$jscomp$1$$.sinkId)) : $firstLocalSinkId$$ && $firstLocalSinkId$$ != $routeIds$jscomp$1$$.sinkId ? $firstRoutesForDisplay$$.push($routeIds$jscomp$1$$) : $nonLocalRoutes$$.push($routeIds$jscomp$1$$));
    }
  });
  $goog$array$forEach$$(0 < $firstRoutesForDisplay$$.length ? $firstRoutesForDisplay$$ : $nonLocalRoutes$$, function($JSCompiler_StaticMethods_markForDisplay_$self$$) {
    $JSCompiler_StaticMethods_markForDisplay_$self$$.forDisplay = !0;
  });
}, $JSCompiler_StaticMethods_addClient_$$ = function($JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1055$$, $autoJoinPolicy$jscomp$inline_1059_presentationUrl$jscomp$7$$, $routeId$jscomp$35$$, $opt_origin$jscomp$4_origin$jscomp$inline_1060$$, $opt_tabId$jscomp$8_tabId$jscomp$inline_1061$$) {
  var $clientId$jscomp$26$$ = $autoJoinPolicy$jscomp$inline_1059_presentationUrl$jscomp$7$$.$a$;
  if ($clientId$jscomp$26$$ && !$JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1055$$.$j$, $clientId$jscomp$26$$)) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1055$$.$logger_$, "Add client " + $clientId$jscomp$26$$);
    $JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1055$$ = $JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1055$$.$j$;
    var $appIds$jscomp$inline_1058$$ = $JSCompiler_StaticMethods_getAppIds$$($autoJoinPolicy$jscomp$inline_1059_presentationUrl$jscomp$7$$);
    $autoJoinPolicy$jscomp$inline_1059_presentationUrl$jscomp$7$$ = $JSCompiler_StaticMethods_getAutoJoinPolicy$$($autoJoinPolicy$jscomp$inline_1059_presentationUrl$jscomp$7$$);
    $opt_origin$jscomp$4_origin$jscomp$inline_1060$$ = $opt_origin$jscomp$4_origin$jscomp$inline_1060$$ || null;
    $opt_tabId$jscomp$8_tabId$jscomp$inline_1061$$ = $goog$isDef$$($opt_tabId$jscomp$8_tabId$jscomp$inline_1061$$) ? $opt_tabId$jscomp$8_tabId$jscomp$inline_1061$$ : null;
    $goog$asserts$assert$$(null == $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1055$$, $clientId$jscomp$26$$));
    $JSCompiler_StaticMethods_addClient_$self_JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$addClient$self$jscomp$inline_1055$$.$a$.push(new $mr$cast$ClientRecord$$($routeId$jscomp$35$$, $clientId$jscomp$26$$, $appIds$jscomp$inline_1058$$, $autoJoinPolicy$jscomp$inline_1059_presentationUrl$jscomp$7$$, $opt_origin$jscomp$4_origin$jscomp$inline_1060$$, $opt_tabId$jscomp$8_tabId$jscomp$inline_1061$$));
  }
}, $JSCompiler_StaticMethods_setMirroringSessionStatusText_$$ = function($JSCompiler_StaticMethods_setMirroringSessionStatusText_$self_session$jscomp$29_sessionRecord$jscomp$11$$, $route$jscomp$19$$) {
  if ($JSCompiler_StaticMethods_setMirroringSessionStatusText_$self_session$jscomp$29_sessionRecord$jscomp$11$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$($JSCompiler_StaticMethods_setMirroringSessionStatusText_$self_session$jscomp$29_sessionRecord$jscomp$11$$.$g$, $route$jscomp$19$$.id)) {
    $JSCompiler_StaticMethods_setMirroringSessionStatusText_$self_session$jscomp$29_sessionRecord$jscomp$11$$ = $JSCompiler_StaticMethods_setMirroringSessionStatusText_$self_session$jscomp$29_sessionRecord$jscomp$11$$.session, $JSCompiler_StaticMethods_setMirroringSessionStatusText_$self_session$jscomp$29_sessionRecord$jscomp$11$$.statusText = $route$jscomp$19$$.description || $JSCompiler_StaticMethods_setMirroringSessionStatusText_$self_session$jscomp$29_sessionRecord$jscomp$11$$.statusText;
  }
}, $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$, $clientId$jscomp$27_sourceUrn$jscomp$34$$, $sink$jscomp$43$$, $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$, $session$jscomp$30$$, $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$, 
$opt_tabId$jscomp$9_sessionId$jscomp$inline_1075$$, $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$) {
  var $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$g$, $sink$jscomp$43$$.getId());
  if (!$clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$) {
    var $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$g$, $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$ = $sink$jscomp$43$$.getId();
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$.$logger_$, "Adding new session: " + $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$ + ", " + $session$jscomp$30$$.sessionId);
    var $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$, $session$jscomp$30$$.sessionId);
    $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$ ? ($mr$cast$ApiDataUtils$isMultizoneLeader$$($session$jscomp$30$$) ? ($presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.$h$ = $session$jscomp$30$$, $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.$f$ = $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$) : $mr$cast$ApiDataUtils$isMultizoneLeader$$($presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.session) && 
    ($presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.$h$ = $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.session, $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.$f$ = $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.sinkId, $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.session = $session$jscomp$30$$, $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.sinkId = $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$), 
    $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$ = $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$) : ($clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$ = new $mr$cast$SessionRecord$$($clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$, $session$jscomp$30$$), $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$.$a$.push($clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$));
  }
  var $isLocal$jscomp$3$$ = null != $clientId$jscomp$27_sourceUrn$jscomp$34$$;
  if (!$isLocal$jscomp$3$$ && $mr$cast$ApiDataUtils$isIdleAppId$$($session$jscomp$30$$.appId)) {
    return null;
  }
  null == $clientId$jscomp$27_sourceUrn$jscomp$34$$ ? ($presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$ = new $mr$cast$PresentationUrl$$([{appId:$session$jscomp$30$$.appId, capabilities:$session$jscomp$30$$.capabilities}]), $clientId$jscomp$27_sourceUrn$jscomp$34$$ = $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.toString()) : $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$ = $mr$cast$PresentationUrl$createFromUrl$$($clientId$jscomp$27_sourceUrn$jscomp$34$$);
  if ($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$) {
    if (!$JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$f$.get($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$.id)) {
      return $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$logger_$, "Route " + $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$.id + " not added"), $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$;
    }
  } else {
    $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$ = $mr$cast$RouteUtils$createRoute$$($clientId$jscomp$27_sourceUrn$jscomp$34$$, $sink$jscomp$43$$, $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$ || $session$jscomp$30$$.sessionId, $isLocal$jscomp$3$$), $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$f$.set($JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$.id, 
    $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$);
  }
  $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$.id;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$logger_$, "Add route " + $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$);
  $clientId$jscomp$27_sourceUrn$jscomp$34$$ = null;
  $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$ && ($clientId$jscomp$27_sourceUrn$jscomp$34$$ = $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.$a$, $JSCompiler_StaticMethods_addClient_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$, $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$, $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$, $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$, 
  $opt_tabId$jscomp$9_sessionId$jscomp$inline_1075$$));
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$ = $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$;
  $goog$array$contains$$($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$.$a$, $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$) || $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$.$a$.push($appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$);
  $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$.$createdLocally$ && $JSCompiler_StaticMethods_openVirtualConnection$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$o$, $sink$jscomp$43$$, $clientId$jscomp$27_sourceUrn$jscomp$34$$ || $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$w$, 
  $session$jscomp$30$$.transportId, !($presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$ && $presentationUrl$jscomp$8_sessionRecord$jscomp$inline_1067$$.$o$));
  $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$.offTheRecord = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$.offTheRecord;
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$ = $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$.$a$;
  $JSCompiler_StaticMethods_updateLocalState_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$, $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$);
  $JSCompiler_StaticMethods_markForDisplay_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$, $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$);
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$;
  $opt_tabId$jscomp$9_sessionId$jscomp$inline_1075$$ = $session$jscomp$30$$.sessionId;
  $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$ = $session$jscomp$30$$.appId;
  ("0F5096E8" == $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$ || "85CDB22F" == $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$) && $opt_tabId$jscomp$9_sessionId$jscomp$inline_1075$$ && $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$.$mirrorInitData$ && ($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$.$mirrorInitData$.sessionId = 
  $opt_tabId$jscomp$9_sessionId$jscomp$inline_1075$$);
  !$mr$cast$ApiDataUtils$hasNamespace$$($session$jscomp$30$$) || null !== $session$jscomp$30$$ && $goog$array$contains$$($mr$cast$ApiDataUtils$MULTIZONE_APP_IDS$$, $session$jscomp$30$$.appId) || ($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$.customControllerPath = "cast_route_details.html?" + ["sessionId=" + $opt_tabId$jscomp$9_sessionId$jscomp$inline_1075$$, "appId=" + $appId$jscomp$inline_1076_presentationId$jscomp$13_routeId$jscomp$36$$].join("&"));
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addRoute$self$jscomp$inline_1070_opt_origin$jscomp$5_route$jscomp$inline_1073_routeIds$jscomp$2$$.description = $session$jscomp$30$$.statusText || $session$jscomp$30$$.displayName;
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$ ? $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteUpdated$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$, $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$) : 
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$b$.$onRouteAdded$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$, $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$);
  $JSCompiler_StaticMethods_updateKeepAliveRequest_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$);
  if ($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$ = $clientId$jscomp$27_sourceUrn$jscomp$34$$) {
    $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$ = $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$, $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$ = $clientId$jscomp$27_sourceUrn$jscomp$34$$, $goog$array$contains$$($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$.$b$, 
    $clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$) ? $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$ = !1 : ($JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$.$b$.push($clientId$jscomp$inline_1079_record$jscomp$inline_1068_sessionRecord$jscomp$12_sinkId$jscomp$inline_1066$$), 
    $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$ = !0);
  }
  $JSCompiler_StaticMethods_mr_cast_SessionRecord_prototype$addClient$self$jscomp$inline_1078_JSCompiler_temp$jscomp$147_opt_route$jscomp$1$$ && ($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$h$, $JSCompiler_StaticMethods_sendToApi$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$.$b$, 
  $clientId$jscomp$27_sourceUrn$jscomp$34$$, new $mr$cast$InternalMessage$$("new_session", $session$jscomp$30$$)), $JSCompiler_StaticMethods_queryMediaStatus_$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$self_JSCompiler_StaticMethods_onNewSession$self$jscomp$inline_1081$$, $session$jscomp$30$$, $sink$jscomp$43$$));
  return $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$addSession$self$jscomp$inline_1064_route$jscomp$20$$;
};
$mr$CastProvider$$.prototype.terminateRoute = function($clientRecord$jscomp$9_routeId$jscomp$37$$) {
  var $$jscomp$this$jscomp$71$$ = this, $route$jscomp$21$$ = this.$f$.get($clientRecord$jscomp$9_routeId$jscomp$37$$);
  if (!$route$jscomp$21$$) {
    return Promise.reject(new $mr$RouteRequestError$$(3, "Route in Cast provider not found for routeId  " + $clientRecord$jscomp$9_routeId$jscomp$37$$));
  }
  var $sessionRecord$jscomp$13$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$(this.$g$, $clientRecord$jscomp$9_routeId$jscomp$37$$);
  if (!$sessionRecord$jscomp$13$$) {
    return $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$(this, $clientRecord$jscomp$9_routeId$jscomp$37$$, !0), Promise.resolve();
  }
  var $sessionId$jscomp$35$$ = $sessionRecord$jscomp$13$$.session.sessionId, $sink$jscomp$44$$ = this.$a$.$b$($route$jscomp$21$$.sinkId);
  if (!$sink$jscomp$44$$) {
    return $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$(this.$h$, $sessionId$jscomp$35$$), Promise.resolve();
  }
  ($clientRecord$jscomp$9_routeId$jscomp$37$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$$(this.$j$, $clientRecord$jscomp$9_routeId$jscomp$37$$)) && $JSCompiler_StaticMethods_sendReceiverAction$$(this.$h$, $clientRecord$jscomp$9_routeId$jscomp$37$$.clientId, $sink$jscomp$44$$, chrome.cast.$ReceiverAction$.STOP);
  $mr$CastAnalytics$recordSessionEndType$$(0);
  return new Promise(function($clientRecord$jscomp$9_routeId$jscomp$37$$) {
    var $route$jscomp$21$$ = function() {
      $JSCompiler_StaticMethods_removeSession$$($$jscomp$this$jscomp$71$$.$h$, $sink$jscomp$44$$.getId());
      $clientRecord$jscomp$9_routeId$jscomp$37$$();
    };
    $$jscomp$this$jscomp$71$$.$B$.sendRequest(new $mr$cast$StopSessionRequest$$($sessionId$jscomp$35$$), $sink$jscomp$44$$, $mr$cast$Namespace$Cast$RECEIVER$$).then($route$jscomp$21$$, $route$jscomp$21$$);
  });
};
var $JSCompiler_StaticMethods_findLocalRouteByAppId_$$ = function($JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$, $presentationUrl$jscomp$9$$) {
  var $route$jscomp$22$$ = null;
  $goog$iter$some$$($JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$.$f$.$__iterator__$(!1), function($clientId$jscomp$28_sessionRecord$jscomp$14$$) {
    if (!$clientId$jscomp$28_sessionRecord$jscomp$14$$.$createdLocally$) {
      return !1;
    }
    var $clientRecord$jscomp$10$$ = $JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$.$a$.$b$($clientId$jscomp$28_sessionRecord$jscomp$14$$.sinkId);
    if (!$clientRecord$jscomp$10$$ || !$JSCompiler_StaticMethods_isSameAppId$$($presentationUrl$jscomp$9$$, $JSCompiler_StaticMethods_preprocessUrn_$$($clientId$jscomp$28_sessionRecord$jscomp$14$$.mediaSource, $clientRecord$jscomp$10$$))) {
      return !1;
    }
    $route$jscomp$22$$ = $clientId$jscomp$28_sessionRecord$jscomp$14$$;
    return !0;
  });
  if (!$route$jscomp$22$$ || !$route$jscomp$22$$.mediaSource) {
    return null;
  }
  var $clientId$jscomp$28_sessionRecord$jscomp$14$$ = $mr$cast$PresentationUrl$getClientIdFromUrl$$($route$jscomp$22$$.mediaSource);
  if (!$clientId$jscomp$28_sessionRecord$jscomp$14$$) {
    return null;
  }
  var $clientRecord$jscomp$10$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$.$j$, $clientId$jscomp$28_sessionRecord$jscomp$14$$);
  return $clientRecord$jscomp$10$$ ? ($clientId$jscomp$28_sessionRecord$jscomp$14$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByClientId$$($JSCompiler_StaticMethods_findLocalRouteByAppId_$self$$.$g$, $clientId$jscomp$28_sessionRecord$jscomp$14$$)) ? {$clientRecord$:$clientRecord$jscomp$10$$, $sessionRecord$:$clientId$jscomp$28_sessionRecord$jscomp$14$$} : null : null;
}, $JSCompiler_StaticMethods_convertMirrorToCast_$$ = function($JSCompiler_StaticMethods_convertMirrorToCast_$self$$, $sourceUrn$jscomp$35$$, $origin$jscomp$8$$, $tabId$jscomp$22$$, $offTheRecord$jscomp$4$$, $timeoutMillis$jscomp$9$$, $opt_sinkId$$) {
  var $route$jscomp$23$$ = null;
  $goog$iter$some$$($JSCompiler_StaticMethods_convertMirrorToCast_$self$$.$f$.$__iterator__$(!1), function($JSCompiler_StaticMethods_convertMirrorToCast_$self$$) {
    var $sourceUrn$jscomp$35$$ = $JSCompiler_StaticMethods_convertMirrorToCast_$self$$.$mirrorInitData$;
    return $sourceUrn$jscomp$35$$ && null != $sourceUrn$jscomp$35$$.tabId && $sourceUrn$jscomp$35$$.tabId == $tabId$jscomp$22$$ && $mr$MediaSourceUtils$isTabMirrorSource$$($JSCompiler_StaticMethods_convertMirrorToCast_$self$$.mediaSource) ? ($route$jscomp$23$$ = $JSCompiler_StaticMethods_convertMirrorToCast_$self$$, !0) : !1;
  });
  if (!$route$jscomp$23$$) {
    return null;
  }
  var $createRoute$$ = function() {
    return $JSCompiler_StaticMethods_convertMirrorToCast_$self$$.createRoute($sourceUrn$jscomp$35$$, $opt_sinkId$$ || $route$jscomp$23$$.sinkId, "", $offTheRecord$jscomp$4$$, $timeoutMillis$jscomp$9$$, $origin$jscomp$8$$, null == $tabId$jscomp$22$$ ? void 0 : $tabId$jscomp$22$$);
  };
  return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_convertMirrorToCast_$self$$.terminateRoute($route$jscomp$23$$.id).then($createRoute$$, $createRoute$$));
};
$JSCompiler_prototypeAlias$$ = $mr$CastProvider$$.prototype;
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function($route$jscomp$24_sourceUrn$jscomp$36$$, $routeId$jscomp$38_routeUrn$jscomp$1_sessionRecord$jscomp$15$$, $presentationId$jscomp$14$$, $origin$jscomp$9$$, $tabId$jscomp$23$$) {
  if (!$mr$cast$PresentationUrl$createFromUrl$$($route$jscomp$24_sourceUrn$jscomp$36$$)) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Unsupported presentation URL"));
  }
  $routeId$jscomp$38_routeUrn$jscomp$1_sessionRecord$jscomp$15$$ = $mr$RouteUrn$create$$($routeId$jscomp$38_routeUrn$jscomp$1_sessionRecord$jscomp$15$$);
  $routeId$jscomp$38_routeUrn$jscomp$1_sessionRecord$jscomp$15$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$(this.$g$, $routeId$jscomp$38_routeUrn$jscomp$1_sessionRecord$jscomp$15$$.$a$);
  if (!$routeId$jscomp$38_routeUrn$jscomp$1_sessionRecord$jscomp$15$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No matching route"));
  }
  var $sink$jscomp$46$$ = this.$a$.$b$($routeId$jscomp$38_routeUrn$jscomp$1_sessionRecord$jscomp$15$$.sinkId);
  return $sink$jscomp$46$$ ? ($route$jscomp$24_sourceUrn$jscomp$36$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$(this, $route$jscomp$24_sourceUrn$jscomp$36$$, $sink$jscomp$46$$, $presentationId$jscomp$14$$, $routeId$jscomp$38_routeUrn$jscomp$1_sessionRecord$jscomp$15$$.session, $origin$jscomp$9$$, $tabId$jscomp$23$$)) ? $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$($route$jscomp$24_sourceUrn$jscomp$36$$) : $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Failed to create route")) : 
  $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No sink"));
};
$JSCompiler_prototypeAlias$$.joinRoute = function($route$jscomp$25_sourceUrn$jscomp$37$$, $presentationId$jscomp$15$$, $offTheRecord$jscomp$5$$, $promise$jscomp$17_sink$jscomp$47_timeoutMillis$jscomp$10$$, $origin$jscomp$10$$, $tabId$jscomp$24$$) {
  var $presentationUrl$jscomp$12$$ = $mr$cast$PresentationUrl$createFromUrl$$($route$jscomp$25_sourceUrn$jscomp$37$$);
  if (!$presentationUrl$jscomp$12$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Unsupported presentation URL"));
  }
  if ($presentationId$jscomp$15$$ == chrome.cast.$AUTO_JOIN_PRESENTATION_ID$) {
    a: {
      var $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$ = $JSCompiler_StaticMethods_findLocalRouteByAppId_$$(this, $presentationUrl$jscomp$12$$);
      if (!$routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$) {
        if (!this.$l$ || this.$l$.$clientRecord$.origin != $origin$jscomp$10$$ || this.$l$.$clientRecord$.tabId != $tabId$jscomp$24$$) {
          $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$ = null;
          break a;
        }
        $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$ = this.$l$;
      }
      switch($JSCompiler_StaticMethods_getAutoJoinPolicy$$($presentationUrl$jscomp$12$$)) {
        case chrome.cast.$AutoJoinPolicy$.PAGE_SCOPED:
          $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$ = null;
          break a;
        case chrome.cast.$AutoJoinPolicy$.ORIGIN_SCOPED:
          if ($origin$jscomp$10$$ != $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$.$clientRecord$.origin) {
            $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$ = null;
            break a;
          }
          break;
        case chrome.cast.$AutoJoinPolicy$.TAB_AND_ORIGIN_SCOPED:
          if ($origin$jscomp$10$$ != $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$.$clientRecord$.origin || $tabId$jscomp$24$$ != $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$.$clientRecord$.tabId) {
            $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$ = null;
            break a;
          }
      }
      $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$ = $JSCompiler_StaticMethods_getRecordBySessionId$$(this.$g$, $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$.$sessionRecord$.session.sessionId);
    }
    if (!$routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$ && ($presentationUrl$jscomp$12$$.$f$ ? $presentationUrl$jscomp$12$$.$f$ : chrome.cast.$DefaultActionPolicy$.CREATE_SESSION) != chrome.cast.$DefaultActionPolicy$.CAST_THIS_TAB && ($promise$jscomp$17_sink$jscomp$47_timeoutMillis$jscomp$10$$ = $JSCompiler_StaticMethods_convertMirrorToCast_$$(this, $route$jscomp$25_sourceUrn$jscomp$37$$, $origin$jscomp$10$$, $tabId$jscomp$24$$, $offTheRecord$jscomp$5$$, $promise$jscomp$17_sink$jscomp$47_timeoutMillis$jscomp$10$$))) {
      return $promise$jscomp$17_sink$jscomp$47_timeoutMillis$jscomp$10$$;
    }
  } else {
    $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$ = $JSCompiler_StaticMethods_getRecordForJoin_$$(this, $presentationId$jscomp$15$$);
  }
  if (!$routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No matching route"));
  }
  if ($routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$.offTheRecord != $offTheRecord$jscomp$5$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Off the record mismatch"));
  }
  $promise$jscomp$17_sink$jscomp$47_timeoutMillis$jscomp$10$$ = this.$a$.$b$($routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$.sinkId);
  if (!$promise$jscomp$17_sink$jscomp$47_timeoutMillis$jscomp$10$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No sink"));
  }
  $route$jscomp$25_sourceUrn$jscomp$37$$ = $JSCompiler_StaticMethods_mr_CastProvider_prototype$addRoute$$(this, $route$jscomp$25_sourceUrn$jscomp$37$$, $promise$jscomp$17_sink$jscomp$47_timeoutMillis$jscomp$10$$, $presentationId$jscomp$15$$, $routeInfo$jscomp$inline_1090_sessionRecord$jscomp$16$$.session, $origin$jscomp$10$$, $tabId$jscomp$24$$);
  $route$jscomp$25_sourceUrn$jscomp$37$$.offTheRecord = $offTheRecord$jscomp$5$$;
  return $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$($route$jscomp$25_sourceUrn$jscomp$37$$);
};
$JSCompiler_prototypeAlias$$.detachRoute = function($routeId$jscomp$39$$) {
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$removeRoute$$(this, $routeId$jscomp$39$$, !1, !0);
};
$JSCompiler_prototypeAlias$$.$getMirrorSettings$ = function($sinkId$jscomp$28$$) {
  var $capabilities$jscomp$8_sink$jscomp$48$$ = this.$a$.$b$($sinkId$jscomp$28$$);
  if (!$capabilities$jscomp$8_sink$jscomp$48$$) {
    throw Error("Cannot mirror with no sink.");
  }
  var $settings$jscomp$3$$ = new $mr$mirror$Settings$$, $capabilities$jscomp$8_sink$jscomp$48$$ = $capabilities$jscomp$8_sink$jscomp$48$$.$a$;
  $capabilities$jscomp$8_sink$jscomp$48$$ & 1 || ($settings$jscomp$3$$.shouldCaptureVideo = !1);
  $capabilities$jscomp$8_sink$jscomp$48$$ & 4 || ($settings$jscomp$3$$.shouldCaptureAudio = !1);
  $settings$jscomp$3$$.shouldCaptureAudio && !$settings$jscomp$3$$.shouldCaptureVideo && ($settings$jscomp$3$$.minLatencyMillis = $settings$jscomp$3$$.maxLatencyMillis, $settings$jscomp$3$$.animatedLatencyMillis = $settings$jscomp$3$$.maxLatencyMillis);
  $settings$jscomp$3$$.senderSideLetterboxing = !0;
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$$($settings$jscomp$3$$);
  Object.freeze($settings$jscomp$3$$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, function() {
    return "Settings for " + $sinkId$jscomp$28$$ + ": " + $JSCompiler_StaticMethods_toJsonString$$($settings$jscomp$3$$);
  });
  if (!$settings$jscomp$3$$.shouldCaptureAudio && !$settings$jscomp$3$$.shouldCaptureVideo) {
    throw Error("Cannot start mirroring without video or audio capture");
  }
  return $settings$jscomp$3$$;
};
$JSCompiler_prototypeAlias$$.$getMirrorServiceName$ = function() {
  return "cast_streaming";
};
$JSCompiler_prototypeAlias$$.sendRouteMessage = function($clientRecord$jscomp$11_routeId$jscomp$40$$, $message$jscomp$94$$, $opt_extraInfo$jscomp$2$$) {
  var $$jscomp$this$jscomp$74$$ = this, $remoterRegistration$$ = this.$A$.get($clientRecord$jscomp$11_routeId$jscomp$40$$);
  if ($remoterRegistration$$) {
    return "string" !== typeof $message$jscomp$94$$ ? Promise.reject("String-typed message required") : $remoterRegistration$$.$remoter$.$processControlMessage$($message$jscomp$94$$);
  }
  if (!$opt_extraInfo$jscomp$2$$) {
    return new Promise(function($clientRecord$jscomp$11_routeId$jscomp$40$$, $opt_extraInfo$jscomp$2$$) {
      "string" !== typeof $message$jscomp$94$$ && $opt_extraInfo$jscomp$2$$(Error("Cannot send non-string messages via ApiHandler."));
      $opt_extraInfo$jscomp$2$$ = $$jscomp$this$jscomp$74$$.$h$.$b$;
      $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiMessenger$logger_$$, "Received: " + $message$jscomp$94$$);
      var $remoterRegistration$$ = JSON.parse($message$jscomp$94$$), $sessionRecord$jscomp$17$$ = $remoterRegistration$$.clientId;
      "client_connect" == $remoterRegistration$$.type ? ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($mr$cast$ApiMessenger$logger_$$, "App " + $sessionRecord$jscomp$17$$), ($remoterRegistration$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByClientId$$($opt_extraInfo$jscomp$2$$.$a$, $sessionRecord$jscomp$17$$)) ? ($remoterRegistration$$.$a$ = !0, ($opt_extraInfo$jscomp$2$$ = $JSCompiler_StaticMethods_mr_cast_PendingRequestsManager_prototype$removeRequest$$($opt_extraInfo$jscomp$2$$.$b$, 
      $remoterRegistration$$.routeId)) && $opt_extraInfo$jscomp$2$$.$resolver$.resolve(!0)) : $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiMessenger$logger_$$, "Client not found " + $sessionRecord$jscomp$17$$)) : $JSCompiler_StaticMethods_getRouteIdFromClientId_$$($opt_extraInfo$jscomp$2$$, $sessionRecord$jscomp$17$$) ? ($opt_extraInfo$jscomp$2$$ = $opt_extraInfo$jscomp$2$$.$f$[$remoterRegistration$$.type]) && $opt_extraInfo$jscomp$2$$($remoterRegistration$$) : $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($mr$cast$ApiMessenger$logger_$$, 
      "No route for " + $sessionRecord$jscomp$17$$);
      $clientRecord$jscomp$11_routeId$jscomp$40$$();
    });
  }
  var $sessionRecord$jscomp$17$$ = $JSCompiler_StaticMethods_mr_cast_SessionRecords_prototype$getRecordByRouteId$$(this.$g$, $clientRecord$jscomp$11_routeId$jscomp$40$$);
  if (!$sessionRecord$jscomp$17$$) {
    return Promise.reject(Error("Not managing the route " + $clientRecord$jscomp$11_routeId$jscomp$40$$));
  }
  var $sink$jscomp$49$$ = this.$a$.$b$($sessionRecord$jscomp$17$$.sinkId);
  if (!$sink$jscomp$49$$) {
    return Promise.reject(Error("Sink no longer accessible"));
  }
  var $sourceId$jscomp$9$$ = ($clientRecord$jscomp$11_routeId$jscomp$40$$ = $JSCompiler_StaticMethods_mr_cast_ClientRecords_prototype$getRecordByRouteId$$(this.$j$, $clientRecord$jscomp$11_routeId$jscomp$40$$)) ? $clientRecord$jscomp$11_routeId$jscomp$40$$.clientId : this.$w$;
  return new Promise(function($clientRecord$jscomp$11_routeId$jscomp$40$$) {
    $JSCompiler_StaticMethods_mr_cast_ChannelService_prototype$sendToReceiver$$($$jscomp$this$jscomp$74$$.$o$, $sink$jscomp$49$$, $opt_extraInfo$jscomp$2$$.namespace, $message$jscomp$94$$, $sourceId$jscomp$9$$, $sessionRecord$jscomp$17$$.session.transportId).then($clientRecord$jscomp$11_routeId$jscomp$40$$, $clientRecord$jscomp$11_routeId$jscomp$40$$);
  });
};
$JSCompiler_prototypeAlias$$.sendRouteBinaryMessage = function($routeId$jscomp$41$$, $message$jscomp$95$$) {
  var $remoterRegistration$jscomp$1$$ = this.$A$.get($routeId$jscomp$41$$);
  return $remoterRegistration$jscomp$1$$ ? $remoterRegistration$jscomp$1$$.$remoter$.$sendMessageToSink$($message$jscomp$95$$) : Promise.reject(Error("Route " + $routeId$jscomp$41$$ + " does not support sending binary data."));
};
$JSCompiler_prototypeAlias$$.$canRoute$ = function($appIds$jscomp$5_sourceUrn$jscomp$38$$, $sinkId$jscomp$30$$) {
  var $sink$jscomp$50$$ = this.$a$.$b$($sinkId$jscomp$30$$);
  if (!$sink$jscomp$50$$) {
    return !1;
  }
  $appIds$jscomp$5_sourceUrn$jscomp$38$$ = $JSCompiler_StaticMethods_preprocessUrn_$$($appIds$jscomp$5_sourceUrn$jscomp$38$$, $sink$jscomp$50$$);
  return ($appIds$jscomp$5_sourceUrn$jscomp$38$$ = $mr$cast$PresentationUrl$getAppIdsFromUrl$$($appIds$jscomp$5_sourceUrn$jscomp$38$$)) && 0 != $appIds$jscomp$5_sourceUrn$jscomp$38$$.length ? $goog$array$some$$($appIds$jscomp$5_sourceUrn$jscomp$38$$, function($appIds$jscomp$5_sourceUrn$jscomp$38$$) {
    return $mr$cast$SinkAppStatus$isAvailable$$($JSCompiler_StaticMethods_mr_cast_Sink_prototype$getAppStatus$$($sink$jscomp$50$$, $appIds$jscomp$5_sourceUrn$jscomp$38$$));
  }) : !1;
};
$JSCompiler_prototypeAlias$$.$canJoin$ = function($routeAppIds_sourceUrn$jscomp$39$$, $presentationId$jscomp$16$$, $route$jscomp$26$$) {
  var $displayedAppIds$$ = $JSCompiler_StaticMethods_getAppIdsFromUrn_$$($routeAppIds_sourceUrn$jscomp$39$$);
  return $displayedAppIds$$ && 0 != $displayedAppIds$$.length ? $presentationId$jscomp$16$$ == chrome.cast.$AUTO_JOIN_PRESENTATION_ID$ ? !0 : $route$jscomp$26$$ && $route$jscomp$26$$.mediaSource ? ($routeAppIds_sourceUrn$jscomp$39$$ = $mr$cast$PresentationUrl$getAppIdsFromUrl$$($route$jscomp$26$$.mediaSource), $goog$array$some$$($routeAppIds_sourceUrn$jscomp$39$$, function($routeAppIds_sourceUrn$jscomp$39$$) {
    return $goog$array$contains$$($displayedAppIds$$, $routeAppIds_sourceUrn$jscomp$39$$);
  })) : void 0 == $presentationId$jscomp$16$$ || $JSCompiler_StaticMethods_getRecordForJoin_$$(this, $presentationId$jscomp$16$$) ? !0 : !1 : !1;
};
var $JSCompiler_StaticMethods_preprocessUrn_$$ = function($appInfo$jscomp$8_sourceUrn$jscomp$40$$, $sink$jscomp$51$$, $opt_timeoutMillis$jscomp$6$$) {
  return $mr$MediaSourceUtils$isMirrorSource$$($appInfo$jscomp$8_sourceUrn$jscomp$40$$) || $mr$MediaSourceUtils$isPresentationSource$$($appInfo$jscomp$8_sourceUrn$jscomp$40$$) ? ($appInfo$jscomp$8_sourceUrn$jscomp$40$$ = {appId:0 == ($sink$jscomp$51$$.$a$ & 1) ? "85CDB22F" : "0F5096E8", capabilities:$mr$cast$ApiDataUtils$capabilitiesToApi$$($sink$jscomp$51$$.$a$)}, (new $mr$cast$PresentationUrl$$([$appInfo$jscomp$8_sourceUrn$jscomp$40$$], void 0, void 0, void 0, $opt_timeoutMillis$jscomp$6$$)).toString()) : 
  $appInfo$jscomp$8_sourceUrn$jscomp$40$$;
}, $JSCompiler_StaticMethods_getAppIdsFromUrn_$$ = function($sourceAppIds_sourceUrn$jscomp$41$$) {
  var $appIds$jscomp$6$$ = [];
  if ($mr$MediaSourceUtils$isMirrorSource$$($sourceAppIds_sourceUrn$jscomp$41$$) || $mr$MediaSourceUtils$isPresentationSource$$($sourceAppIds_sourceUrn$jscomp$41$$)) {
    var $currentOS$$ = $mr$PlatformUtils$getCurrentOS$$();
    $mr$MediaSourceUtils$isDesktopMirrorSource$$($sourceAppIds_sourceUrn$jscomp$41$$) && "ChromeOS" != $currentOS$$ && "Windows" != $currentOS$$ || $appIds$jscomp$6$$.push("85CDB22F");
    $appIds$jscomp$6$$.push("0F5096E8");
  } else {
    ($sourceAppIds_sourceUrn$jscomp$41$$ = $mr$cast$PresentationUrl$getAppIdsFromUrl$$($sourceAppIds_sourceUrn$jscomp$41$$)) && ($appIds$jscomp$6$$ = $goog$array$concat$$($appIds$jscomp$6$$, $sourceAppIds_sourceUrn$jscomp$41$$));
  }
  return $appIds$jscomp$6$$;
}, $JSCompiler_StaticMethods_getBroadcastRequestFromUrn_$$ = function($appIds$jscomp$7_sourceUrn$jscomp$43$$) {
  var $broadcastMessage$jscomp$1_presentationUrl$jscomp$14$$ = $mr$cast$PresentationUrl$createFromUrl$$($appIds$jscomp$7_sourceUrn$jscomp$43$$);
  if (!$broadcastMessage$jscomp$1_presentationUrl$jscomp$14$$) {
    return null;
  }
  $appIds$jscomp$7_sourceUrn$jscomp$43$$ = $JSCompiler_StaticMethods_getAppIdsFromUrn_$$($appIds$jscomp$7_sourceUrn$jscomp$43$$);
  var $broadcastNamespace$jscomp$1$$ = $broadcastMessage$jscomp$1_presentationUrl$jscomp$14$$.$l$ || "", $broadcastMessage$jscomp$1_presentationUrl$jscomp$14$$ = $broadcastMessage$jscomp$1_presentationUrl$jscomp$14$$.$j$;
  return $broadcastNamespace$jscomp$1$$ && $broadcastMessage$jscomp$1_presentationUrl$jscomp$14$$ ? new $mr$cast$BroadcastRequest$$($appIds$jscomp$7_sourceUrn$jscomp$43$$, $broadcastNamespace$jscomp$1$$, JSON.stringify($broadcastMessage$jscomp$1_presentationUrl$jscomp$14$$)) : null;
}, $JSCompiler_StaticMethods_getRecordForJoin_$$ = function($JSCompiler_StaticMethods_getRecordForJoin_$self$$, $presentationId$jscomp$17$$) {
  return 0 == $presentationId$jscomp$17$$.indexOf(chrome.cast.$PRESENTATION_ID_PREFIX$) ? $JSCompiler_StaticMethods_getRecordBySessionId$$($JSCompiler_StaticMethods_getRecordForJoin_$self$$.$g$, $presentationId$jscomp$17$$.substr(chrome.cast.$PRESENTATION_ID_PREFIX$.length)) : $JSCompiler_StaticMethods_getRecordByPresentationId$$($JSCompiler_StaticMethods_getRecordForJoin_$self$$.$g$, $presentationId$jscomp$17$$);
}, $JSCompiler_StaticMethods_onChannelMessage$$ = function($JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1107$$, $sink$jscomp$54_sinkId$jscomp$inline_1108$$, $message$jscomp$96$$) {
  var $JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1097$$ = $JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1107$$.$F$;
  if ($JSCompiler_StaticMethods_checkMonitorClients_$$($JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1097$$) && $mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$.hasOwnProperty($message$jscomp$96$$.namespace_)) {
    var $ipAddress$jscomp$inline_1100$$ = $sink$jscomp$54_sinkId$jscomp$inline_1108$$.$getIpAddress$();
    if ($ipAddress$jscomp$inline_1100$$) {
      var $newAppId$jscomp$inline_1103_payload$jscomp$inline_1101$$ = JSON.parse($message$jscomp$96$$.data);
      if ("RECEIVER_STATUS" === $newAppId$jscomp$inline_1103_payload$jscomp$inline_1101$$.type) {
        var $firstApp$jscomp$inline_1102_oldDeviceData$jscomp$inline_1105$$ = $newAppId$jscomp$inline_1103_payload$jscomp$inline_1101$$.status && $newAppId$jscomp$inline_1103_payload$jscomp$inline_1101$$.status.applications && $newAppId$jscomp$inline_1103_payload$jscomp$inline_1101$$.status.applications[0], $newSessionId$jscomp$inline_1104$$ = $newAppId$jscomp$inline_1103_payload$jscomp$inline_1101$$ = null;
        $firstApp$jscomp$inline_1102_oldDeviceData$jscomp$inline_1105$$ && ($firstApp$jscomp$inline_1102_oldDeviceData$jscomp$inline_1105$$.appId && ($newAppId$jscomp$inline_1103_payload$jscomp$inline_1101$$ = $firstApp$jscomp$inline_1102_oldDeviceData$jscomp$inline_1105$$.appId), $firstApp$jscomp$inline_1102_oldDeviceData$jscomp$inline_1105$$.sessionId && ($newSessionId$jscomp$inline_1104$$ = $firstApp$jscomp$inline_1102_oldDeviceData$jscomp$inline_1105$$.sessionId));
        $firstApp$jscomp$inline_1102_oldDeviceData$jscomp$inline_1105$$ = $JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1097$$.$b$.get($ipAddress$jscomp$inline_1100$$);
        $JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1097$$.$b$.set($ipAddress$jscomp$inline_1100$$, new $castApp$eventPage$Message$DeviceData$$($ipAddress$jscomp$inline_1100$$, $newAppId$jscomp$inline_1103_payload$jscomp$inline_1101$$, $newSessionId$jscomp$inline_1104$$));
        $firstApp$jscomp$inline_1102_oldDeviceData$jscomp$inline_1105$$ && $firstApp$jscomp$inline_1102_oldDeviceData$jscomp$inline_1105$$.appId === $newAppId$jscomp$inline_1103_payload$jscomp$inline_1101$$ || $JSCompiler_StaticMethods_broadcastDeviceList_$$($JSCompiler_StaticMethods_handleChannelMessage$self$jscomp$inline_1097$$);
      }
    }
  }
  $JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1107$$ = $JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1107$$.$h$;
  $sink$jscomp$54_sinkId$jscomp$inline_1108$$ = $sink$jscomp$54_sinkId$jscomp$inline_1108$$.getId();
  $mr$cast$Namespace$TRANSPOSED_CAST_NAMESPACES_$$.hasOwnProperty($message$jscomp$96$$.namespace_) ? $JSCompiler_StaticMethods_onReceiverCastProtocolMessage_$$($JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1107$$, $sink$jscomp$54_sinkId$jscomp$inline_1108$$, $message$jscomp$96$$) : $JSCompiler_StaticMethods_onReceiverAppMessage_$$($JSCompiler_StaticMethods_onChannelMessage$self_JSCompiler_StaticMethods_onReceiverMessage$self$jscomp$inline_1107$$, 
  $sink$jscomp$54_sinkId$jscomp$inline_1108$$, $message$jscomp$96$$);
};
$mr$CastProvider$$.prototype.$H$ = function($sessionRecord$jscomp$inline_1113_sink$jscomp$56_sinkId$jscomp$inline_1112$$) {
  if (0 == this.$a$.$a$.$getCount$()) {
    this.$b$.onSinkAvailabilityUpdated(this, 0);
  }
  var $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_1111$$ = this.$h$;
  $sessionRecord$jscomp$inline_1113_sink$jscomp$56_sinkId$jscomp$inline_1112$$ = $sessionRecord$jscomp$inline_1113_sink$jscomp$56_sinkId$jscomp$inline_1112$$.getId();
  ($sessionRecord$jscomp$inline_1113_sink$jscomp$56_sinkId$jscomp$inline_1112$$ = $JSCompiler_StaticMethods_getRecordBySinkId$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_1111$$.$a$, $sessionRecord$jscomp$inline_1113_sink$jscomp$56_sinkId$jscomp$inline_1112$$)) && $sessionRecord$jscomp$inline_1113_sink$jscomp$56_sinkId$jscomp$inline_1112$$.session && $JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$removeSessionById$$($JSCompiler_StaticMethods_mr_cast_ApiHandler_prototype$onSinkRemoved$self$jscomp$inline_1111$$, 
  $sessionRecord$jscomp$inline_1113_sink$jscomp$56_sinkId$jscomp$inline_1112$$.session.sessionId);
  $JSCompiler_StaticMethods_handleSinkUpdate$$(this.$F$);
  this.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
};
var $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$$ = function($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$self$$, $sink$jscomp$57$$) {
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$self$$.$D$.$mr_cast_AppDiscoveryService_prototype$scanSink$($sink$jscomp$57$$);
  $JSCompiler_StaticMethods_handleSinkUpdate$$($JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$self$$.$F$);
  $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
};
$JSCompiler_prototypeAlias$$ = $mr$CastProvider$$.prototype;
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "cast.Provider";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [new $mr$CastProvider$PersistentData_$$(this.$w$, $JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$f$), this.$l$)];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$8$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$8$$ && (this.$w$ = $savedData$jscomp$8$$.$f$, $JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$f$, $savedData$jscomp$8$$.$b$), this.$l$ = $savedData$jscomp$8$$.$a$);
};
$JSCompiler_prototypeAlias$$.searchSinks = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.provideSinks = function() {
};
var $JSCompiler_StaticMethods_updateKeepAliveRequest_$$ = function($JSCompiler_StaticMethods_updateKeepAliveRequest_$self$$) {
  $JSCompiler_StaticMethods_updateKeepAliveRequest_$self$$.$b$.$requestKeepAlive$($JSCompiler_StaticMethods_updateKeepAliveRequest_$self$$.$getStorageKey$(), $JSCompiler_StaticMethods_updateKeepAliveRequest_$self$$.$module$contents$mr$DialProvider_DialProvider_prototype$getRoutes$().some(function($JSCompiler_StaticMethods_updateKeepAliveRequest_$self$$) {
    return $JSCompiler_StaticMethods_updateKeepAliveRequest_$self$$.isLocal;
  }));
}, $JSCompiler_StaticMethods_registerRemoter$$ = function($registration$jscomp$1_remoter$$) {
  var $JSCompiler_StaticMethods_registerRemoter$self$$ = $module$exports$mr$mirror$cast$MediaRemoter$getCastProvider_$$(), $route$jscomp$29$$ = $registration$jscomp$1_remoter$$.$getRoute$();
  if ($JSCompiler_StaticMethods_registerRemoter$self$$.$A$.has($route$jscomp$29$$.id)) {
    throw Error("Cannot re-register for same route ID: " + $route$jscomp$29$$.id);
  }
  $goog$asserts$assert$$($route$jscomp$29$$.isLocal);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_registerRemoter$self$$.$logger_$, "Registering remoter with route: " + $route$jscomp$29$$.id);
  $registration$jscomp$1_remoter$$ = new $mr$CastProvider$RemoterRegistration_$$($registration$jscomp$1_remoter$$);
  $JSCompiler_StaticMethods_registerRemoter$self$$.$A$.set($route$jscomp$29$$.id, $registration$jscomp$1_remoter$$);
  $JSCompiler_StaticMethods_registerRemoter$self$$.$b$.$onRouteAdded$($JSCompiler_StaticMethods_registerRemoter$self$$, $route$jscomp$29$$);
  $JSCompiler_StaticMethods_updateKeepAliveRequest_$$($JSCompiler_StaticMethods_registerRemoter$self$$);
  $registration$jscomp$1_remoter$$.$a$ = function($registration$jscomp$1_remoter$$) {
    return $JSCompiler_StaticMethods_registerRemoter$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($JSCompiler_StaticMethods_registerRemoter$self$$, $route$jscomp$29$$.id, $registration$jscomp$1_remoter$$);
  };
  return $registration$jscomp$1_remoter$$;
}, $JSCompiler_StaticMethods_unregisterRemoter$$ = function($remoter$jscomp$1_route$jscomp$30$$) {
  var $JSCompiler_StaticMethods_unregisterRemoter$self$$ = $module$exports$mr$mirror$cast$MediaRemoter$getCastProvider_$$();
  $remoter$jscomp$1_route$jscomp$30$$ = $remoter$jscomp$1_route$jscomp$30$$.$getRoute$();
  var $registration$jscomp$2$$ = $JSCompiler_StaticMethods_unregisterRemoter$self$$.$A$.get($remoter$jscomp$1_route$jscomp$30$$.id);
  $registration$jscomp$2$$ && ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_unregisterRemoter$self$$.$logger_$, "Unregistering remoter with route: " + $remoter$jscomp$1_route$jscomp$30$$.id), $registration$jscomp$2$$.$a$ = null, $JSCompiler_StaticMethods_unregisterRemoter$self$$.$A$.delete($remoter$jscomp$1_route$jscomp$30$$.id), $JSCompiler_StaticMethods_unregisterRemoter$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$($JSCompiler_StaticMethods_unregisterRemoter$self$$, 
  $remoter$jscomp$1_route$jscomp$30$$), $JSCompiler_StaticMethods_updateKeepAliveRequest_$$($JSCompiler_StaticMethods_unregisterRemoter$self$$));
};
$mr$CastProvider$$.prototype.$logger_$ = $mr$Logger$getInstance$$("mr.CastProvider");
var $mr$CastProvider$RemoterRegistration_$$ = function($remoter$jscomp$2$$) {
  this.$remoter$ = $remoter$jscomp$2$$;
  this.$a$ = null;
}, $JSCompiler_StaticMethods_sendControlMessageToBrowser$$ = function($JSCompiler_StaticMethods_sendControlMessageToBrowser$self$$, $message$jscomp$98$$) {
  $JSCompiler_StaticMethods_sendControlMessageToBrowser$self$$.$a$ && $JSCompiler_StaticMethods_sendControlMessageToBrowser$self$$.$a$($message$jscomp$98$$);
}, $mr$CastProvider$PersistentData_$$ = function($senderId$jscomp$2$$, $routes$jscomp$1$$, $lastRemovedRouteInfo$$) {
  this.$f$ = $senderId$jscomp$2$$;
  this.$b$ = $routes$jscomp$1$$;
  this.$a$ = $lastRemovedRouteInfo$$;
};
var $mr$RouteMessage$$ = function($routeId$jscomp$44$$, $message$jscomp$99$$) {
  this.routeId = $routeId$jscomp$44$$;
  this.message = $message$jscomp$99$$;
}, $mr$RouteMessage$isBinary$$ = function($routeMessage$$) {
  return "string" != typeof $routeMessage$$.message;
};
var $mr$SinkSearchCriteria$$ = function($input$jscomp$9$$, $domain$jscomp$4$$) {
  this.input = $input$jscomp$9$$;
  this.domain = $domain$jscomp$4$$;
};
var $mr$ThrottlingSender$$ = function($interval$jscomp$4$$) {
  this.$A$ = $interval$jscomp$4$$;
  this.$g$ = this.$h$ = null;
}, $JSCompiler_StaticMethods_scheduleSend$$ = function($JSCompiler_StaticMethods_scheduleSend$self$$) {
  if (null == $JSCompiler_StaticMethods_scheduleSend$self$$.$g$) {
    if (null == $JSCompiler_StaticMethods_scheduleSend$self$$.$h$ || Date.now() - $JSCompiler_StaticMethods_scheduleSend$self$$.$h$ >= $JSCompiler_StaticMethods_scheduleSend$self$$.$A$) {
      $JSCompiler_StaticMethods_scheduleSend$self$$.$j$();
    } else {
      var $delay$jscomp$2$$ = Math.max($JSCompiler_StaticMethods_scheduleSend$self$$.$h$ + $JSCompiler_StaticMethods_scheduleSend$self$$.$A$ - Date.now(), 5);
      $JSCompiler_StaticMethods_scheduleSend$self$$.$g$ = setTimeout($JSCompiler_StaticMethods_scheduleSend$self$$.$j$.bind($JSCompiler_StaticMethods_scheduleSend$self$$), $delay$jscomp$2$$);
    }
  }
};
$mr$ThrottlingSender$$.prototype.$j$ = function() {
  null != this.$g$ && (clearTimeout(this.$g$), this.$g$ = null);
  this.$w$();
  this.$h$ = Date.now();
};
$mr$ThrottlingSender$$.prototype.$w$ = function() {
};
var $mr$RouteMessageSender$$ = function($providerManagerCallbacks$jscomp$1$$, $messageSizeKeepAliveThreshold$$) {
  $mr$ThrottlingSender$$.call(this, 20);
  this.$a$ = new Map;
  this.$b$ = new Set;
  this.$o$ = null;
  this.$l$ = this.$f$ = 0;
  this.$B$ = !1;
  this.$F$ = $providerManagerCallbacks$jscomp$1$$;
  this.$D$ = $messageSizeKeepAliveThreshold$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.RouteMessageSender");
};
$$jscomp$inherits$$($mr$RouteMessageSender$$, $mr$ThrottlingSender$$);
$mr$RouteMessageSender$$.prototype.init = function($sendMessagesCallback$$) {
  this.$o$ = $sendMessagesCallback$$;
  $mr$PersistentDataManager$register$$(this);
};
$mr$RouteMessageSender$$.prototype.stopListeningForRouteMessages = function($routeId$jscomp$46$$) {
  this.$b$.delete($routeId$jscomp$46$$);
};
$mr$RouteMessageSender$$.prototype.send = function($routeId$jscomp$47$$, $message$jscomp$100_routeMessage$jscomp$2$$) {
  var $queue$jscomp$1$$ = this.$a$.get($routeId$jscomp$47$$);
  $queue$jscomp$1$$ || ($queue$jscomp$1$$ = [], this.$a$.set($routeId$jscomp$47$$, $queue$jscomp$1$$));
  $message$jscomp$100_routeMessage$jscomp$2$$ = new $mr$RouteMessage$$($routeId$jscomp$47$$, $message$jscomp$100_routeMessage$jscomp$2$$);
  $queue$jscomp$1$$.push($message$jscomp$100_routeMessage$jscomp$2$$);
  50 < $queue$jscomp$1$$.length && 1 == $queue$jscomp$1$$.length % 50 && $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, function() {
    return "Message queue length is excessively large " + ("(" + $queue$jscomp$1$$.length + ") for route " + $routeId$jscomp$47$$);
  });
  this.$f$ += $mr$RouteMessage$isBinary$$($message$jscomp$100_routeMessage$jscomp$2$$) ? 0 : $message$jscomp$100_routeMessage$jscomp$2$$.message.length;
  $mr$RouteMessage$isBinary$$($message$jscomp$100_routeMessage$jscomp$2$$) && this.$l$++;
  $JSCompiler_StaticMethods_updateShouldKeepAlive_$$(this);
  this.$b$.has($routeId$jscomp$47$$) && $JSCompiler_StaticMethods_scheduleSend$$(this);
};
var $JSCompiler_StaticMethods_onMessagesRemoved_$$ = function($JSCompiler_StaticMethods_onMessagesRemoved_$self$$, $$jscomp$iter$4_messages$$) {
  if (0 != $$jscomp$iter$4_messages$$.length) {
    $$jscomp$iter$4_messages$$ = $$jscomp$makeIterator$$($$jscomp$iter$4_messages$$);
    for (var $$jscomp$key$message_message$jscomp$101$$ = $$jscomp$iter$4_messages$$.next(); !$$jscomp$key$message_message$jscomp$101$$.done; $$jscomp$key$message_message$jscomp$101$$ = $$jscomp$iter$4_messages$$.next()) {
      $$jscomp$key$message_message$jscomp$101$$ = $$jscomp$key$message_message$jscomp$101$$.value, $JSCompiler_StaticMethods_onMessagesRemoved_$self$$.$f$ -= $mr$RouteMessage$isBinary$$($$jscomp$key$message_message$jscomp$101$$) ? 0 : $$jscomp$key$message_message$jscomp$101$$.message.length, $mr$RouteMessage$isBinary$$($$jscomp$key$message_message$jscomp$101$$) && $JSCompiler_StaticMethods_onMessagesRemoved_$self$$.$l$--;
    }
  }
}, $JSCompiler_StaticMethods_updateShouldKeepAlive_$$ = function($JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$) {
  var $newShouldKeepAlive$$ = 0 < $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$l$ || $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$f$ > $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$D$;
  $newShouldKeepAlive$$ != $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$B$ && ($JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$B$ = $newShouldKeepAlive$$, $JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$F$.$requestKeepAlive$($JSCompiler_StaticMethods_updateShouldKeepAlive_$self$$.$getStorageKey$(), $newShouldKeepAlive$$));
};
$mr$RouteMessageSender$$.prototype.$w$ = function() {
  if (this.$o$) {
    for (var $$jscomp$iter$5$$ = $$jscomp$makeIterator$$(this.$b$), $$jscomp$key$routeId_routeId$jscomp$50$$ = $$jscomp$iter$5$$.next(); !$$jscomp$key$routeId_routeId$jscomp$50$$.done; $$jscomp$key$routeId_routeId$jscomp$50$$ = $$jscomp$iter$5$$.next()) {
      var $$jscomp$key$routeId_routeId$jscomp$50$$ = $$jscomp$key$routeId_routeId$jscomp$50$$.value, $queue$jscomp$4$$ = this.$a$.get($$jscomp$key$routeId_routeId$jscomp$50$$);
      $queue$jscomp$4$$ && 0 != $queue$jscomp$4$$.length && (this.$o$($$jscomp$key$routeId_routeId$jscomp$50$$, $queue$jscomp$4$$), $JSCompiler_StaticMethods_onMessagesRemoved_$$(this, $queue$jscomp$4$$), this.$a$.set($$jscomp$key$routeId_routeId$jscomp$50$$, []));
    }
    $JSCompiler_StaticMethods_updateShouldKeepAlive_$$(this);
  } else {
    this.$logger_$.error("sendMessagesCallback not set. Messages not delivered.");
  }
};
$mr$RouteMessageSender$$.prototype.$getStorageKey$ = function() {
  return "mr.RouteMessageSender";
};
$mr$RouteMessageSender$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  var $persistableQueues$$ = [].concat($$jscomp$arrayFromIterable$$(this.$a$.entries())).map(function($persistableQueues$$) {
    return [$persistableQueues$$[0], $persistableQueues$$[1].map(function($persistableQueues$$) {
      return $mr$Assertions$assertString$$($persistableQueues$$.message);
    })];
  });
  return [new $mr$RouteMessageSender$PersistentData_$$($persistableQueues$$, Array.from(this.$b$), this.$f$)];
};
$mr$RouteMessageSender$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$9$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$9$$) {
    this.$a$ = new Map;
    for (var $$jscomp$loop$74$$ = {}, $$jscomp$iter$6$$ = $$jscomp$makeIterator$$($savedData$jscomp$9$$.$b$), $$jscomp$key$entry_entry$jscomp$13_queue$jscomp$5$$ = $$jscomp$iter$6$$.next(); !$$jscomp$key$entry_entry$jscomp$13_queue$jscomp$5$$.done; $$jscomp$loop$74$$ = {routeId:$$jscomp$loop$74$$.routeId}, $$jscomp$key$entry_entry$jscomp$13_queue$jscomp$5$$ = $$jscomp$iter$6$$.next()) {
      $$jscomp$key$entry_entry$jscomp$13_queue$jscomp$5$$ = $$jscomp$key$entry_entry$jscomp$13_queue$jscomp$5$$.value, $$jscomp$loop$74$$.routeId = $$jscomp$key$entry_entry$jscomp$13_queue$jscomp$5$$[0], $$jscomp$key$entry_entry$jscomp$13_queue$jscomp$5$$ = $$jscomp$key$entry_entry$jscomp$13_queue$jscomp$5$$[1].map(function($savedData$jscomp$9$$) {
        return function($$jscomp$loop$74$$) {
          return new $mr$RouteMessage$$($savedData$jscomp$9$$.routeId, $mr$Assertions$assertString$$($$jscomp$loop$74$$));
        };
      }($$jscomp$loop$74$$)), this.$a$.set($$jscomp$loop$74$$.routeId, $$jscomp$key$entry_entry$jscomp$13_queue$jscomp$5$$);
    }
    this.$b$ = new Set($savedData$jscomp$9$$.$a$);
    this.$f$ = $savedData$jscomp$9$$.$f$;
  }
};
var $mr$RouteMessageSender$PersistentData_$$ = function($queues$$, $listeningRouteIds$$, $totalMessageSize$$) {
  this.$b$ = $queues$$;
  this.$a$ = $listeningRouteIds$$;
  this.$f$ = $totalMessageSize$$;
};
var $module$contents$mr$EventTarget_EventTarget$$ = function() {
  this.$a$ = [];
};
$module$contents$mr$EventTarget_EventTarget$$.prototype.listen = function($type$jscomp$173$$, $handler$jscomp$23$$, $target$jscomp$66$$) {
  this.$a$.push({type:$type$jscomp$173$$, $handler$:$handler$jscomp$23$$, target:$target$jscomp$66$$});
};
$module$contents$mr$EventTarget_EventTarget$$.prototype.$w$ = function($type$jscomp$174$$, $handler$jscomp$24$$, $target$jscomp$67$$) {
  var $index$jscomp$73$$ = this.$a$.findIndex(function($index$jscomp$73$$) {
    return $index$jscomp$73$$.type == $type$jscomp$174$$ && $index$jscomp$73$$.$handler$ == $handler$jscomp$24$$ && $index$jscomp$73$$.target == $target$jscomp$67$$;
  });
  -1 != $index$jscomp$73$$ && this.$a$.splice($index$jscomp$73$$, 1);
};
$module$contents$mr$EventTarget_EventTarget$$.prototype.dispatchEvent = function($event$jscomp$17$$) {
  this.$a$.forEach(function($sub$jscomp$1$$) {
    $sub$jscomp$1$$.type == $event$jscomp$17$$.type && Promise.resolve().then(function() {
      return $sub$jscomp$1$$.$handler$.call($sub$jscomp$1$$.target, $event$jscomp$17$$);
    });
  });
};
var $mr$MojoUtils$stringToMojoOrigin$$ = function($mojoOrigin_origin$jscomp$12$$) {
  var $port$jscomp$13_url$jscomp$74$$ = new URL($mojoOrigin_origin$jscomp$12$$);
  $mojoOrigin_origin$jscomp$12$$ = {};
  $mojoOrigin_origin$jscomp$12$$.scheme = $port$jscomp$13_url$jscomp$74$$.protocol.replace(":", "");
  $mojoOrigin_origin$jscomp$12$$.host = $port$jscomp$13_url$jscomp$74$$.hostname;
  $port$jscomp$13_url$jscomp$74$$ = $port$jscomp$13_url$jscomp$74$$.port ? Number.parseInt($port$jscomp$13_url$jscomp$74$$.port, 10) : 0;
  switch($mojoOrigin_origin$jscomp$12$$.scheme) {
    case "http":
      $mojoOrigin_origin$jscomp$12$$.port = $port$jscomp$13_url$jscomp$74$$ || 80;
      break;
    case "https":
      $mojoOrigin_origin$jscomp$12$$.port = $port$jscomp$13_url$jscomp$74$$ || 443;
      break;
    default:
      throw Error("Scheme must be http or https");
  }
  $mojoOrigin_origin$jscomp$12$$.suborigin = "";
  return new mojo.Origin($mojoOrigin_origin$jscomp$12$$);
};
var $module$contents$mr$Throttle_Throttle$$ = function($listener$jscomp$130$$, $interval$jscomp$5$$, $handler$jscomp$25$$) {
  this.$l$ = null != $handler$jscomp$25$$ ? $listener$jscomp$130$$.bind($handler$jscomp$25$$) : $listener$jscomp$130$$;
  this.$j$ = $interval$jscomp$5$$;
  this.$h$ = this.$o$.bind(this);
  this.$g$ = [];
  this.$a$ = !1;
  this.$b$ = null;
};
$module$contents$mr$Throttle_Throttle$$.prototype.$f$ = function($args$jscomp$21$$) {
  for (var $$jscomp$restParams$jscomp$7$$ = [], $$jscomp$restIndex$jscomp$7$$ = 0; $$jscomp$restIndex$jscomp$7$$ < arguments.length; ++$$jscomp$restIndex$jscomp$7$$) {
    $$jscomp$restParams$jscomp$7$$[$$jscomp$restIndex$jscomp$7$$ - 0] = arguments[$$jscomp$restIndex$jscomp$7$$];
  }
  this.$g$ = [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$7$$));
  null == this.$b$ ? $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$$(this) : this.$a$ = !0;
};
var $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$$ = function($JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$) {
  $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$.$b$ = setTimeout($JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$.$h$, $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$.$j$);
  $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$.$l$.apply($JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$, [].concat($$jscomp$arrayFromIterable$$($JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$self$$.$g$)));
};
$module$contents$mr$Throttle_Throttle$$.prototype.$o$ = function() {
  this.$b$ = null;
  this.$a$ && (this.$a$ = !1, $JSCompiler_StaticMethods_module$contents$mr$Throttle_Throttle_prototype$doAction_$$(this));
};
var $mr$NetUtils$IPV4_REGEXP_$$ = /^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/, $mr$NetUtils$IPV4_PRIVATE_ADDRESS_MASKS_$$ = [4278190080, 4293918720, 4294901760], $mr$NetUtils$IPV4_PRIVATE_ADDRESS_SUBNETS_$$ = [167772160, 2886729728, 3232235520], $mr$NetUtils$parseUrl$$ = function($url$jscomp$75$$) {
  var $a$jscomp$19$$ = document.createElement("a");
  $a$jscomp$19$$.href = $url$jscomp$75$$;
  return $a$jscomp$19$$;
};
var $mr$XhrUtils$logRawXhr$$ = function($logger$jscomp$12$$, $action$jscomp$2_logString$$, $method$jscomp$9$$, $xhr$jscomp$4$$) {
  $action$jscomp$2_logString$$ = "[" + $action$jscomp$2_logString$$ + "]: " + $method$jscomp$9$$ + " " + $xhr$jscomp$4$$.responseURL + " => " + $xhr$jscomp$4$$.status + " (" + $xhr$jscomp$4$$.statusText + ")";
  $mr$XhrUtils$isSuccess$$($xhr$jscomp$4$$) ? $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($logger$jscomp$12$$, $action$jscomp$2_logString$$) : $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($logger$jscomp$12$$, $action$jscomp$2_logString$$);
}, $mr$XhrUtils$isSuccess$$ = function($xhr$jscomp$5$$) {
  return 200 <= $xhr$jscomp$5$$.status && 299 >= $xhr$jscomp$5$$.status;
}, $mr$XhrUtils$parseXml$$ = function($xml_xmlText$$) {
  $xml_xmlText$$ = (new DOMParser).parseFromString($xml_xmlText$$, "text/xml");
  return $xml_xmlText$$.getElementsByTagNameNS("http://www.w3.org/1999/xhtml", "parsererror").length ? null : $xml_xmlText$$;
};
var $module$contents$mr$dial$Client_AppInfo$$ = function() {
  this.name = "unknown";
  this.state = "error";
  this.$a$ = null;
  this.allowStop = !0;
  this.resource = null;
  this.extraData = {};
}, $module$contents$mr$dial$Client_AppInfoNotFoundError$$ = function() {
  var $$jscomp$tmp$error$jscomp$3$$ = Error.call(this);
  this.message = $$jscomp$tmp$error$jscomp$3$$.message;
  "stack" in $$jscomp$tmp$error$jscomp$3$$ && (this.stack = $$jscomp$tmp$error$jscomp$3$$.stack);
};
$$jscomp$inherits$$($module$contents$mr$dial$Client_AppInfoNotFoundError$$, Error);
var $module$contents$mr$dial$Client_Client$$ = function($sink$jscomp$58$$, $JSCompiler_temp$jscomp$152_xhrManager$$) {
  void 0 === $JSCompiler_temp$jscomp$152_xhrManager$$ && ($module$contents$mr$dial$Client_Client$xhrManager_$$ || ($module$contents$mr$dial$Client_Client$xhrManager_$$ = new $module$contents$mr$XhrManager_XhrManager$$(10, 2000, 1)), $JSCompiler_temp$jscomp$152_xhrManager$$ = $module$contents$mr$dial$Client_Client$xhrManager_$$);
  $goog$asserts$assert$$(!!$sink$jscomp$58$$.$C$, "Receiver must have a DIAL app URL set.");
  this.$b$ = $sink$jscomp$58$$;
  this.$a$ = $JSCompiler_temp$jscomp$152_xhrManager$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.dial.Client");
};
$module$contents$mr$dial$Client_Client$$.prototype.launchApp = function($appName$jscomp$5$$, $postData$$) {
  var $$jscomp$this$jscomp$76$$ = this;
  return this.$a$.send($JSCompiler_StaticMethods_getAppUrl_$$(this, $appName$jscomp$5$$), "POST", $postData$$, {timeoutMillis:15000}).then(function($appName$jscomp$5$$) {
    return $JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$$($$jscomp$this$jscomp$76$$, "launchApp", "POST", $appName$jscomp$5$$);
  });
};
var $JSCompiler_StaticMethods_stopApp$$ = function($JSCompiler_StaticMethods_stopApp$self$$, $appName$jscomp$6$$) {
  return $JSCompiler_StaticMethods_stopApp$self$$.$a$.send($JSCompiler_StaticMethods_getAppUrl_$$($JSCompiler_StaticMethods_stopApp$self$$, $appName$jscomp$6$$), "DELETE").then(function($appName$jscomp$6$$) {
    return $JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$$($JSCompiler_StaticMethods_stopApp$self$$, "stopApp", "DELETE", $appName$jscomp$6$$);
  });
}, $JSCompiler_StaticMethods_getAppInfo$$ = function($JSCompiler_StaticMethods_getAppInfo$self$$, $appName$jscomp$7$$) {
  return $JSCompiler_StaticMethods_getAppInfo$self$$.$a$.send($JSCompiler_StaticMethods_getAppUrl_$$($JSCompiler_StaticMethods_getAppInfo$self$$, $appName$jscomp$7$$), "GET", void 0, {$numAttempts$:3}).then(function($appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$) {
    $mr$XhrUtils$logRawXhr$$($JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$, "GetAppInfo", "GET", $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$);
    if (!$mr$XhrUtils$isSuccess$$($appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$)) {
      if (404 == $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.status) {
        throw new $module$contents$mr$dial$Client_AppInfoNotFoundError$$;
      }
      throw Error("Response error: " + $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.status);
    }
    $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$ = $mr$XhrUtils$parseXml$$($appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.responseText);
    if (!$appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$) {
      throw $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$, "Invalid or empty response"), Error("Invalid or empty response");
    }
    var $installable$jscomp$inline_1131_service$jscomp$inline_1126$$ = $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.getElementsByTagName("service");
    if (!$installable$jscomp$inline_1131_service$jscomp$inline_1126$$ || 1 != $installable$jscomp$inline_1131_service$jscomp$inline_1126$$.length) {
      throw $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$, "Invalid GET response (invalid service)"), Error("Invalid GET response (invalid service)");
    }
    $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$ = new $module$contents$mr$dial$Client_AppInfo$$;
    for (var $i$jscomp$inline_1128$$ = 0, $l$jscomp$inline_1129$$ = $installable$jscomp$inline_1131_service$jscomp$inline_1126$$[0].childNodes.length; $i$jscomp$inline_1128$$ < $l$jscomp$inline_1129$$; $i$jscomp$inline_1128$$++) {
      var $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$ = $installable$jscomp$inline_1131_service$jscomp$inline_1126$$[0].childNodes[$i$jscomp$inline_1128$$];
      if ("state" == $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.nodeName) {
        a: {
          switch($JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.textContent) {
            case "running":
              $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$ = "running";
              break a;
            case "stopped":
              $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$ = "stopped";
              break a;
            default:
              $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$ = "error";
          }
        }
        $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.state = $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$;
      } else {
        "name" == $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.nodeName ? $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.name = $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.textContent : "link" == $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.nodeName ? $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.resource = $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.getAttribute("href") : "options" == 
        $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.nodeName ? $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.allowStop = "false" != $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.getAttribute("allowStop") : $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.extraData[$JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.nodeName] = $JSCompiler_inline_result$jscomp$4152_node$jscomp$inline_1130$$.innerHTML;
      }
    }
    if ("unknown" == $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.name) {
      throw $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$, "GET response missing name value"), Error("GET response missing name value");
    }
    if ($appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.name != $appName$jscomp$7$$) {
      throw $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$, "GET app name mismatch"), Error("GET app name mismatch");
    }
    if ("error" == $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.state) {
      throw $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$, "GET response missing state value"), Error("GET response missing state value");
    }
    if (($installable$jscomp$inline_1131_service$jscomp$inline_1126$$ = /installable=(.+)/.exec($appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.state)) && $installable$jscomp$inline_1131_service$jscomp$inline_1126$$[1]) {
      $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.state = "installable", $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.$a$ = $installable$jscomp$inline_1131_service$jscomp$inline_1126$$[1];
    } else {
      if ("running" != $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.state && "stopped" != $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$.state) {
        throw $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getAppInfo$self$$.$logger_$, "GET response has invalid state value"), Error("GET response has invalid state value");
      }
    }
    return $appInfo$jscomp$inline_1127_xhr$jscomp$8_xml$jscomp$inline_1125$$;
  });
}, $JSCompiler_StaticMethods_getAppUrl_$$ = function($JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$, $appName$jscomp$9$$) {
  $JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$ = $JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$.$b$.$C$;
  "/" != $JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$.charAt($JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$.length - 1) && ($JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$ += "/");
  return $JSCompiler_StaticMethods_getAppUrl_$self_appUrl$$ + $appName$jscomp$9$$;
}, $JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$$ = function($JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$self$$, $action$jscomp$4$$, $method$jscomp$11$$, $xhr$jscomp$10$$) {
  return new Promise(function($resolve$jscomp$32$$, $reject$jscomp$32$$) {
    $mr$XhrUtils$logRawXhr$$($JSCompiler_StaticMethods_module$contents$mr$dial$Client_Client_prototype$handleResponse_$self$$.$logger_$, $action$jscomp$4$$, $method$jscomp$11$$, $xhr$jscomp$10$$);
    $mr$XhrUtils$isSuccess$$($xhr$jscomp$10$$) ? $resolve$jscomp$32$$() : $reject$jscomp$32$$(Error($xhr$jscomp$10$$.statusText));
  });
}, $module$contents$mr$dial$Client_Client$xhrManager_$$ = null;
var $goog$crypt$byteArrayToHex$$ = function() {
  var $array$jscomp$15$$ = window.crypto.getRandomValues(new Uint8Array(16));
  return $goog$array$map$$($array$jscomp$15$$, function($array$jscomp$15$$) {
    $array$jscomp$15$$ = $array$jscomp$15$$.toString(16);
    return 1 < $array$jscomp$15$$.length ? $array$jscomp$15$$ : "0" + $array$jscomp$15$$;
  }).join("");
}, $goog$crypt$stringToUtf8ByteArray$$ = function($str$jscomp$105$$) {
  for (var $out$jscomp$3$$ = [], $p$jscomp$4$$ = 0, $i$jscomp$148$$ = 0; $i$jscomp$148$$ < $str$jscomp$105$$.length; $i$jscomp$148$$++) {
    var $c$jscomp$7$$ = $str$jscomp$105$$.charCodeAt($i$jscomp$148$$);
    128 > $c$jscomp$7$$ ? $out$jscomp$3$$[$p$jscomp$4$$++] = $c$jscomp$7$$ : (2048 > $c$jscomp$7$$ ? $out$jscomp$3$$[$p$jscomp$4$$++] = $c$jscomp$7$$ >> 6 | 192 : (55296 == ($c$jscomp$7$$ & 64512) && $i$jscomp$148$$ + 1 < $str$jscomp$105$$.length && 56320 == ($str$jscomp$105$$.charCodeAt($i$jscomp$148$$ + 1) & 64512) ? ($c$jscomp$7$$ = 65536 + (($c$jscomp$7$$ & 1023) << 10) + ($str$jscomp$105$$.charCodeAt(++$i$jscomp$148$$) & 1023), $out$jscomp$3$$[$p$jscomp$4$$++] = $c$jscomp$7$$ >> 18 | 240, $out$jscomp$3$$[$p$jscomp$4$$++] = 
    $c$jscomp$7$$ >> 12 & 63 | 128) : $out$jscomp$3$$[$p$jscomp$4$$++] = $c$jscomp$7$$ >> 12 | 224, $out$jscomp$3$$[$p$jscomp$4$$++] = $c$jscomp$7$$ >> 6 & 63 | 128), $out$jscomp$3$$[$p$jscomp$4$$++] = $c$jscomp$7$$ & 63 | 128);
  }
  return $out$jscomp$3$$;
}, $goog$crypt$utf8ByteArrayToString$$ = function($bytes$jscomp$2$$) {
  for (var $c3_u$$, $c2$$, $out$jscomp$4$$ = [], $pos$jscomp$2$$ = 0, $c$jscomp$8$$ = 0; $pos$jscomp$2$$ < $bytes$jscomp$2$$.length;) {
    var $c1$$ = $bytes$jscomp$2$$[$pos$jscomp$2$$++];
    if (128 > $c1$$) {
      $out$jscomp$4$$[$c$jscomp$8$$++] = String.fromCharCode($c1$$);
    } else {
      if (191 < $c1$$ && 224 > $c1$$) {
        $c2$$ = $bytes$jscomp$2$$[$pos$jscomp$2$$++], $out$jscomp$4$$[$c$jscomp$8$$++] = String.fromCharCode(($c1$$ & 31) << 6 | $c2$$ & 63);
      } else {
        if (239 < $c1$$ && 365 > $c1$$) {
          $c2$$ = $bytes$jscomp$2$$[$pos$jscomp$2$$++];
          $c3_u$$ = $bytes$jscomp$2$$[$pos$jscomp$2$$++];
          var $c4$$ = $bytes$jscomp$2$$[$pos$jscomp$2$$++];
          $c3_u$$ = (($c1$$ & 7) << 18 | ($c2$$ & 63) << 12 | ($c3_u$$ & 63) << 6 | $c4$$ & 63) - 65536;
          $out$jscomp$4$$[$c$jscomp$8$$++] = String.fromCharCode(55296 + ($c3_u$$ >> 10));
          $out$jscomp$4$$[$c$jscomp$8$$++] = String.fromCharCode(56320 + ($c3_u$$ & 1023));
        } else {
          $c2$$ = $bytes$jscomp$2$$[$pos$jscomp$2$$++], $c3_u$$ = $bytes$jscomp$2$$[$pos$jscomp$2$$++], $out$jscomp$4$$[$c$jscomp$8$$++] = String.fromCharCode(($c1$$ & 15) << 12 | ($c2$$ & 63) << 6 | $c3_u$$ & 63);
        }
      }
    }
  }
  return $out$jscomp$4$$.join("");
};
var $goog$crypt$base64$byteToCharMap_$$ = null, $goog$crypt$base64$charToByteMap_$$ = null, $goog$crypt$base64$HAS_NATIVE_DECODE_$$ = $goog$userAgent$GECKO$$ || $goog$userAgent$WEBKIT$$ && !$goog$userAgent$product$SAFARI$$ || $goog$userAgent$OPERA$$ || !$goog$userAgent$product$SAFARI$$ && !$goog$userAgent$IE$$ && "function" == typeof $goog$global$$.atob, $goog$crypt$base64$encodeByteArray$$ = function($input$jscomp$10$$) {
  $goog$asserts$assert$$($goog$isArrayLike$$($input$jscomp$10$$), "encodeByteArray takes an array as a parameter");
  $goog$crypt$base64$init_$$();
  for (var $byteToCharMap$$ = $goog$crypt$base64$byteToCharMap_$$, $output$jscomp$3$$ = [], $i$jscomp$150$$ = 0; $i$jscomp$150$$ < $input$jscomp$10$$.length; $i$jscomp$150$$ += 3) {
    var $byte1_outByte2$$ = $input$jscomp$10$$[$i$jscomp$150$$], $haveByte2$$ = $i$jscomp$150$$ + 1 < $input$jscomp$10$$.length, $byte2_outByte3$$ = $haveByte2$$ ? $input$jscomp$10$$[$i$jscomp$150$$ + 1] : 0, $haveByte3$$ = $i$jscomp$150$$ + 2 < $input$jscomp$10$$.length, $byte3_outByte4$$ = $haveByte3$$ ? $input$jscomp$10$$[$i$jscomp$150$$ + 2] : 0, $outByte1$$ = $byte1_outByte2$$ >> 2, $byte1_outByte2$$ = ($byte1_outByte2$$ & 3) << 4 | $byte2_outByte3$$ >> 4, $byte2_outByte3$$ = ($byte2_outByte3$$ & 
    15) << 2 | $byte3_outByte4$$ >> 6, $byte3_outByte4$$ = $byte3_outByte4$$ & 63;
    $haveByte3$$ || ($byte3_outByte4$$ = 64, $haveByte2$$ || ($byte2_outByte3$$ = 64));
    $output$jscomp$3$$.push($byteToCharMap$$[$outByte1$$], $byteToCharMap$$[$byte1_outByte2$$], $byteToCharMap$$[$byte2_outByte3$$], $byteToCharMap$$[$byte3_outByte4$$]);
  }
  return $output$jscomp$3$$.join("");
}, $goog$crypt$base64$decodeString$$ = function($input$jscomp$12$$) {
  if ($goog$crypt$base64$HAS_NATIVE_DECODE_$$) {
    return $goog$global$$.atob($input$jscomp$12$$);
  }
  var $output$jscomp$4$$ = "";
  $goog$crypt$base64$decodeStringInternal_$$($input$jscomp$12$$, function($input$jscomp$12$$) {
    $output$jscomp$4$$ += String.fromCharCode($input$jscomp$12$$);
  });
  return $output$jscomp$4$$;
}, $goog$crypt$base64$decodeStringToUint8Array$$ = function($input$jscomp$14$$) {
  $goog$asserts$assert$$(!$goog$userAgent$IE$$ || $goog$userAgent$isVersionOrHigher$$("10"), "Browser does not support typed arrays");
  var $output$jscomp$6$$ = new Uint8Array(Math.ceil(3 * $input$jscomp$14$$.length / 4)), $outLen$$ = 0;
  $goog$crypt$base64$decodeStringInternal_$$($input$jscomp$14$$, function($input$jscomp$14$$) {
    $output$jscomp$6$$[$outLen$$++] = $input$jscomp$14$$;
  });
  return $output$jscomp$6$$.subarray(0, $outLen$$);
}, $goog$crypt$base64$decodeStringInternal_$$ = function($input$jscomp$15$$, $pushByte$jscomp$3$$) {
  function $getByte$$($pushByte$jscomp$3$$) {
    for (; $nextCharIndex$$ < $input$jscomp$15$$.length;) {
      var $getByte$$ = $input$jscomp$15$$.charAt($nextCharIndex$$++), $byte1$jscomp$1$$ = $goog$crypt$base64$charToByteMap_$$[$getByte$$];
      if (null != $byte1$jscomp$1$$) {
        return $byte1$jscomp$1$$;
      }
      if (!$goog$string$isEmptyOrWhitespace$$($getByte$$)) {
        throw Error("Unknown base64 encoding at char: " + $getByte$$);
      }
    }
    return $pushByte$jscomp$3$$;
  }
  $goog$crypt$base64$init_$$();
  for (var $nextCharIndex$$ = 0;;) {
    var $byte1$jscomp$1$$ = $getByte$$(-1), $byte2$jscomp$1$$ = $getByte$$(0), $byte3$jscomp$1$$ = $getByte$$(64), $byte4$$ = $getByte$$(64);
    if (64 === $byte4$$ && -1 === $byte1$jscomp$1$$) {
      break;
    }
    $pushByte$jscomp$3$$($byte1$jscomp$1$$ << 2 | $byte2$jscomp$1$$ >> 4);
    64 != $byte3$jscomp$1$$ && ($pushByte$jscomp$3$$($byte2$jscomp$1$$ << 4 & 240 | $byte3$jscomp$1$$ >> 2), 64 != $byte4$$ && $pushByte$jscomp$3$$($byte3$jscomp$1$$ << 6 & 192 | $byte4$$));
  }
}, $goog$crypt$base64$init_$$ = function() {
  if (!$goog$crypt$base64$byteToCharMap_$$) {
    $goog$crypt$base64$byteToCharMap_$$ = {};
    $goog$crypt$base64$charToByteMap_$$ = {};
    for (var $i$jscomp$151$$ = 0; 65 > $i$jscomp$151$$; $i$jscomp$151$$++) {
      $goog$crypt$base64$byteToCharMap_$$[$i$jscomp$151$$] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt($i$jscomp$151$$), $goog$crypt$base64$charToByteMap_$$[$goog$crypt$base64$byteToCharMap_$$[$i$jscomp$151$$]] = $i$jscomp$151$$, 62 <= $i$jscomp$151$$ && ($goog$crypt$base64$charToByteMap_$$["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt($i$jscomp$151$$)] = $i$jscomp$151$$);
    }
  }
};
var $module$exports$mr$dial$MediaSource$$ = function($appName$jscomp$10$$, $launchParameter$$) {
  this.appName = $appName$jscomp$10$$;
  this.launchParameter = void 0 === $launchParameter$$ ? "" : $launchParameter$$;
}, $module$exports$mr$dial$MediaSource$create$$ = function($JSCompiler_temp$jscomp$155_sourceUri$jscomp$1$$) {
  if ($JSCompiler_temp$jscomp$155_sourceUri$jscomp$1$$.startsWith("urn:dial-multiscreen-org:dial:application:")) {
    var $questionMarkIndex$jscomp$inline_1134$$ = $JSCompiler_temp$jscomp$155_sourceUri$jscomp$1$$.indexOf("?"), $appName$jscomp$inline_1135$$ = $JSCompiler_temp$jscomp$155_sourceUri$jscomp$1$$.substring(42, 0 < $questionMarkIndex$jscomp$inline_1134$$ ? $questionMarkIndex$jscomp$inline_1134$$ : void 0);
    $JSCompiler_temp$jscomp$155_sourceUri$jscomp$1$$ = $appName$jscomp$inline_1135$$ && 0 < $appName$jscomp$inline_1135$$.length ? new $module$exports$mr$dial$MediaSource$$($appName$jscomp$inline_1135$$, 0 < $questionMarkIndex$jscomp$inline_1134$$ ? $JSCompiler_temp$jscomp$155_sourceUri$jscomp$1$$.substring($questionMarkIndex$jscomp$inline_1134$$ + 1) : void 0) : null;
  } else {
    $JSCompiler_temp$jscomp$155_sourceUri$jscomp$1$$ = $module$exports$mr$dial$MediaSource$parseUrl_$$($JSCompiler_temp$jscomp$155_sourceUri$jscomp$1$$);
  }
  return $JSCompiler_temp$jscomp$155_sourceUri$jscomp$1$$;
}, $module$exports$mr$dial$MediaSource$parseUrl_$$ = function($appName$jscomp$12_url$jscomp$77$$) {
  var $fragment$jscomp$4_postData$jscomp$1$$ = (new $goog$Uri$$($appName$jscomp$12_url$jscomp$77$$)).$f$;
  if (!$fragment$jscomp$4_postData$jscomp$1$$) {
    return null;
  }
  $appName$jscomp$12_url$jscomp$77$$ = ($appName$jscomp$12_url$jscomp$77$$ = $module$exports$mr$dial$MediaSource$APP_NAME_REGEX_$$.exec($fragment$jscomp$4_postData$jscomp$1$$)) ? $appName$jscomp$12_url$jscomp$77$$[1] : null;
  if (!$appName$jscomp$12_url$jscomp$77$$) {
    return null;
  }
  $appName$jscomp$12_url$jscomp$77$$ = decodeURIComponent($appName$jscomp$12_url$jscomp$77$$);
  if ($fragment$jscomp$4_postData$jscomp$1$$ = ($fragment$jscomp$4_postData$jscomp$1$$ = $module$exports$mr$dial$MediaSource$LAUNCH_PARAM_REGEX_$$.exec($fragment$jscomp$4_postData$jscomp$1$$)) ? $fragment$jscomp$4_postData$jscomp$1$$[1] : void 0) {
    try {
      $fragment$jscomp$4_postData$jscomp$1$$ = $goog$crypt$base64$decodeString$$($fragment$jscomp$4_postData$jscomp$1$$);
    } catch ($err$jscomp$26$$) {
      return $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($module$exports$mr$dial$MediaSource$logger_$$, "Invalid base64 encoded postData:" + $fragment$jscomp$4_postData$jscomp$1$$), null;
    }
  }
  return new $module$exports$mr$dial$MediaSource$$($appName$jscomp$12_url$jscomp$77$$, $fragment$jscomp$4_postData$jscomp$1$$);
}, $module$exports$mr$dial$MediaSource$logger_$$ = $mr$Logger$getInstance$$("mr.dial.MediaSource"), $module$exports$mr$dial$MediaSource$APP_NAME_REGEX_$$ = /__dialAppName__=([A-Za-z0-9-._~!$&'()*+,;=%]+)/, $module$exports$mr$dial$MediaSource$LAUNCH_PARAM_REGEX_$$ = /__dialPostData__=([A-Za-z0-9]+={0,2})/;
var $mr$dial$Activity$$ = function($route$jscomp$37$$, $appName$jscomp$13$$) {
  this.$mr_dial_Activity$route$ = $route$jscomp$37$$;
  this.appName = $appName$jscomp$13$$;
};
var $module$exports$mr$dial$ActivityRecords$$ = function($activityCallbacks$$) {
  this.$a$ = new Map;
  this.$b$ = $activityCallbacks$$;
};
$module$exports$mr$dial$ActivityRecords$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
$module$exports$mr$dial$ActivityRecords$$.prototype.clear = function() {
  this.$a$.clear();
};
$module$exports$mr$dial$ActivityRecords$$.prototype.add = function($activity$jscomp$3$$) {
  if (!this.$a$.get($activity$jscomp$3$$.$mr_dial_Activity$route$.id)) {
    this.$a$.set($activity$jscomp$3$$.$mr_dial_Activity$route$.id, $activity$jscomp$3$$);
    var $JSCompiler_StaticMethods_onActivityAdded$self$jscomp$inline_1137$$ = this.$b$;
    $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$($JSCompiler_StaticMethods_onActivityAdded$self$jscomp$inline_1137$$);
    $JSCompiler_StaticMethods_onActivityAdded$self$jscomp$inline_1137$$.$g$.$onRouteAdded$($JSCompiler_StaticMethods_onActivityAdded$self$jscomp$inline_1137$$, $activity$jscomp$3$$.$mr_dial_Activity$route$);
  }
};
var $JSCompiler_StaticMethods_getBySinkId$$ = function($$jscomp$iter$7_JSCompiler_StaticMethods_getBySinkId$self$$, $sinkId$jscomp$31$$) {
  $$jscomp$iter$7_JSCompiler_StaticMethods_getBySinkId$self$$ = $$jscomp$makeIterator$$($$jscomp$iter$7_JSCompiler_StaticMethods_getBySinkId$self$$.$a$);
  for (var $$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$ = $$jscomp$iter$7_JSCompiler_StaticMethods_getBySinkId$self$$.next(); !$$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$.done; $$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$ = $$jscomp$iter$7_JSCompiler_StaticMethods_getBySinkId$self$$.next()) {
    if ($$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$ = $$jscomp$makeIterator$$($$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$.value), $$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$.next(), $$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$ = $$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$.next().value, 
    $$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$.$mr_dial_Activity$route$.sinkId == $sinkId$jscomp$31$$) {
      return $$jscomp$destructuring$var4_$jscomp$key$$jscomp$destructuring$var3_activity$jscomp$4$$;
    }
  }
  return null;
}, $JSCompiler_StaticMethods_removeByRouteId$$ = function($JSCompiler_StaticMethods_removeByRouteId$self$$, $routeId$jscomp$59$$) {
  var $activity$jscomp$6$$ = $JSCompiler_StaticMethods_removeByRouteId$self$$.$a$.get($routeId$jscomp$59$$);
  $activity$jscomp$6$$ && ($JSCompiler_StaticMethods_removeByRouteId$self$$.$a$.delete($routeId$jscomp$59$$), $JSCompiler_StaticMethods_onActivityRemoved$$($JSCompiler_StaticMethods_removeByRouteId$self$$.$b$, $activity$jscomp$6$$));
}, $JSCompiler_StaticMethods_module$exports$mr$dial$ActivityRecords_prototype$getRoutes$$ = function($JSCompiler_StaticMethods_module$exports$mr$dial$ActivityRecords_prototype$getRoutes$self$$) {
  return Array.from($JSCompiler_StaticMethods_module$exports$mr$dial$ActivityRecords_prototype$getRoutes$self$$.$a$.values(), function($JSCompiler_StaticMethods_module$exports$mr$dial$ActivityRecords_prototype$getRoutes$self$$) {
    return $JSCompiler_StaticMethods_module$exports$mr$dial$ActivityRecords_prototype$getRoutes$self$$.$mr_dial_Activity$route$;
  });
};
$module$exports$mr$dial$ActivityRecords$$.prototype.$getStorageKey$ = function() {
  return "dial.ActivityRecords";
};
$module$exports$mr$dial$ActivityRecords$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [Array.from(this.$a$)];
};
$module$exports$mr$dial$ActivityRecords$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$10$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$10$$ && (this.$a$ = new Map($savedData$jscomp$10$$));
};
var $mr$DialAnalytics$DialRouteCreation$$ = {$FAILED_NO_SINK$:0, $ROUTE_CREATED$:1, $NO_APP_INFO$:2, $FAILED_LAUNCH_APP$:3}, $mr$DialAnalytics$DeviceDescriptionFailures$$ = {ERROR:0, $PARSE$:1, EMPTY:2}, $mr$DialAnalytics$recordCreateRoute$$ = function($value$jscomp$181$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Dial.Create.Route", $value$jscomp$181$$, $mr$DialAnalytics$DialRouteCreation$$);
};
var $mr$dial$DeviceDescription$$ = function() {
  this.$a$ = this.modelName = this.deviceType = this.expireTimeMillis = this.fetchTimeMillis = this.appUrl = this.ipAddress = this.friendlyName = this.deviceLabel = this.uniqueId = null;
}, $JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$$ = function($JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$) {
  if ($JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.deviceLabel) {
    if ($JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.uniqueId) {
      if ($JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.friendlyName) {
        if ($JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.ipAddress) {
          if ($JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.appUrl) {
            if ($JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.fetchTimeMillis) {
              if ($JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.expireTimeMillis) {
                var $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ = $JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.ipAddress;
                $JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$ = $mr$NetUtils$parseUrl$$($JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.appUrl);
                $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ = "http:" == $JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.protocol && $JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$self_href$jscomp$inline_1142$$.hostname == $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ ? 
                null : "Invalid appUrl";
              } else {
                $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ = "Missing expireTimeMillis";
              }
            } else {
              $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ = "Missing fetchTimeMillis";
            }
          } else {
            $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ = "Missing appUrl";
          }
        } else {
          $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ = "Missing ipAddress";
        }
      } else {
        $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ = "Missing friendlyName";
      }
    } else {
      $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ = "Missing uniqueId";
    }
  } else {
    $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$ = "Missing deviceLabel";
  }
  return $JSCompiler_temp$jscomp$159_JSCompiler_temp$jscomp$160_JSCompiler_temp$jscomp$161_JSCompiler_temp$jscomp$162_JSCompiler_temp$jscomp$163_JSCompiler_temp$jscomp$164_JSCompiler_temp$jscomp$165_ipAddress$jscomp$inline_1141$$;
};
$mr$dial$DeviceDescription$$.prototype.toString = function() {
  return JSON.stringify(this, function($key$jscomp$131$$, $value$jscomp$183$$) {
    return "string" === typeof $value$jscomp$183$$ && $value$jscomp$183$$.startsWith("uuid:") ? "***" : $value$jscomp$183$$;
  });
};
var $mr$dial$DeviceDescription$fromJson$$ = function($json$jscomp$2$$) {
  var $description$jscomp$14$$ = new $mr$dial$DeviceDescription$$;
  $description$jscomp$14$$.uniqueId = $json$jscomp$2$$.uniqueId;
  $description$jscomp$14$$.deviceLabel = $json$jscomp$2$$.deviceLabel;
  $description$jscomp$14$$.friendlyName = $json$jscomp$2$$.friendlyName;
  $description$jscomp$14$$.ipAddress = $json$jscomp$2$$.ipAddress;
  $description$jscomp$14$$.appUrl = $json$jscomp$2$$.appUrl;
  $description$jscomp$14$$.fetchTimeMillis = $json$jscomp$2$$.fetchTimeMillis;
  $description$jscomp$14$$.expireTimeMillis = $json$jscomp$2$$.expireTimeMillis;
  $description$jscomp$14$$.deviceType = $json$jscomp$2$$.deviceType;
  $description$jscomp$14$$.modelName = $json$jscomp$2$$.modelName;
  $description$jscomp$14$$.$a$ = $json$jscomp$2$$.configId;
  return $description$jscomp$14$$;
}, $mr$dial$DeviceDescriptionService$$ = function($JSCompiler_temp$jscomp$156_accessXhrManager$$) {
  void 0 === $JSCompiler_temp$jscomp$156_accessXhrManager$$ && ($mr$dial$DeviceDescriptionService$accessXhrManager_$$ || ($mr$dial$DeviceDescriptionService$accessXhrManager_$$ = new $module$contents$mr$XhrManager_XhrManager$$(10, 3000, 2)), $JSCompiler_temp$jscomp$156_accessXhrManager$$ = $mr$dial$DeviceDescriptionService$accessXhrManager_$$);
  this.$a$ = new Map;
  this.$b$ = new Map;
  this.$f$ = new Map;
  this.$g$ = $JSCompiler_temp$jscomp$156_accessXhrManager$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.dial.DeviceDescriptionService");
  $mr$PersistentDataManager$register$$(this);
};
$mr$dial$DeviceDescriptionService$$.prototype.$getStorageKey$ = function() {
  return "mr.dial.DeviceDescriptionService";
};
$mr$dial$DeviceDescriptionService$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [Array.from(this.$a$)];
};
$mr$dial$DeviceDescriptionService$$.prototype.$loadSavedData$ = function() {
  var $$jscomp$iter$8_tempData$jscomp$1$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($$jscomp$iter$8_tempData$jscomp$1$$) {
    for (var $$jscomp$iter$8_tempData$jscomp$1$$ = $$jscomp$makeIterator$$($$jscomp$iter$8_tempData$jscomp$1$$), $$jscomp$key$$jscomp$destructuring$var5_deviceLabel$jscomp$1$$ = $$jscomp$iter$8_tempData$jscomp$1$$.next(); !$$jscomp$key$$jscomp$destructuring$var5_deviceLabel$jscomp$1$$.done; $$jscomp$key$$jscomp$destructuring$var5_deviceLabel$jscomp$1$$ = $$jscomp$iter$8_tempData$jscomp$1$$.next()) {
      var $$jscomp$destructuring$var6_descriptionJson$$ = $$jscomp$makeIterator$$($$jscomp$key$$jscomp$destructuring$var5_deviceLabel$jscomp$1$$.value), $$jscomp$key$$jscomp$destructuring$var5_deviceLabel$jscomp$1$$ = $$jscomp$destructuring$var6_descriptionJson$$.next().value, $$jscomp$destructuring$var6_descriptionJson$$ = $$jscomp$destructuring$var6_descriptionJson$$.next().value;
      null != $JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$$($mr$dial$DeviceDescription$fromJson$$($$jscomp$destructuring$var6_descriptionJson$$)) ? this.$logger_$.error("Dropping invalid description " + ($$jscomp$key$$jscomp$destructuring$var5_deviceLabel$jscomp$1$$ + " loaded from storage.")) : this.$a$.set($$jscomp$key$$jscomp$destructuring$var5_deviceLabel$jscomp$1$$, $mr$dial$DeviceDescription$fromJson$$($$jscomp$destructuring$var6_descriptionJson$$));
    }
  }
};
var $JSCompiler_StaticMethods_getDeviceDescription$$ = function($JSCompiler_StaticMethods_getDeviceDescription$self$$, $dialDevice$$) {
  var $JSCompiler_inline_result$jscomp$157_deviceDescription_entry$jscomp$inline_1147$$;
  if ($JSCompiler_inline_result$jscomp$157_deviceDescription_entry$jscomp$inline_1147$$ = $JSCompiler_StaticMethods_getDeviceDescription$self$$.$a$.get($dialDevice$$.deviceLabel)) {
    if ($JSCompiler_inline_result$jscomp$157_deviceDescription_entry$jscomp$inline_1147$$.$a$ != $dialDevice$$.configId || Date.now() >= $JSCompiler_inline_result$jscomp$157_deviceDescription_entry$jscomp$inline_1147$$.expireTimeMillis) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_getDeviceDescription$self$$.$logger_$, "Removing invalid entry " + $JSCompiler_inline_result$jscomp$157_deviceDescription_entry$jscomp$inline_1147$$.toString()), $JSCompiler_StaticMethods_getDeviceDescription$self$$.$a$.delete($dialDevice$$.deviceLabel), $JSCompiler_inline_result$jscomp$157_deviceDescription_entry$jscomp$inline_1147$$ = null;
    }
  } else {
    $JSCompiler_inline_result$jscomp$157_deviceDescription_entry$jscomp$inline_1147$$ = null;
  }
  return $JSCompiler_inline_result$jscomp$157_deviceDescription_entry$jscomp$inline_1147$$ ? ($mr$Analytics$recordEvent$$("MediaRouter.Dial.Device.Description.Cached"), Promise.resolve($JSCompiler_inline_result$jscomp$157_deviceDescription_entry$jscomp$inline_1147$$)) : $JSCompiler_StaticMethods_fetchDeviceDescription_$$($JSCompiler_StaticMethods_getDeviceDescription$self$$, $dialDevice$$);
}, $JSCompiler_StaticMethods_fetchDeviceDescription_$$ = function($JSCompiler_StaticMethods_fetchDeviceDescription_$self$$, $dialDevice$jscomp$2$$) {
  if (!$mr$dial$DeviceDescriptionService$isValidDeviceDescriptionUrl_$$($dialDevice$jscomp$2$$.deviceDescriptionUrl)) {
    return Promise.reject(Error("Invalid device description URL: " + $dialDevice$jscomp$2$$.deviceDescriptionUrl));
  }
  var $pendingRequest$jscomp$1$$ = $JSCompiler_StaticMethods_fetchDeviceDescription_$self$$.$b$.get($dialDevice$jscomp$2$$.deviceLabel);
  if ($pendingRequest$jscomp$1$$ && $pendingRequest$jscomp$1$$.deviceDescriptionUrl == $dialDevice$jscomp$2$$.deviceDescriptionUrl) {
    return $pendingRequest$jscomp$1$$.$resolver$.$a$;
  }
  var $resolver$jscomp$15$$ = new $mr$PromiseResolver$$, $pendingRequest$jscomp$1$$ = {deviceDescriptionUrl:$dialDevice$jscomp$2$$.deviceDescriptionUrl, $resolver$:$resolver$jscomp$15$$};
  $JSCompiler_StaticMethods_fetchDeviceDescription_$self$$.$b$.set($dialDevice$jscomp$2$$.deviceLabel, $pendingRequest$jscomp$1$$);
  chrome.dial.fetchDeviceDescription($dialDevice$jscomp$2$$.deviceLabel, function($pendingRequest$jscomp$1$$) {
    $JSCompiler_StaticMethods_fetchDeviceDescription_$self$$.$b$.delete($dialDevice$jscomp$2$$.deviceLabel);
    $pendingRequest$jscomp$1$$ ? (($pendingRequest$jscomp$1$$ = $JSCompiler_StaticMethods_parseDeviceDescription_$$($JSCompiler_StaticMethods_fetchDeviceDescription_$self$$, $dialDevice$jscomp$2$$, $pendingRequest$jscomp$1$$.deviceDescription, $pendingRequest$jscomp$1$$.appUrl)) ? ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_fetchDeviceDescription_$self$$.$logger_$, "Got device description for " + $pendingRequest$jscomp$1$$.deviceLabel), $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_fetchDeviceDescription_$self$$.$logger_$, 
    "... device description was: " + $pendingRequest$jscomp$1$$.toString()), null != $pendingRequest$jscomp$1$$.$a$ && ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_fetchDeviceDescription_$self$$.$logger_$, "Caching device description for " + $pendingRequest$jscomp$1$$.deviceLabel), $JSCompiler_StaticMethods_fetchDeviceDescription_$self$$.$a$.set($dialDevice$jscomp$2$$.deviceLabel, $pendingRequest$jscomp$1$$))) : ($mr$Analytics$recordEnum$$("MediaRouter.Dial.Device.Description.Failure", 
    1, $mr$DialAnalytics$DeviceDescriptionFailures$$), $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_fetchDeviceDescription_$self$$.$logger_$, "Invalid device description"), $pendingRequest$jscomp$1$$ = null), $pendingRequest$jscomp$1$$ ? $resolver$jscomp$15$$.resolve($pendingRequest$jscomp$1$$) : $resolver$jscomp$15$$.reject(Error("Failed to process device description"))) : $resolver$jscomp$15$$.reject($mr$RunTimeErrorUtils$getError$$("chrome.dial.fetchDeviceDescription"));
  });
  return $resolver$jscomp$15$$.$a$;
}, $JSCompiler_StaticMethods_parseDeviceDescription_$$ = function($JSCompiler_StaticMethods_parseDeviceDescription_$self$$, $dialDevice$jscomp$4_href$jscomp$2$$, $xmlText$jscomp$2$$, $appUrl$jscomp$2_error$jscomp$42$$) {
  var $xml$jscomp$2$$ = $mr$XhrUtils$parseXml$$($xmlText$jscomp$2$$);
  if (!$xml$jscomp$2$$) {
    return null;
  }
  var $description$jscomp$17$$ = new $mr$dial$DeviceDescription$$;
  $description$jscomp$17$$.fetchTimeMillis = Date.now();
  $description$jscomp$17$$.expireTimeMillis = $description$jscomp$17$$.fetchTimeMillis + 18E5;
  $description$jscomp$17$$.deviceLabel = $dialDevice$jscomp$4_href$jscomp$2$$.deviceLabel;
  $description$jscomp$17$$.$a$ = $dialDevice$jscomp$4_href$jscomp$2$$.configId;
  $dialDevice$jscomp$4_href$jscomp$2$$ = $mr$NetUtils$parseUrl$$($dialDevice$jscomp$4_href$jscomp$2$$.deviceDescriptionUrl);
  $description$jscomp$17$$.ipAddress = $dialDevice$jscomp$4_href$jscomp$2$$.hostname;
  $description$jscomp$17$$.deviceType = $mr$dial$DeviceDescriptionService$getNodeContent_$$($xml$jscomp$2$$, "deviceType");
  $description$jscomp$17$$.modelName = $mr$dial$DeviceDescriptionService$getNodeContent_$$($xml$jscomp$2$$, "modelName");
  $description$jscomp$17$$.friendlyName = $mr$dial$DeviceDescriptionService$getNodeContent_$$($xml$jscomp$2$$, "friendlyName");
  $description$jscomp$17$$.uniqueId = $mr$dial$DeviceDescriptionService$getNodeContent_$$($xml$jscomp$2$$, "UDN");
  !$description$jscomp$17$$.friendlyName && $description$jscomp$17$$.modelName && ($description$jscomp$17$$.friendlyName = $description$jscomp$17$$.modelName, $description$jscomp$17$$.uniqueId && ($description$jscomp$17$$.friendlyName += "[" + $description$jscomp$17$$.uniqueId.slice(-4) + "]"), $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_parseDeviceDescription_$self$$.$logger_$, "Fixed device description: created friendlyName from modelName."));
  $description$jscomp$17$$.appUrl = $appUrl$jscomp$2_error$jscomp$42$$;
  $appUrl$jscomp$2_error$jscomp$42$$ = $JSCompiler_StaticMethods_mr_dial_DeviceDescription_prototype$validate$$($description$jscomp$17$$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_parseDeviceDescription_$self$$.$logger_$, function() {
    return "Device description: " + $mr$dial$DeviceDescriptionService$scrubDeviceDescription_$$($xml$jscomp$2$$);
  });
  return $appUrl$jscomp$2_error$jscomp$42$$ ? ($JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_parseDeviceDescription_$self$$.$logger_$, function() {
    return "Device description failed to validate: " + $description$jscomp$17$$;
  }, $appUrl$jscomp$2_error$jscomp$42$$), null) : $description$jscomp$17$$;
}, $mr$dial$DeviceDescriptionService$getNodeContent_$$ = function($nodes_xmlDoc$$, $tagName$jscomp$13$$) {
  return ($nodes_xmlDoc$$ = $nodes_xmlDoc$$.getElementsByTagName($tagName$jscomp$13$$)) && 0 != $nodes_xmlDoc$$.length ? $nodes_xmlDoc$$[0].textContent : null;
}, $mr$dial$DeviceDescriptionService$scrubDeviceDescription_$$ = function($xmlDoc$jscomp$1$$) {
  var $scrub$$ = function($xmlDoc$jscomp$1$$) {
    for (var $scrub$$ = 0, $collection$$ = $xmlDoc$jscomp$1$$.length; $scrub$$ < $collection$$; $scrub$$++) {
      $xmlDoc$jscomp$1$$[$scrub$$].textContent = "***";
    }
  };
  $scrub$$($xmlDoc$jscomp$1$$.getElementsByTagName("UDN"));
  $scrub$$($xmlDoc$jscomp$1$$.getElementsByTagName("serialNumber"));
  return (new XMLSerializer).serializeToString($xmlDoc$jscomp$1$$);
}, $JSCompiler_StaticMethods_mr_dial_DeviceDescriptionService_prototype$checkAccess$$ = function($JSCompiler_StaticMethods_mr_dial_DeviceDescriptionService_prototype$checkAccess$self$$, $deviceDescriptionUrl$$) {
  var $resolver$jscomp$16$$ = $JSCompiler_StaticMethods_mr_dial_DeviceDescriptionService_prototype$checkAccess$self$$.$f$.get($deviceDescriptionUrl$$);
  if ($resolver$jscomp$16$$) {
    return $resolver$jscomp$16$$.$a$;
  }
  $resolver$jscomp$16$$ = new $mr$PromiseResolver$$;
  $JSCompiler_StaticMethods_mr_dial_DeviceDescriptionService_prototype$checkAccess$self$$.$f$.set($deviceDescriptionUrl$$, $resolver$jscomp$16$$);
  $JSCompiler_StaticMethods_mr_dial_DeviceDescriptionService_prototype$checkAccess$self$$.$g$.send($deviceDescriptionUrl$$, "GET").then(function($response$jscomp$10$$) {
    $JSCompiler_StaticMethods_mr_dial_DeviceDescriptionService_prototype$checkAccess$self$$.$f$.delete($deviceDescriptionUrl$$);
    $mr$XhrUtils$logRawXhr$$($JSCompiler_StaticMethods_mr_dial_DeviceDescriptionService_prototype$checkAccess$self$$.$logger_$, "checkAccess", "GET", $response$jscomp$10$$);
    $resolver$jscomp$16$$.resolve($mr$XhrUtils$isSuccess$$($response$jscomp$10$$));
  }, function() {
    $JSCompiler_StaticMethods_mr_dial_DeviceDescriptionService_prototype$checkAccess$self$$.$logger_$.error("Timed out checking access to device description URL.");
    $resolver$jscomp$16$$.resolve(!1);
  });
  return $resolver$jscomp$16$$.$a$;
}, $mr$dial$DeviceDescriptionService$isValidDeviceDescriptionUrl_$$ = function($JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$) {
  $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$ = $mr$NetUtils$parseUrl$$($JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$);
  var $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$;
  if ($JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$ = "http:" == $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$.protocol) {
    a: {
      b: {
        if (($JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$ = $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$.hostname.match($mr$NetUtils$IPV4_REGEXP_$$)) && 5 == $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$.length) {
          $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$ = [];
          for (var $i$jscomp$inline_4327$$ = 0; 4 > $i$jscomp$inline_4327$$; $i$jscomp$inline_4327$$++) {
            if ($JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$[$i$jscomp$inline_4327$$] = Number.parseInt($JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$[$i$jscomp$inline_4327$$ + 1], 10), 0 > $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$[$i$jscomp$inline_4327$$] || 255 < $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$[$i$jscomp$inline_4327$$]) {
              $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$ = null;
              break b;
            }
          }
          $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$ = $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$;
        } else {
          $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$ = null;
        }
      }
      if ($JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$) {
        for ($JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$ = ($JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$[0] << 24 | $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$[1] << 
        16 | $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$[2] << 8 | $JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$[0]) >>> 0, $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$ = 0; 3 > $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$; $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$++) {
          if (($JSCompiler_inline_result$jscomp$4150_addressValue$jscomp$inline_1158_deviceDescriptionUrl$jscomp$1_href$jscomp$4_matches$jscomp$inline_4325_parsedAddress$jscomp$inline_1157$$ & $mr$NetUtils$IPV4_PRIVATE_ADDRESS_MASKS_$$[$JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$]) >>> 0 == $mr$NetUtils$IPV4_PRIVATE_ADDRESS_SUBNETS_$$[$JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$]) {
            $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$ = !0;
            break a;
          }
        }
      }
      $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$ = !1;
    }
  }
  return $JSCompiler_temp$jscomp$151_i$jscomp$inline_1159_result$jscomp$inline_4326$$;
}, $mr$dial$DeviceDescriptionService$accessXhrManager_$$ = null;
var $mr$dial$EventListeners$dialOnDeviceListEventListener_$$ = null, $mr$dial$EventListeners$dialOnErrorEventListener_$$ = null, $mr$dial$EventListeners$getAllListeners$$ = function() {
  $mr$dial$EventListeners$dialOnDeviceListEventListener_$$ || ($mr$dial$EventListeners$dialOnDeviceListEventListener_$$ = new $mr$EventListener$$(3, "dial.DialOnDeviceListEventListener", "mr.dial.SinkDiscoveryService", chrome.dial.onDeviceList));
  $mr$dial$EventListeners$dialOnErrorEventListener_$$ || ($mr$dial$EventListeners$dialOnErrorEventListener_$$ = new $mr$EventListener$$(4, "dial.DialOnErrorEventListener", "mr.dial.SinkDiscoveryService", chrome.dial.onError));
  return [$mr$dial$EventListeners$dialOnDeviceListEventListener_$$, $mr$dial$EventListeners$dialOnErrorEventListener_$$];
};
var $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$ = function($sinkCallBacks$$, $ddService$$) {
  $ddService$$ = void 0 === $ddService$$ ? new $mr$dial$DeviceDescriptionService$$ : $ddService$$;
  this.$b$ = $sinkCallBacks$$;
  this.$l$ = $ddService$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.dial.SinkDiscoveryService");
  this.$a$ = new Map;
  this.$j$ = this.$h$ = !1;
  this.$f$ = {$availableDeviceCount$:0, $knownDeviceCount$:0};
  this.$g$ = 0;
};
$$jscomp$inherits$$($module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$, $mr$Module$$);
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
  $mr$Module$onModuleLoaded$$("mr.dial.SinkDiscoveryService", this);
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.start = function() {
  this.$h$ || ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Starting..."), this.$h$ = !0, $mr$dial$EventListeners$getAllListeners$$().forEach(function($listener$jscomp$131$$) {
    return $listener$jscomp$131$$.addListener();
  }), $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$refresh$$(this));
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.stop = function() {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Stopping...");
  this.$h$ = !1;
  $mr$dial$EventListeners$getAllListeners$$().forEach(function($listener$jscomp$132$$) {
    return $listener$jscomp$132$$.removeListener();
  });
};
var $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$refresh$$ = function($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$refresh$self$$) {
  $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$refresh$self$$.$h$ ? chrome.dial.discoverNow(function($result$jscomp$40$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$refresh$self$$.$logger_$, "chrome.dial.discoverNow = " + $result$jscomp$40$$);
  }) : $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$refresh$self$$.$logger_$, "Not started. Ignoring discover().");
}, $JSCompiler_StaticMethods_addSinks$$ = function($JSCompiler_StaticMethods_addSinks$self$$, $sinks$jscomp$7$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_addSinks$self$$.$logger_$, "addSinks returned " + $sinks$jscomp$7$$.length + " sinks");
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_addSinks$self$$.$logger_$, function() {
    return "....the list is: " + JSON.stringify($sinks$jscomp$7$$);
  });
  var $oldSinkIds$$ = new Set($JSCompiler_StaticMethods_addSinks$self$$.$a$.keys());
  $sinks$jscomp$7$$.forEach(function($sinks$jscomp$7$$) {
    var $removedSinks$$ = $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$processUniqueId$$($sinks$jscomp$7$$.sink_id), $sinkCount$$ = $sinks$jscomp$7$$.extra_data.dial_media_sink, $JSCompiler_StaticMethods_setIpAddress$self$jscomp$inline_4329_mojoSink$$ = $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$DISCOVERY_ONLY_RE_$$.test($sinkCount$$.model_name);
    $sinks$jscomp$7$$ = new $module$contents$mr$dial$Sink_DialSink$$($sinks$jscomp$7$$.name, $removedSinks$$);
    $sinks$jscomp$7$$.$u$ = $sinkCount$$.ip_address.address.join(".");
    $sinks$jscomp$7$$.$C$ = $sinkCount$$.app_url.url;
    $sinks$jscomp$7$$.$v$ = $sinkCount$$.model_name;
    $sinkCount$$ = $JSCompiler_StaticMethods_setSupportsAppAvailability$$($sinks$jscomp$7$$, !$JSCompiler_StaticMethods_setIpAddress$self$jscomp$inline_4329_mojoSink$$);
    $JSCompiler_StaticMethods_mayAddSink_$$($JSCompiler_StaticMethods_addSinks$self$$, $sinkCount$$);
    $oldSinkIds$$.delete($sinkCount$$.getId());
  });
  var $removedSinks$$ = [];
  $oldSinkIds$$.forEach(function($sinks$jscomp$7$$) {
    var $oldSinkIds$$ = $JSCompiler_StaticMethods_addSinks$self$$.$a$.get($sinks$jscomp$7$$);
    $removedSinks$$.push($oldSinkIds$$);
    $JSCompiler_StaticMethods_addSinks$self$$.$a$.delete($sinks$jscomp$7$$);
  });
  0 < $removedSinks$$.length && $JSCompiler_StaticMethods_addSinks$self$$.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$($removedSinks$$);
  var $sinkCount$$ = $JSCompiler_StaticMethods_addSinks$self$$.$a$.size;
  $JSCompiler_StaticMethods_recordDeviceCounts_$$($JSCompiler_StaticMethods_addSinks$self$$, $sinkCount$$, $sinkCount$$);
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.$o$ = function($deviceList$jscomp$4$$) {
  var $$jscomp$this$jscomp$84$$ = this;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "onDeviceList returned " + $deviceList$jscomp$4$$.length + " devices");
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, function() {
    return "....the list is: " + JSON.stringify($deviceList$jscomp$4$$);
  });
  this.$j$ = !1;
  var $unresolvedDeviceCount$$ = 0, $processingDevices$$ = [], $sinkIds$$ = new Set;
  $deviceList$jscomp$4$$.forEach(function($deviceList$jscomp$4$$) {
    $processingDevices$$.push($JSCompiler_StaticMethods_processDiscoveredDevice_$$($$jscomp$this$jscomp$84$$, $deviceList$jscomp$4$$).then(function($deviceList$jscomp$4$$) {
      $sinkIds$$.add($deviceList$jscomp$4$$.getId());
      $JSCompiler_StaticMethods_mayAddSink_$$($$jscomp$this$jscomp$84$$, $deviceList$jscomp$4$$);
    }, function() {
      $unresolvedDeviceCount$$++;
    }));
  });
  $mr$PromiseUtils$allSettled$$($processingDevices$$).then(function() {
    $$jscomp$this$jscomp$84$$.$j$ || $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$pruneInactive_$$($$jscomp$this$jscomp$84$$, $sinkIds$$).then(function() {
      var $deviceList$jscomp$4$$ = $$jscomp$this$jscomp$84$$.$a$.size;
      $JSCompiler_StaticMethods_recordDeviceCounts_$$($$jscomp$this$jscomp$84$$, $deviceList$jscomp$4$$, $deviceList$jscomp$4$$ + $unresolvedDeviceCount$$);
    });
  });
};
var $JSCompiler_StaticMethods_recordDeviceCounts_$$ = function($JSCompiler_StaticMethods_recordDeviceCounts_$self$$, $availableDeviceCount_deviceCounts$jscomp$inline_1166$$, $knownDeviceCount$$) {
  $JSCompiler_StaticMethods_recordDeviceCounts_$self$$.$f$ = {$availableDeviceCount$:$availableDeviceCount_deviceCounts$jscomp$inline_1166$$, $knownDeviceCount$:$knownDeviceCount$$};
  36E5 > Date.now() - $JSCompiler_StaticMethods_recordDeviceCounts_$self$$.$g$ || ($availableDeviceCount_deviceCounts$jscomp$inline_1166$$ = $JSCompiler_StaticMethods_recordDeviceCounts_$self$$.$f$, $mr$Analytics$recordSmallCount$$("MediaRouter.Dial.AvailableDevicesCount", $availableDeviceCount_deviceCounts$jscomp$inline_1166$$.$availableDeviceCount$), $mr$Analytics$recordSmallCount$$("MediaRouter.Dial.KnownDevicesCount", $availableDeviceCount_deviceCounts$jscomp$inline_1166$$.$knownDeviceCount$), 
  $JSCompiler_StaticMethods_recordDeviceCounts_$self$$.$g$ = Date.now());
}, $JSCompiler_StaticMethods_mayAddSink_$$ = function($JSCompiler_StaticMethods_mayAddSink_$self$$, $sink$jscomp$64$$) {
  if (!$JSCompiler_StaticMethods_mayAddSink_$self$$.$j$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mayAddSink_$self$$.$logger_$, "mayAddSink, id = " + $sink$jscomp$64$$.getId());
    var $sinkToUpdate$$ = $JSCompiler_StaticMethods_mayAddSink_$self$$.$a$.get($sink$jscomp$64$$.getId());
    $sinkToUpdate$$ ? $sinkToUpdate$$.update($sink$jscomp$64$$) && ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mayAddSink_$self$$.$logger_$, "Updated sink " + $sinkToUpdate$$.getId()), $JSCompiler_StaticMethods_mayAddSink_$self$$.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$($sinkToUpdate$$)) : ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mayAddSink_$self$$.$logger_$, function() {
      return "Adding new sink " + $sink$jscomp$64$$.getId() + ": " + ("name = " + $sink$jscomp$64$$.$m$.friendlyName + ($sink$jscomp$64$$.$u$ ? ", ip = " + $sink$jscomp$64$$.$u$ : "") + ($sink$jscomp$64$$.$v$ ? ", model = " + $sink$jscomp$64$$.$v$ : "") + ", apps = " + JSON.stringify($sink$jscomp$64$$.$s$));
    }), $JSCompiler_StaticMethods_mayAddSink_$self$$.$a$.set($sink$jscomp$64$$.getId(), $sink$jscomp$64$$), $JSCompiler_StaticMethods_mayAddSink_$self$$.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$($sink$jscomp$64$$));
  }
}, $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$pruneInactive_$$ = function($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$pruneInactive_$self$$, $activeSinkIds$$) {
  var $removedSinks$jscomp$1$$ = [], $promises$jscomp$8$$ = [];
  $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$pruneInactive_$self$$.$a$.forEach(function($sink$jscomp$65$$) {
    $activeSinkIds$$.has($sink$jscomp$65$$.getId()) || $promises$jscomp$8$$.push(($sink$jscomp$65$$.$G$ ? $JSCompiler_StaticMethods_mr_dial_DeviceDescriptionService_prototype$checkAccess$$($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$pruneInactive_$self$$.$l$, $sink$jscomp$65$$.$G$) : Promise.resolve(!1)).then(function($activeSinkIds$$) {
      $activeSinkIds$$ || ($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$pruneInactive_$self$$.$a$.delete($sink$jscomp$65$$.getId()), $removedSinks$jscomp$1$$.push($sink$jscomp$65$$));
    }));
  });
  return $mr$PromiseUtils$allSettled$$($promises$jscomp$8$$).then(function() {
    0 < $removedSinks$jscomp$1$$.length && $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$pruneInactive_$self$$.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$($removedSinks$jscomp$1$$);
  });
}, $JSCompiler_StaticMethods_processDiscoveredDevice_$$ = function($JSCompiler_StaticMethods_processDiscoveredDevice_$self$$, $device$jscomp$6$$) {
  return $JSCompiler_StaticMethods_getDeviceDescription$$($JSCompiler_StaticMethods_processDiscoveredDevice_$self$$.$l$, $device$jscomp$6$$).then(function($JSCompiler_StaticMethods_processDiscoveredDevice_$self$$) {
    var $description$jscomp$18$$ = $JSCompiler_StaticMethods_processDiscoveredDevice_$self$$.uniqueId ? $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$processUniqueId$$($JSCompiler_StaticMethods_processDiscoveredDevice_$self$$.uniqueId) : "", $id$jscomp$55$$ = $JSCompiler_StaticMethods_processDiscoveredDevice_$self$$.uniqueId ? $JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $description$jscomp$18$$) : $device$jscomp$6$$.deviceLabel, 
    $isDiscoveryOnly$$ = $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$DISCOVERY_ONLY_RE_$$.test($JSCompiler_StaticMethods_processDiscoveredDevice_$self$$.modelName), $description$jscomp$18$$ = new $module$contents$mr$dial$Sink_DialSink$$($JSCompiler_StaticMethods_processDiscoveredDevice_$self$$.friendlyName, $description$jscomp$18$$);
    $description$jscomp$18$$.$m$.id = $id$jscomp$55$$;
    $description$jscomp$18$$.$u$ = $JSCompiler_StaticMethods_processDiscoveredDevice_$self$$.ipAddress;
    $description$jscomp$18$$.$C$ = $JSCompiler_StaticMethods_processDiscoveredDevice_$self$$.appUrl;
    $description$jscomp$18$$.$G$ = $device$jscomp$6$$.deviceDescriptionUrl;
    $description$jscomp$18$$.$v$ = $JSCompiler_StaticMethods_processDiscoveredDevice_$self$$.modelName;
    return $JSCompiler_StaticMethods_setSupportsAppAvailability$$($description$jscomp$18$$, !$isDiscoveryOnly$$);
  });
}, $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$processUniqueId$$ = function($udn$jscomp$1$$) {
  0 == $udn$jscomp$1$$.indexOf("uuid:") && ($udn$jscomp$1$$ = $udn$jscomp$1$$.substr(5));
  return $udn$jscomp$1$$.replace(/-/g, "").toLowerCase();
};
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype.$w$ = function($allSinks_dialError$$) {
  switch($allSinks_dialError$$.code) {
    case "no_valid_network_interfaces":
    case "network_disconnected":
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, "DIAL error: " + $allSinks_dialError$$.code + ". Clear device list now.");
      $allSinks_dialError$$ = Array.from(this.$a$.values());
      this.$a$.clear();
      this.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$($allSinks_dialError$$);
      $JSCompiler_StaticMethods_recordDeviceCounts_$$(this, 0, 0);
      this.$j$ = !0;
      break;
    case "no_listeners":
    case "socket_error":
    case "cellular_network":
    case "unknown":
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, "DIAL error: " + $allSinks_dialError$$.code + ". Keep device list.");
      break;
    default:
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, "Unhandled DIAL error: " + $allSinks_dialError$$.code);
  }
};
var $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$$ = function($JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$self$$, $sinkId$jscomp$34$$) {
  return $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$self$$.$a$.get($sinkId$jscomp$34$$) || null;
}, $JSCompiler_StaticMethods_getSinksByAppName$$ = function($JSCompiler_StaticMethods_getSinksByAppName$self_origin$jscomp$13$$, $appName$jscomp$14$$) {
  var $sinks$jscomp$8$$ = [];
  $JSCompiler_StaticMethods_getSinksByAppName$self_origin$jscomp$13$$.$a$.forEach(function($JSCompiler_StaticMethods_getSinksByAppName$self_origin$jscomp$13$$) {
    "available" == $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($JSCompiler_StaticMethods_getSinksByAppName$self_origin$jscomp$13$$, $appName$jscomp$14$$) && $sinks$jscomp$8$$.push($JSCompiler_StaticMethods_getSinksByAppName$self_origin$jscomp$13$$.$m$);
  });
  $JSCompiler_StaticMethods_getSinksByAppName$self_origin$jscomp$13$$ = $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$APP_ORIGIN_WHITELIST_$$[$appName$jscomp$14$$];
  return new $mr$SinkList$$($sinks$jscomp$8$$, $JSCompiler_StaticMethods_getSinksByAppName$self_origin$jscomp$13$$ ? [$JSCompiler_StaticMethods_getSinksByAppName$self_origin$jscomp$13$$] : void 0);
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$.prototype;
$JSCompiler_prototypeAlias$$.$getDeviceCounts$ = function() {
  return this.$f$;
};
$JSCompiler_prototypeAlias$$.handleEvent = function($event$jscomp$18$$, $args$jscomp$22$$) {
  for (var $$jscomp$restParams$jscomp$8$$ = [], $$jscomp$restIndex$jscomp$8$$ = 1; $$jscomp$restIndex$jscomp$8$$ < arguments.length; ++$$jscomp$restIndex$jscomp$8$$) {
    $$jscomp$restParams$jscomp$8$$[$$jscomp$restIndex$jscomp$8$$ - 1] = arguments[$$jscomp$restIndex$jscomp$8$$];
  }
  if ($event$jscomp$18$$ == chrome.dial.onDeviceList) {
    this.$o$.apply(this, [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$8$$)));
  } else {
    if ($event$jscomp$18$$ == chrome.dial.onError) {
      this.$w$.apply(this, [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$8$$)));
    } else {
      throw Error("Unhandled event");
    }
  }
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "dial.DialSinkDiscoveryService";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [new $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$PersistentData_$$(Array.from(this.$a$), this.$f$), {deviceCountMetricsRecordTime:this.$g$}];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $permanentData_tempData$jscomp$2$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($permanentData_tempData$jscomp$2$$) {
    for (var $$jscomp$iter$9$$ = $$jscomp$makeIterator$$($permanentData_tempData$jscomp$2$$.sinks), $$jscomp$key$entry$jscomp$1_entry$jscomp$15$$ = $$jscomp$iter$9$$.next(); !$$jscomp$key$entry$jscomp$1_entry$jscomp$15$$.done; $$jscomp$key$entry$jscomp$1_entry$jscomp$15$$ = $$jscomp$iter$9$$.next()) {
      $$jscomp$key$entry$jscomp$1_entry$jscomp$15$$ = $$jscomp$key$entry$jscomp$1_entry$jscomp$15$$.value, this.$a$.set($$jscomp$key$entry$jscomp$1_entry$jscomp$15$$[0], $module$contents$mr$dial$Sink_DialSink$createFrom$$($$jscomp$key$entry$jscomp$1_entry$jscomp$15$$[1]));
    }
    this.$f$ = $permanentData_tempData$jscomp$2$$.deviceCounts;
  }
  if ($permanentData_tempData$jscomp$2$$ = $mr$PersistentDataManager$getPersistentData$$(this)) {
    this.$g$ = $permanentData_tempData$jscomp$2$$.deviceCountMetricsRecordTime;
  }
};
var $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$APP_ORIGIN_WHITELIST_$$ = {YouTube:"https://www.youtube.com", Netflix:"https://www.netflix.com", Pandora:"https://www.pandora.com", Radio:"https://www.pandora.com", Hulu:"https://www.hulu.com", Vimeo:"https://www.vimeo.com", Dailymotion:"https://www.dailymotion.com", "com.dailymotion":"https://www.dailymotion.com"}, $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$DISCOVERY_ONLY_RE_$$ = /Eureka Dongle|Chromecast Audio/i, 
$module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$PersistentData_$$ = function($sinks$jscomp$9$$, $deviceCounts$jscomp$3$$) {
  this.sinks = $sinks$jscomp$9$$;
  this.deviceCounts = $deviceCounts$jscomp$3$$;
};
var $module$exports$mr$dial$AppDiscoveryService$$ = function($discoveryService$jscomp$3$$, $activityRecords$$) {
  this.$logger_$ = $mr$Logger$getInstance$$("mr.dial.AppDiscoveryService");
  this.$a$ = new Set;
  this.$b$ = $discoveryService$jscomp$3$$;
  this.$j$ = $activityRecords$$;
  this.$h$ = new Map;
  this.$l$ = new Map;
  this.$f$ = null;
  this.$g$ = !1;
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.init = function() {
  $mr$PersistentDataManager$register$$(this);
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.start = function() {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Starting periodic scanning.");
  this.$g$ || (this.$g$ = !0, $JSCompiler_StaticMethods_doScan_$$(this));
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.stop = function() {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Stopping periodic scanning.");
  this.$g$ && (this.$g$ = !1, this.$f$ && (clearTimeout(this.$f$), this.$f$ = null), this.$h$.clear());
};
var $JSCompiler_StaticMethods_doScan_$$ = function($JSCompiler_StaticMethods_doScan_$self$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_doScan_$self$$.$logger_$, "Start app status scan.");
  var $promises$jscomp$9$$ = [];
  Array.from($JSCompiler_StaticMethods_doScan_$self$$.$b$.$a$.values()).forEach(function($sink$jscomp$68$$) {
    $promises$jscomp$9$$.push.apply($promises$jscomp$9$$, $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$$($JSCompiler_StaticMethods_doScan_$self$$, $sink$jscomp$68$$));
  });
  Array.from($JSCompiler_StaticMethods_doScan_$self$$.$j$.$a$.values()).forEach(function($activity$jscomp$8$$) {
    $promises$jscomp$9$$.push($JSCompiler_StaticMethods_scanActivity_$$($JSCompiler_StaticMethods_doScan_$self$$, $activity$jscomp$8$$));
  });
  $mr$PromiseUtils$allSettled$$($promises$jscomp$9$$).then(function() {
    $JSCompiler_StaticMethods_doScan_$self$$.$g$ && !$JSCompiler_StaticMethods_doScan_$self$$.$f$ && ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_doScan_$self$$.$logger_$, "Scan complete; scheduling for next scan."), $JSCompiler_StaticMethods_doScan_$self$$.$f$ = setTimeout(function() {
      $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_doScan_$self$$.$logger_$, "Start app status scan (timer-based)");
      $JSCompiler_StaticMethods_doScan_$self$$.$f$ = null;
      $JSCompiler_StaticMethods_doScan_$$($JSCompiler_StaticMethods_doScan_$self$$);
    }, 6E4));
  });
}, $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$$ = function($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$self$$, $sink$jscomp$69$$) {
  if (!$sink$jscomp$69$$.$O$) {
    return [];
  }
  for (var $promises$jscomp$10$$ = [], $$jscomp$iter$10$$ = $$jscomp$makeIterator$$($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$self$$.$a$), $$jscomp$key$appName$$ = $$jscomp$iter$10$$.next(); !$$jscomp$key$appName$$.done; $$jscomp$key$appName$$ = $$jscomp$iter$10$$.next()) {
    $promises$jscomp$10$$.push($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$self$$.$o$($$jscomp$key$appName$$.value, $sink$jscomp$69$$));
  }
  return $promises$jscomp$10$$;
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.$o$ = function($appName$jscomp$19$$, $sink$jscomp$70$$) {
  var $$jscomp$this$jscomp$87$$ = this;
  if ("unknown" != $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($sink$jscomp$70$$, $appName$jscomp$19$$) && 36E5 > Date.now() - ($sink$jscomp$70$$.$S$[$appName$jscomp$19$$] || 0) || !$sink$jscomp$70$$.$O$) {
    return Promise.resolve();
  }
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "Querying " + $sink$jscomp$70$$.getId() + " for " + $appName$jscomp$19$$ + " to update app status");
  return $JSCompiler_StaticMethods_getAppInfo_$$(this, $sink$jscomp$70$$, $appName$jscomp$19$$).then(function($JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$) {
    a: {
      if ("Netflix" == $JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$.name) {
        $JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$ = !$JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$.extraData || "websocket" != $JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$.extraData.capabilities || "running" != $JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$.state && "stopped" != $JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$.state ? "unavailable" : "available";
      } else {
        switch($JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$.state) {
          case "running":
          case "stopped":
            $JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$ = "available";
            break a;
          default:
            $JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$ = "unavailable";
        }
      }
    }
    $JSCompiler_StaticMethods_maybeUpdateAppStatus_$$($$jscomp$this$jscomp$87$$, $sink$jscomp$70$$, $appName$jscomp$19$$, $JSCompiler_inline_result$jscomp$168_appInfo$jscomp$10$$);
  }, function($e$jscomp$74$$) {
    $e$jscomp$74$$ instanceof $module$contents$mr$dial$Client_AppInfoNotFoundError$$ ? $JSCompiler_StaticMethods_maybeUpdateAppStatus_$$($$jscomp$this$jscomp$87$$, $sink$jscomp$70$$, $appName$jscomp$19$$, "unavailable") : ($JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($$jscomp$this$jscomp$87$$.$logger_$, "Failed to process app availability; " + $sink$jscomp$70$$.getId() + " does not support app availability"), $JSCompiler_StaticMethods_setSupportsAppAvailability$$($sink$jscomp$70$$, !1));
  });
};
var $JSCompiler_StaticMethods_scanActivity_$$ = function($JSCompiler_StaticMethods_scanActivity_$self$$, $activity$jscomp$9$$) {
  var $sink$jscomp$71$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$$($JSCompiler_StaticMethods_scanActivity_$self$$.$b$, $activity$jscomp$9$$.$mr_dial_Activity$route$.sinkId);
  if (!$sink$jscomp$71$$) {
    return $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_scanActivity_$self$$.$logger_$, "Activity refers to nonexistent sink: " + $activity$jscomp$9$$.$mr_dial_Activity$route$.id), Promise.resolve();
  }
  if (!$sink$jscomp$71$$.$O$) {
    return Promise.resolve();
  }
  var $appName$jscomp$20$$ = $activity$jscomp$9$$.appName;
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_scanActivity_$self$$.$logger_$, "Querying " + $sink$jscomp$71$$.getId() + " for " + $appName$jscomp$20$$ + " to update activity");
  return $JSCompiler_StaticMethods_getAppInfo_$$($JSCompiler_StaticMethods_scanActivity_$self$$, $sink$jscomp$71$$, $appName$jscomp$20$$).then(function($activity$jscomp$9$$) {
    "running" != $activity$jscomp$9$$.state && $JSCompiler_StaticMethods_doRemoveActivityRecord_$$($JSCompiler_StaticMethods_scanActivity_$self$$, $sink$jscomp$71$$, $appName$jscomp$20$$);
  }, function() {
    return $JSCompiler_StaticMethods_doRemoveActivityRecord_$$($JSCompiler_StaticMethods_scanActivity_$self$$, $sink$jscomp$71$$, $appName$jscomp$20$$);
  });
}, $JSCompiler_StaticMethods_getDialClient_$$ = function($JSCompiler_StaticMethods_getDialClient_$self$$, $sink$jscomp$72$$) {
  var $client$$ = $JSCompiler_StaticMethods_getDialClient_$self$$.$l$.get($sink$jscomp$72$$.getId());
  $client$$ || ($client$$ = new $module$contents$mr$dial$Client_Client$$($sink$jscomp$72$$), $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_getDialClient_$self$$.$logger_$, "Created DIAL client for " + $sink$jscomp$72$$.getId()), $JSCompiler_StaticMethods_getDialClient_$self$$.$l$.set($sink$jscomp$72$$.getId(), $client$$));
  return $client$$;
}, $JSCompiler_StaticMethods_getAppInfo_$$ = function($JSCompiler_StaticMethods_getAppInfo_$self$$, $cleanup$jscomp$3_sink$jscomp$73$$, $appName$jscomp$21$$) {
  var $requestId$jscomp$10$$ = $module$exports$mr$dial$AppDiscoveryService$getRequestId_$$($cleanup$jscomp$3_sink$jscomp$73$$, $appName$jscomp$21$$), $promise$jscomp$18$$ = $JSCompiler_StaticMethods_getAppInfo_$self$$.$h$.get($requestId$jscomp$10$$);
  if ($promise$jscomp$18$$) {
    return $promise$jscomp$18$$;
  }
  $promise$jscomp$18$$ = $JSCompiler_StaticMethods_getAppInfo$$($JSCompiler_StaticMethods_getDialClient_$$($JSCompiler_StaticMethods_getAppInfo_$self$$, $cleanup$jscomp$3_sink$jscomp$73$$), $appName$jscomp$21$$);
  $JSCompiler_StaticMethods_getAppInfo_$self$$.$h$.set($requestId$jscomp$10$$, $promise$jscomp$18$$);
  $cleanup$jscomp$3_sink$jscomp$73$$ = function() {
    $JSCompiler_StaticMethods_getAppInfo_$self$$.$h$.delete($requestId$jscomp$10$$);
  };
  $promise$jscomp$18$$.then($cleanup$jscomp$3_sink$jscomp$73$$, $cleanup$jscomp$3_sink$jscomp$73$$);
  return $promise$jscomp$18$$;
}, $module$exports$mr$dial$AppDiscoveryService$getRequestId_$$ = function($sink$jscomp$74$$, $appName$jscomp$22$$) {
  return $sink$jscomp$74$$.getId() + ":" + $appName$jscomp$22$$;
}, $JSCompiler_StaticMethods_maybeUpdateAppStatus_$$ = function($JSCompiler_StaticMethods_maybeUpdateAppStatus_$self$$, $sink$jscomp$75$$, $appName$jscomp$23$$, $newAppStatus$jscomp$1$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_maybeUpdateAppStatus_$self$$.$logger_$, "Got app status " + $newAppStatus$jscomp$1$$ + " from " + $sink$jscomp$75$$.getId() + " for " + $appName$jscomp$23$$);
  var $oldAppStatus$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($sink$jscomp$75$$, $appName$jscomp$23$$);
  $sink$jscomp$75$$.$s$[$appName$jscomp$23$$] = $newAppStatus$jscomp$1$$;
  $sink$jscomp$75$$.$S$[$appName$jscomp$23$$] = Date.now();
  $newAppStatus$jscomp$1$$ != $oldAppStatus$$ && $JSCompiler_StaticMethods_maybeUpdateAppStatus_$self$$.$b$.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$($sink$jscomp$75$$);
}, $JSCompiler_StaticMethods_doRemoveActivityRecord_$$ = function($JSCompiler_StaticMethods_doRemoveActivityRecord_$self$$, $activity$jscomp$10_sink$jscomp$77$$, $appName$jscomp$25$$) {
  ($activity$jscomp$10_sink$jscomp$77$$ = $JSCompiler_StaticMethods_getBySinkId$$($JSCompiler_StaticMethods_doRemoveActivityRecord_$self$$.$j$, $activity$jscomp$10_sink$jscomp$77$$.getId())) && $activity$jscomp$10_sink$jscomp$77$$.appName == $appName$jscomp$25$$ && $JSCompiler_StaticMethods_removeByRouteId$$($JSCompiler_StaticMethods_doRemoveActivityRecord_$self$$.$j$, $activity$jscomp$10_sink$jscomp$77$$.$mr_dial_Activity$route$.id);
}, $JSCompiler_StaticMethods_anyUnknownAppStatus_$$ = function($JSCompiler_StaticMethods_anyUnknownAppStatus_$self$$, $appName$jscomp$26$$) {
  return Array.from($JSCompiler_StaticMethods_anyUnknownAppStatus_$self$$.$b$.$a$.values()).some(function($JSCompiler_StaticMethods_anyUnknownAppStatus_$self$$) {
    return "unknown" == $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($JSCompiler_StaticMethods_anyUnknownAppStatus_$self$$, $appName$jscomp$26$$);
  });
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.$getStorageKey$ = function() {
  return "dial.AppDiscoveryService";
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [Array.from(this.$a$)];
};
$module$exports$mr$dial$AppDiscoveryService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$11$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  this.$a$ = new Set($savedData$jscomp$11$$ || []);
};
var $module$contents$mr$DialProvider_DialProvider$$ = function($providerManagerCallbacks$jscomp$2$$, $sinkDiscoveryService$jscomp$1$$, $appDiscoveryService$$) {
  this.$g$ = $providerManagerCallbacks$jscomp$2$$;
  this.$a$ = $sinkDiscoveryService$jscomp$1$$ || new $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$(this);
  this.$b$ = new $module$exports$mr$dial$ActivityRecords$$(this);
  this.$f$ = $appDiscoveryService$$ || new $module$exports$mr$dial$AppDiscoveryService$$(this.$a$, this.$b$);
  this.$logger_$ = $mr$Logger$getInstance$$("mr.DialProvider");
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$DialProvider_DialProvider$$.prototype;
$JSCompiler_prototypeAlias$$.getName = function() {
  return "dial";
};
$JSCompiler_prototypeAlias$$.$initialize$ = function() {
  this.$b$.init();
  this.$a$.init();
  this.$f$.init();
};
$JSCompiler_prototypeAlias$$.$getAvailableSinks$ = function($dialMediaSource_sourceUrn$jscomp$46$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "GetAvailableSinks for " + $dialMediaSource_sourceUrn$jscomp$46$$);
  return ($dialMediaSource_sourceUrn$jscomp$46$$ = $module$exports$mr$dial$MediaSource$create$$($dialMediaSource_sourceUrn$jscomp$46$$)) ? $JSCompiler_StaticMethods_getSinksByAppName$$(this.$a$, $dialMediaSource_sourceUrn$jscomp$46$$.appName) : $mr$SinkList$EMPTY$$;
};
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$) {
  var $appName$jscomp$inline_1192_dialMediaSource$jscomp$1$$ = $module$exports$mr$dial$MediaSource$create$$($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$);
  if ($appName$jscomp$inline_1192_dialMediaSource$jscomp$1$$) {
    $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$ = this.$f$;
    $appName$jscomp$inline_1192_dialMediaSource$jscomp$1$$ = $appName$jscomp$inline_1192_dialMediaSource$jscomp$1$$.appName;
    if (!$JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$.$a$.has($appName$jscomp$inline_1192_dialMediaSource$jscomp$1$$) || $JSCompiler_StaticMethods_anyUnknownAppStatus_$$($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$, $appName$jscomp$inline_1192_dialMediaSource$jscomp$1$$)) {
      $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$.$a$.add($appName$jscomp$inline_1192_dialMediaSource$jscomp$1$$), 0 != $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$.$b$.$a$.size && ($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$.$g$ ? 
      Array.from($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$.$b$.$a$.values()).forEach($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$.$o$.bind($JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$, $appName$jscomp$inline_1192_dialMediaSource$jscomp$1$$)) : 
      $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$registerApp$self$jscomp$inline_1191_sourceUrn$jscomp$47$$.start());
    }
    $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$(this);
  }
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function($dialMediaSource$jscomp$2_sourceUrn$jscomp$48$$) {
  if ($dialMediaSource$jscomp$2_sourceUrn$jscomp$48$$ = $module$exports$mr$dial$MediaSource$create$$($dialMediaSource$jscomp$2_sourceUrn$jscomp$48$$)) {
    this.$f$.$a$.delete($dialMediaSource$jscomp$2_sourceUrn$jscomp$48$$.appName), $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$(this);
  }
};
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function() {
  $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$(this);
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function() {
  $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$(this);
};
$JSCompiler_prototypeAlias$$.$setDiscoveryEnabled$ = function($discoveryEnabled$jscomp$2$$) {
  $discoveryEnabled$jscomp$2$$ ? (this.$a$.start(), $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$(this)) : this.$a$.stop();
};
var $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$ = function($JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$) {
  (0 == $JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$.$a$.$a$.size || 0 == $JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$.$f$.$a$.size && 0 == $JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$.$b$.$a$.size) && $JSCompiler_StaticMethods_maybeStopAppDiscovery_$self$$.$f$.stop();
}, $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$ = function($JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$) {
  0 < $JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$.$a$.$a$.size && (0 < $JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$.$f$.$a$.size || 0 < $JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$.$b$.$a$.size) && $JSCompiler_StaticMethods_maybeStartAppDiscovery_$self$$.$f$.start();
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$DialProvider_DialProvider$$.prototype;
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$getSinkById$ = function($dialSink$jscomp$3_id$jscomp$56$$) {
  return ($dialSink$jscomp$3_id$jscomp$56$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$$(this.$a$, $dialSink$jscomp$3_id$jscomp$56$$)) ? $dialSink$jscomp$3_id$jscomp$56$$.$m$ : null;
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$getRoutes$ = function() {
  return $JSCompiler_StaticMethods_module$exports$mr$dial$ActivityRecords_prototype$getRoutes$$(this.$b$);
};
$JSCompiler_prototypeAlias$$.createRoute = function($sourceUrn$jscomp$51$$, $sinkId$jscomp$35$$, $presentationId$jscomp$18$$, $offTheRecord$jscomp$6$$) {
  var $$jscomp$this$jscomp$90$$ = this, $sink$jscomp$78$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$$(this.$a$, $sinkId$jscomp$35$$);
  if (!$sink$jscomp$78$$) {
    return $mr$DialAnalytics$recordCreateRoute$$(0), $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Unkown sink: " + $sinkId$jscomp$35$$));
  }
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$b$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($sink$jscomp$78$$.$v$, $sink$jscomp$78$$.$getIpAddress$());
  var $dialMediaSource$jscomp$3$$ = $module$exports$mr$dial$MediaSource$create$$($sourceUrn$jscomp$51$$);
  if (!$dialMediaSource$jscomp$3$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("No app name set."));
  }
  var $appName$jscomp$27$$ = $dialMediaSource$jscomp$3$$.appName, $dialClient$$ = new $module$contents$mr$dial$Client_Client$$($sink$jscomp$78$$);
  return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_getAppInfo$$($dialClient$$, $appName$jscomp$27$$).then(function($sourceUrn$jscomp$51$$) {
    if ("running" == $sourceUrn$jscomp$51$$.state) {
      return $JSCompiler_StaticMethods_stopApp$$($dialClient$$, $appName$jscomp$27$$);
    }
  }).then(function() {
    return $dialClient$$.launchApp($appName$jscomp$27$$, $dialMediaSource$jscomp$3$$.launchParameter);
  }).then(function() {
    return $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$$($$jscomp$this$jscomp$90$$, $sinkId$jscomp$35$$, $sourceUrn$jscomp$51$$, $appName$jscomp$27$$, $presentationId$jscomp$18$$, $offTheRecord$jscomp$6$$);
  }).catch(function($sourceUrn$jscomp$51$$) {
    $mr$DialAnalytics$recordCreateRoute$$(3);
    throw $sourceUrn$jscomp$51$$;
  }));
};
$JSCompiler_prototypeAlias$$.joinRoute = function() {
  return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Not supported"));
};
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function() {
  return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Not supported"));
};
$JSCompiler_prototypeAlias$$.detachRoute = function() {
};
var $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$$ = function($JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$self$$, $route$jscomp$38_sinkId$jscomp$36$$, $sourceUrn$jscomp$54$$, $appName$jscomp$28$$, $presentationId$jscomp$21$$, $offTheRecord$jscomp$8$$) {
  $mr$DialAnalytics$recordCreateRoute$$(1);
  $route$jscomp$38_sinkId$jscomp$36$$ = $mr$Route$createRoute$$($presentationId$jscomp$21$$, $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$self$$.getName(), $route$jscomp$38_sinkId$jscomp$36$$, $sourceUrn$jscomp$54$$, !0, $appName$jscomp$28$$, null);
  $route$jscomp$38_sinkId$jscomp$36$$.offTheRecord = $offTheRecord$jscomp$8$$;
  $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$self$$.$b$.add(new $mr$dial$Activity$$($route$jscomp$38_sinkId$jscomp$36$$, $appName$jscomp$28$$));
  return $route$jscomp$38_sinkId$jscomp$36$$;
};
$module$contents$mr$DialProvider_DialProvider$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$ = function($sink$jscomp$79$$) {
  this.$g$.onSinkAvailabilityUpdated(this, 1);
  $JSCompiler_StaticMethods_maybeStartAppDiscovery_$$(this);
  $JSCompiler_StaticMethods_module$exports$mr$dial$AppDiscoveryService_prototype$scanSink$$(this.$f$, $sink$jscomp$79$$);
  this.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$a$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($sink$jscomp$79$$.$v$, $sink$jscomp$79$$.$getIpAddress$());
};
$module$contents$mr$DialProvider_DialProvider$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$ = function($sinks$jscomp$10$$) {
  var $$jscomp$this$jscomp$91$$ = this;
  if (0 == this.$a$.$a$.size) {
    this.$g$.onSinkAvailabilityUpdated(this, 0);
  }
  $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$(this);
  $sinks$jscomp$10$$.forEach(function($sinks$jscomp$10$$) {
    var $activity$jscomp$inline_1199_sink$jscomp$80_sinkId$jscomp$inline_1198$$ = $$jscomp$this$jscomp$91$$.$b$;
    $sinks$jscomp$10$$ = $sinks$jscomp$10$$.getId();
    if ($sinks$jscomp$10$$ = $JSCompiler_StaticMethods_getBySinkId$$($activity$jscomp$inline_1199_sink$jscomp$80_sinkId$jscomp$inline_1198$$, $sinks$jscomp$10$$)) {
      $activity$jscomp$inline_1199_sink$jscomp$80_sinkId$jscomp$inline_1198$$.$a$.delete($sinks$jscomp$10$$.$mr_dial_Activity$route$.id), $JSCompiler_StaticMethods_onActivityRemoved$$($activity$jscomp$inline_1199_sink$jscomp$80_sinkId$jscomp$inline_1198$$.$b$, $sinks$jscomp$10$$);
    }
  });
  this.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
};
$module$contents$mr$DialProvider_DialProvider$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$ = function() {
  this.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
};
var $JSCompiler_StaticMethods_onActivityRemoved$$ = function($JSCompiler_StaticMethods_onActivityRemoved$self$$, $activity$jscomp$12_route$jscomp$39$$) {
  $activity$jscomp$12_route$jscomp$39$$ = $activity$jscomp$12_route$jscomp$39$$.$mr_dial_Activity$route$;
  if ($activity$jscomp$12_route$jscomp$39$$.isLocal) {
    $JSCompiler_StaticMethods_onActivityRemoved$self$$.$g$.onPresentationConnectionStateChanged($activity$jscomp$12_route$jscomp$39$$.id, "terminated");
  }
  $JSCompiler_StaticMethods_maybeStopAppDiscovery_$$($JSCompiler_StaticMethods_onActivityRemoved$self$$);
  $JSCompiler_StaticMethods_onActivityRemoved$self$$.$g$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$($JSCompiler_StaticMethods_onActivityRemoved$self$$, $activity$jscomp$12_route$jscomp$39$$);
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$DialProvider_DialProvider$$.prototype;
$JSCompiler_prototypeAlias$$.terminateRoute = function($routeId$jscomp$62_sink$jscomp$82$$) {
  var $activity$jscomp$14$$ = this.$b$.$a$.get($routeId$jscomp$62_sink$jscomp$82$$) || null;
  if (!$activity$jscomp$14$$) {
    return Promise.reject(new $mr$RouteRequestError$$(3, "Route in DIAL provider not found for routeId " + $routeId$jscomp$62_sink$jscomp$82$$));
  }
  $JSCompiler_StaticMethods_removeByRouteId$$(this.$b$, $routeId$jscomp$62_sink$jscomp$82$$);
  return ($routeId$jscomp$62_sink$jscomp$82$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$$(this.$a$, $activity$jscomp$14$$.$mr_dial_Activity$route$.sinkId)) ? $JSCompiler_StaticMethods_stopApp$$(new $module$contents$mr$dial$Client_Client$$($routeId$jscomp$62_sink$jscomp$82$$), $activity$jscomp$14$$.appName) : Promise.reject(new $mr$RouteRequestError$$(3, "Sink in DIAL provider not found for sinkId " + $activity$jscomp$14$$.$mr_dial_Activity$route$.sinkId));
};
$JSCompiler_prototypeAlias$$.$getMirrorSettings$ = function() {
  throw Error("Not implemented.");
};
$JSCompiler_prototypeAlias$$.$getMirrorServiceName$ = function() {
  return null;
};
$JSCompiler_prototypeAlias$$.sendRouteMessage = function() {
  return Promise.reject(Error("DIAL sending messages is not supported"));
};
$JSCompiler_prototypeAlias$$.sendRouteBinaryMessage = function() {
  return Promise.reject(Error("DIAL sending messages is not supported"));
};
$JSCompiler_prototypeAlias$$.$canRoute$ = function($dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$, $sink$jscomp$83_sinkId$jscomp$39$$) {
  $sink$jscomp$83_sinkId$jscomp$39$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$$(this.$a$, $sink$jscomp$83_sinkId$jscomp$39$$);
  return !$sink$jscomp$83_sinkId$jscomp$39$$ || $mr$MediaSourceUtils$isMirrorSource$$($dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$) ? !1 : ($dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$ = $module$exports$mr$dial$MediaSource$create$$($dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$)) ? "available" == $JSCompiler_StaticMethods_module$contents$mr$dial$Sink_DialSink_prototype$getAppStatus$$($sink$jscomp$83_sinkId$jscomp$39$$, $dialMediaSource$jscomp$4_sourceUrn$jscomp$55$$.appName) : !1;
};
$JSCompiler_prototypeAlias$$.$canJoin$ = function() {
  return !1;
};
$JSCompiler_prototypeAlias$$.searchSinks = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.provideSinks = function($sinks$jscomp$11$$) {
  $JSCompiler_StaticMethods_addSinks$$(this.$a$, $sinks$jscomp$11$$);
};
var $mr$cast$CastDialSinkDiscoveryCallbacks$$ = function($castProvider$$, $dialSinkDiscoveryCallbacks$$) {
  this.$f$ = $castProvider$$;
  this.$b$ = $dialSinkDiscoveryCallbacks$$;
  this.$a$ = this.$f$.$a$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cast.CastDialSinkDiscoveryCallbacks");
}, $JSCompiler_StaticMethods_getSinkDiscoveredByCast_$$ = function($JSCompiler_StaticMethods_getSinkByIpAddressAndPort$self$jscomp$inline_1201_JSCompiler_StaticMethods_getSinkDiscoveredByCast_$self_JSCompiler_temp$jscomp$138$$, $ipAddress$jscomp$18_sink$jscomp$86$$) {
  var $castSink$jscomp$3_port$jscomp$inline_1203$$ = $JSCompiler_StaticMethods_getSinkByIpAddressAndPort$self$jscomp$inline_1201_JSCompiler_StaticMethods_getSinkDiscoveredByCast_$self_JSCompiler_temp$jscomp$138$$.$a$.$b$($ipAddress$jscomp$18_sink$jscomp$86$$.getId());
  if ($castSink$jscomp$3_port$jscomp$inline_1203$$) {
    return $castSink$jscomp$3_port$jscomp$inline_1203$$;
  }
  ($ipAddress$jscomp$18_sink$jscomp$86$$ = $ipAddress$jscomp$18_sink$jscomp$86$$.$getIpAddress$()) ? ($JSCompiler_StaticMethods_getSinkByIpAddressAndPort$self$jscomp$inline_1201_JSCompiler_StaticMethods_getSinkDiscoveredByCast_$self_JSCompiler_temp$jscomp$138$$ = $JSCompiler_StaticMethods_getSinkByIpAddressAndPort$self$jscomp$inline_1201_JSCompiler_StaticMethods_getSinkDiscoveredByCast_$self_JSCompiler_temp$jscomp$138$$.$a$, $castSink$jscomp$3_port$jscomp$inline_1203$$ = $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$f$ || 
  8009, $JSCompiler_StaticMethods_getSinkByIpAddressAndPort$self$jscomp$inline_1201_JSCompiler_StaticMethods_getSinkDiscoveredByCast_$self_JSCompiler_temp$jscomp$138$$ = $JSCompiler_StaticMethods_getSinkByIpAddressAndPort$self$jscomp$inline_1201_JSCompiler_StaticMethods_getSinkDiscoveredByCast_$self_JSCompiler_temp$jscomp$138$$.$l$.get($ipAddress$jscomp$18_sink$jscomp$86$$ + ":" + $castSink$jscomp$3_port$jscomp$inline_1203$$)) : $JSCompiler_StaticMethods_getSinkByIpAddressAndPort$self$jscomp$inline_1201_JSCompiler_StaticMethods_getSinkDiscoveredByCast_$self_JSCompiler_temp$jscomp$138$$ = 
  null;
  return $JSCompiler_StaticMethods_getSinkByIpAddressAndPort$self$jscomp$inline_1201_JSCompiler_StaticMethods_getSinkDiscoveredByCast_$self_JSCompiler_temp$jscomp$138$$;
};
$mr$cast$CastDialSinkDiscoveryCallbacks$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$ = function($sink$jscomp$87$$) {
  $JSCompiler_StaticMethods_getSinkDiscoveredByCast_$$(this, $sink$jscomp$87$$) ? $mr$CastAnalytics$recordDeviceDiscovery$$(2) : $JSCompiler_StaticMethods_tryAddCastSink_$$(this, $sink$jscomp$87$$);
  this.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$($sink$jscomp$87$$);
};
var $JSCompiler_StaticMethods_tryAddCastSink_$$ = function($JSCompiler_StaticMethods_tryAddCastSink_$self$$, $dialSink$jscomp$4$$) {
  var $castSink$jscomp$5$$ = $mr$cast$Sink$createFromDialSink$$($dialSink$jscomp$4$$);
  $castSink$jscomp$5$$ && $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$checkAccess$$($JSCompiler_StaticMethods_tryAddCastSink_$self$$.$a$, $castSink$jscomp$5$$).then(function($supported$$) {
    $supported$$ ? $JSCompiler_StaticMethods_getSinkDiscoveredByCast_$$($JSCompiler_StaticMethods_tryAddCastSink_$self$$, $dialSink$jscomp$4$$) ? $mr$CastAnalytics$recordDeviceDiscovery$$(2) : ($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$addSink$$($JSCompiler_StaticMethods_tryAddCastSink_$self$$.$a$, $castSink$jscomp$5$$), $mr$CastAnalytics$recordDeviceDiscovery$$(0)) : $mr$Analytics$recordEvent$$("MediaRouter.Dial.Sink.Discovered.NonCast");
  }, $goog$nullFunction$$);
};
$mr$cast$CastDialSinkDiscoveryCallbacks$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$ = function($sinks$jscomp$12$$) {
  var $$jscomp$this$jscomp$93$$ = this;
  $goog$array$forEach$$($sinks$jscomp$12$$, function($sinks$jscomp$12$$) {
    var $sink$jscomp$88$$ = $$jscomp$this$jscomp$93$$.$a$.$b$($sinks$jscomp$12$$.getId());
    $sink$jscomp$88$$ && $sink$jscomp$88$$.$discoveredByDial_$ && $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$removeSink$$($$jscomp$this$jscomp$93$$.$a$, $sinks$jscomp$12$$.getId());
  });
  this.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$($sinks$jscomp$12$$);
};
$mr$cast$CastDialSinkDiscoveryCallbacks$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$ = function($sink$jscomp$89$$) {
  var $castSink$jscomp$7$$ = this.$a$.$b$($sink$jscomp$89$$.getId());
  if ($castSink$jscomp$7$$) {
    if ($castSink$jscomp$7$$.$discoveredByDial_$) {
      $castSink$jscomp$7$$.update($sink$jscomp$89$$.$m$.friendlyName, $sink$jscomp$89$$.$getIpAddress$(), $castSink$jscomp$7$$.$getPort$(), $castSink$jscomp$7$$.$a$) && $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Updated Cast sink with DIAL sink: " + $sink$jscomp$89$$.getId());
      var $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1206$$ = this.$a$;
      $goog$asserts$assert$$(null != $JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1206$$.$b$($castSink$jscomp$7$$.getId()));
      $JSCompiler_StaticMethods_mr_CastProvider_prototype$onSinkUpdated$$($JSCompiler_StaticMethods_mr_cast_SinkDiscoveryService_prototype$onSinkUpdated$self$jscomp$inline_1206$$.$g$, $castSink$jscomp$7$$);
    }
  } else {
    $JSCompiler_StaticMethods_tryAddCastSink_$$(this, $sink$jscomp$89$$);
  }
  this.$b$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$($sink$jscomp$89$$);
};
var $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$ = function($providerManagerCallbacks$jscomp$3$$, $castProvider$jscomp$1$$) {
  this.$l$ = new $module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService$$(new $mr$cast$CastDialSinkDiscoveryCallbacks$$($castProvider$jscomp$1$$, this));
  this.$f$ = new $goog$structs$Map$$;
  this.$b$ = $providerManagerCallbacks$jscomp$3$$;
  this.$j$ = this.$h$ = 0;
  this.$g$ = new $goog$structs$Set$$;
  this.$a$ = new $module$contents$mr$DialProvider_DialProvider$$(this, this.$l$);
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype;
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "cast.DialProviderWrapper";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [new $module$contents$mr$cast$DialProviderWrapper_PersistentData_$$($JSCompiler_StaticMethods_goog_structs_Map_prototype$toObject$$(this.$f$), this.$h$, this.$j$, this.$g$.$getValues$())];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$12$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$12$$ && ($JSCompiler_StaticMethods_goog_structs_Map_prototype$addAll$$(this.$f$, $savedData$jscomp$12$$.$b$), this.$h$ = $savedData$jscomp$12$$.sequenceNumber, this.$j$ = $savedData$jscomp$12$$.$f$, $JSCompiler_StaticMethods_goog_structs_Set_prototype$addAll$$(this.$g$, $savedData$jscomp$12$$.$a$));
};
$JSCompiler_prototypeAlias$$.getName = function() {
  return this.$a$.getName();
};
$JSCompiler_prototypeAlias$$.$initialize$ = function() {
  this.$a$.$initialize$();
  $mr$PersistentDataManager$register$$(this);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$getRoutes$ = function() {
  return this.$a$.$module$contents$mr$DialProvider_DialProvider_prototype$getRoutes$();
};
$JSCompiler_prototypeAlias$$.$onMirrorContentTitleUpdated$ = function() {
};
$JSCompiler_prototypeAlias$$.$getAvailableSinks$ = function($sourceUrn$jscomp$58$$) {
  return this.$a$.$getAvailableSinks$($sourceUrn$jscomp$58$$);
};
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function($sourceUrn$jscomp$59$$) {
  this.$a$.startObservingMediaSinks($sourceUrn$jscomp$59$$);
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function($sourceUrn$jscomp$60$$) {
  this.$a$.stopObservingMediaSinks($sourceUrn$jscomp$60$$);
};
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function($sourceUrn$jscomp$61$$) {
  this.$a$.startObservingMediaRoutes($sourceUrn$jscomp$61$$);
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function($sourceUrn$jscomp$62$$) {
  this.$a$.stopObservingMediaRoutes($sourceUrn$jscomp$62$$);
};
$JSCompiler_prototypeAlias$$.$setDiscoveryEnabled$ = function($discoveryEnabled$jscomp$3$$) {
  this.$a$.$setDiscoveryEnabled$($discoveryEnabled$jscomp$3$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$getSinkById$ = function($id$jscomp$57$$) {
  return this.$a$.$module$contents$mr$DialProvider_DialProvider_prototype$getSinkById$($id$jscomp$57$$);
};
var $JSCompiler_StaticMethods_doCustomLaunch_$$ = function($JSCompiler_StaticMethods_doCustomLaunch_$self$$, $sourceUrn$jscomp$63$$, $sinkId$jscomp$41$$, $offTheRecord$jscomp$9$$, $presentationId$jscomp$23$$) {
  var $dialMediaSource$jscomp$5$$ = $module$exports$mr$dial$MediaSource$create$$($sourceUrn$jscomp$63$$), $sink$jscomp$91$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$$($JSCompiler_StaticMethods_doCustomLaunch_$self$$.$l$, $sinkId$jscomp$41$$);
  if (!$sink$jscomp$91$$) {
    return Promise.reject(Error("Attempting custom launch with closed route"));
  }
  var $appName$jscomp$29$$ = $dialMediaSource$jscomp$5$$.appName;
  if (!$appName$jscomp$29$$) {
    return Promise.reject(Error("No app name given"));
  }
  var $clientId$jscomp$29$$ = $mr$cast$PresentationUrl$extractClientId$$($sourceUrn$jscomp$63$$);
  return $clientId$jscomp$29$$ ? $JSCompiler_StaticMethods_getAppInfo$$(new $module$contents$mr$dial$Client_Client$$($sink$jscomp$91$$), $appName$jscomp$29$$).then(function($appInfo$jscomp$16_launchInfo$$) {
    var $route$jscomp$41$$ = $JSCompiler_StaticMethods_module$contents$mr$DialProvider_DialProvider_prototype$addRoute$$($JSCompiler_StaticMethods_doCustomLaunch_$self$$.$a$, $sinkId$jscomp$41$$, $sourceUrn$jscomp$63$$, $appName$jscomp$29$$, $presentationId$jscomp$23$$, $offTheRecord$jscomp$9$$);
    $appInfo$jscomp$16_launchInfo$$ = {routeId:$route$jscomp$41$$.id, sinkId:$sink$jscomp$91$$.getId(), appName:$appName$jscomp$29$$, $appInfo$:$appInfo$jscomp$16_launchInfo$$, launchParameter:$dialMediaSource$jscomp$5$$.launchParameter, session:null, clientId:null};
    $JSCompiler_StaticMethods_doCustomLaunch_$self$$.$f$.set($route$jscomp$41$$.id, $appInfo$jscomp$16_launchInfo$$);
    var $castReceiver$jscomp$inline_1212_message$jscomp$inline_1215_session$jscomp$inline_1214$$ = $JSCompiler_StaticMethods_createCastReceiver_$$($JSCompiler_StaticMethods_doCustomLaunch_$self$$, $appInfo$jscomp$16_launchInfo$$.sinkId), $JSCompiler_temp_const$jscomp$4153_receiverActionMessage$jscomp$inline_1213$$ = new $mr$cast$InternalMessage$$("receiver_action", {receiver:$castReceiver$jscomp$inline_1212_message$jscomp$inline_1215_session$jscomp$inline_1214$$, action:chrome.cast.$ReceiverAction$.CAST});
    $JSCompiler_temp_const$jscomp$4153_receiverActionMessage$jscomp$inline_1213$$.clientId = $clientId$jscomp$29$$;
    $JSCompiler_StaticMethods_doCustomLaunch_$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($JSCompiler_StaticMethods_doCustomLaunch_$self$$, $appInfo$jscomp$16_launchInfo$$.routeId, $JSCompiler_temp_const$jscomp$4153_receiverActionMessage$jscomp$inline_1213$$);
    var $JSCompiler_temp_const$jscomp$4153_receiverActionMessage$jscomp$inline_1213$$ = chrome.cast.$Session$, $sessionId$jscomp$inline_4348$$ = String($JSCompiler_StaticMethods_doCustomLaunch_$self$$.$j$);
    $JSCompiler_StaticMethods_doCustomLaunch_$self$$.$j$ = ($JSCompiler_StaticMethods_doCustomLaunch_$self$$.$j$ + 1) % 9007199254740992;
    $castReceiver$jscomp$inline_1212_message$jscomp$inline_1215_session$jscomp$inline_1214$$ = new $JSCompiler_temp_const$jscomp$4153_receiverActionMessage$jscomp$inline_1213$$($sessionId$jscomp$inline_4348$$, "", $appInfo$jscomp$16_launchInfo$$.appName, [], $castReceiver$jscomp$inline_1212_message$jscomp$inline_1215_session$jscomp$inline_1214$$);
    $appInfo$jscomp$16_launchInfo$$.session = $castReceiver$jscomp$inline_1212_message$jscomp$inline_1215_session$jscomp$inline_1214$$;
    $appInfo$jscomp$16_launchInfo$$.clientId = $clientId$jscomp$29$$;
    $castReceiver$jscomp$inline_1212_message$jscomp$inline_1215_session$jscomp$inline_1214$$ = new $mr$cast$InternalMessage$$("new_session", $castReceiver$jscomp$inline_1212_message$jscomp$inline_1215_session$jscomp$inline_1214$$);
    $castReceiver$jscomp$inline_1212_message$jscomp$inline_1215_session$jscomp$inline_1214$$.clientId = $clientId$jscomp$29$$;
    $JSCompiler_StaticMethods_doCustomLaunch_$self$$.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($JSCompiler_StaticMethods_doCustomLaunch_$self$$, $appInfo$jscomp$16_launchInfo$$.routeId, $castReceiver$jscomp$inline_1212_message$jscomp$inline_1215_session$jscomp$inline_1214$$);
    return $route$jscomp$41$$;
  }) : Promise.reject(Error("No client ID"));
};
$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype.createRoute = function($sourceUrn$jscomp$65$$, $sinkId$jscomp$42$$, $presentationId$jscomp$24$$, $offTheRecord$jscomp$10$$, $timeoutMillis$jscomp$13$$, $opt_origin$jscomp$7$$, $opt_tabId$jscomp$12$$) {
  return $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$APP_NAME_REGEX_$$.test($sourceUrn$jscomp$65$$) ? $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_doCustomLaunch_$$(this, $sourceUrn$jscomp$65$$, $sinkId$jscomp$42$$, $offTheRecord$jscomp$10$$, $presentationId$jscomp$24$$)) : this.$a$.createRoute($sourceUrn$jscomp$65$$, $sinkId$jscomp$42$$, $presentationId$jscomp$24$$, $offTheRecord$jscomp$10$$, $timeoutMillis$jscomp$13$$, $opt_origin$jscomp$7$$, 
  $opt_tabId$jscomp$12$$);
};
$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype.terminateRoute = function($routeId$jscomp$66$$) {
  var $launchInfo$jscomp$1$$ = this.$f$.get($routeId$jscomp$66$$);
  if ($launchInfo$jscomp$1$$ && $launchInfo$jscomp$1$$.session && $launchInfo$jscomp$1$$.clientId) {
    var $castReceiverAction_castReceiverActionMessage$$ = {receiver:$JSCompiler_StaticMethods_createCastReceiver_$$(this, $launchInfo$jscomp$1$$.sinkId), action:chrome.cast.$ReceiverAction$.STOP}, $castReceiverAction_castReceiverActionMessage$$ = new $mr$cast$InternalMessage$$("receiver_action", $castReceiverAction_castReceiverActionMessage$$);
    $castReceiverAction_castReceiverActionMessage$$.clientId = $launchInfo$jscomp$1$$.clientId;
    this.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$(this, $launchInfo$jscomp$1$$.routeId, $castReceiverAction_castReceiverActionMessage$$);
    this.$b$.onPresentationConnectionStateChanged($launchInfo$jscomp$1$$.routeId, "terminated");
  }
  return this.$a$.terminateRoute($routeId$jscomp$66$$);
};
$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype.sendRouteMessage = function($JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$, $clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$, $castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$) {
  var $launchParameter$jscomp$inline_1231_message$jscomp$109$$ = JSON.parse($clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$);
  switch($launchParameter$jscomp$inline_1231_message$jscomp$109$$.type) {
    case "client_connect":
      return $clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$ = $launchParameter$jscomp$inline_1231_message$jscomp$109$$.clientId, ($JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$ = this.$f$.get($JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$)) ? 
      ($castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$ = $JSCompiler_StaticMethods_createCastReceiver_$$(this, $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$.sinkId), $castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$.receiverType = 
      chrome.cast.$ReceiverType$.DIAL, $castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$ = new $mr$cast$InternalMessage$$("custom_dial_launch", new chrome.cast.$DialLaunchData$($castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$, $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$.$appInfo$.state, 
      $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$.$appInfo$.extraData)), $castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$.clientId = $clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$, $clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$ = 
      this.$h$, this.$h$ = (this.$h$ + 1) % 9007199254740992, $castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$.sequenceNumber = $clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$, this.$g$.add($castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$.sequenceNumber), 
      this.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$(this, $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$.routeId, $castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$), $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$ = 
      Promise.resolve()) : $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$ = Promise.reject(Error("Unknown route")), $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$;
    case "custom_dial_launch":
      if (this.$g$.contains($launchParameter$jscomp$inline_1231_message$jscomp$109$$.sequenceNumber)) {
        return this.$g$.remove($launchParameter$jscomp$inline_1231_message$jscomp$109$$.sequenceNumber), $clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$ = $launchParameter$jscomp$inline_1231_message$jscomp$109$$.message, ($JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$ = this.$f$.get($JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$)) ? 
        $clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$ && !$clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$.doLaunch ? $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$ = Promise.resolve() : ($castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$ = 
        $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$$(this.$l$, $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$.sinkId)) ? ($castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$ = new $module$contents$mr$dial$Client_Client$$($castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$), 
        $launchParameter$jscomp$inline_1231_message$jscomp$109$$ = $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$.launchParameter, $launchParameter$jscomp$inline_1231_message$jscomp$109$$ = ($clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$ ? $clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$.launchParameter : 
        null) || $launchParameter$jscomp$inline_1231_message$jscomp$109$$, $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$ = $castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$.launchApp($JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$.appName, 
        $launchParameter$jscomp$inline_1231_message$jscomp$109$$)) : $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$ = Promise.reject(Error("Custom launch response for sink that no longer exists")) : $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$ = Promise.reject(Error("Unknown route")), 
        $JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$;
      }
      break;
    case "v2_message":
      if ("STOP" == $launchParameter$jscomp$inline_1231_message$jscomp$109$$.message.type) {
        return this.terminateRoute($JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$), Promise.resolve();
      }
  }
  return this.$a$.sendRouteMessage($JSCompiler_inline_result$jscomp$170_JSCompiler_inline_result$jscomp$171_launchInfo$jscomp$inline_1228_routeId$jscomp$67_routeLaunchInfo$jscomp$inline_1220$$, $clientId$jscomp$inline_1219_dialLaunchResponse$jscomp$inline_1227_msg$jscomp$33_nextSequenceNumber$jscomp$inline_4351$$, $castReceiver$jscomp$inline_1221_customLaunchRequest$jscomp$inline_1222_dialClient$jscomp$inline_1230_opt_extraInfo$jscomp$4_sink$jscomp$inline_1229$$);
};
$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype.sendRouteBinaryMessage = function($routeId$jscomp$68$$) {
  return Promise.reject(Error("Route " + $routeId$jscomp$68$$ + " does not support sending binary data."));
};
var $JSCompiler_StaticMethods_createCastReceiver_$$ = function($JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$93$$, $castReceiver$jscomp$3_sinkId$jscomp$43$$) {
  $JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$93$$ = $JSCompiler_StaticMethods_module$contents$mr$dial$SinkDiscoveryService_SinkDiscoveryService_prototype$getSinkById$$($JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$93$$.$l$, $castReceiver$jscomp$3_sinkId$jscomp$43$$);
  $castReceiver$jscomp$3_sinkId$jscomp$43$$ = new chrome.cast.$Receiver$($castReceiver$jscomp$3_sinkId$jscomp$43$$, $JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$93$$.$m$.friendlyName);
  $castReceiver$jscomp$3_sinkId$jscomp$43$$.ipAddress = $JSCompiler_StaticMethods_createCastReceiver_$self_sink$jscomp$93$$.$getIpAddress$();
  $castReceiver$jscomp$3_sinkId$jscomp$43$$.receiverType = chrome.cast.$ReceiverType$.DIAL;
  return $castReceiver$jscomp$3_sinkId$jscomp$43$$;
};
$JSCompiler_prototypeAlias$$ = $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$$.prototype;
$JSCompiler_prototypeAlias$$.$getMirrorSettings$ = function($sinkId$jscomp$44$$) {
  return this.$a$.$getMirrorSettings$($sinkId$jscomp$44$$);
};
$JSCompiler_prototypeAlias$$.$getMirrorServiceName$ = function($sinkId$jscomp$45$$) {
  return this.$a$.$getMirrorServiceName$($sinkId$jscomp$45$$);
};
$JSCompiler_prototypeAlias$$.$canRoute$ = function($sourceUrn$jscomp$66$$, $sinkId$jscomp$46$$) {
  return this.$a$.$canRoute$($sourceUrn$jscomp$66$$, $sinkId$jscomp$46$$);
};
$JSCompiler_prototypeAlias$$.$canJoin$ = function($sourceUrn$jscomp$67$$, $presentationId$jscomp$25$$, $route$jscomp$42$$) {
  return this.$a$.$canJoin$($sourceUrn$jscomp$67$$, $presentationId$jscomp$25$$, $route$jscomp$42$$);
};
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function($sourceUrn$jscomp$68$$, $routeId$jscomp$71$$, $presentationId$jscomp$26$$, $origin$jscomp$16$$, $tabId$jscomp$27$$) {
  return this.$a$.connectRouteByRouteId($sourceUrn$jscomp$68$$, $routeId$jscomp$71$$, $presentationId$jscomp$26$$, $origin$jscomp$16$$, $tabId$jscomp$27$$);
};
$JSCompiler_prototypeAlias$$.joinRoute = function($sourceUrn$jscomp$69$$, $presentationId$jscomp$27$$, $offTheRecord$jscomp$11$$, $timeoutMillis$jscomp$14$$, $origin$jscomp$17$$, $tabId$jscomp$28$$) {
  return this.$a$.joinRoute($sourceUrn$jscomp$69$$, $presentationId$jscomp$27$$, $offTheRecord$jscomp$11$$, $timeoutMillis$jscomp$14$$, $origin$jscomp$17$$, $tabId$jscomp$28$$);
};
$JSCompiler_prototypeAlias$$.detachRoute = function($routeId$jscomp$72$$) {
  this.$f$.remove($routeId$jscomp$72$$);
  this.$a$.detachRoute($routeId$jscomp$72$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$ = function() {
  this.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
};
$JSCompiler_prototypeAlias$$.onSinkAvailabilityUpdated = function($provider$jscomp$8$$, $availability$jscomp$2$$) {
  this.$b$.onSinkAvailabilityUpdated($provider$jscomp$8$$, $availability$jscomp$2$$);
};
$JSCompiler_prototypeAlias$$.$onRouteAdded$ = function($provider$jscomp$9$$, $route$jscomp$43$$) {
  this.$b$.$onRouteAdded$(this, $route$jscomp$43$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$ = function($provider$jscomp$10$$, $route$jscomp$44$$) {
  this.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$(this, $route$jscomp$44$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteUpdated$ = function($provider$jscomp$11$$, $route$jscomp$45$$) {
  this.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteUpdated$(this, $route$jscomp$45$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$ = function($provider$jscomp$12$$, $route$jscomp$46$$, $message$jscomp$113$$) {
  this.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$(this, $route$jscomp$46$$, $message$jscomp$113$$);
};
$JSCompiler_prototypeAlias$$.onPresentationConnectionStateChanged = function($routeId$jscomp$73$$, $state$jscomp$9$$) {
  this.$b$.onPresentationConnectionStateChanged($routeId$jscomp$73$$, $state$jscomp$9$$);
};
$JSCompiler_prototypeAlias$$.onPresentationConnectionClosed = function($routeId$jscomp$74$$, $reason$jscomp$26$$, $message$jscomp$114$$) {
  this.$b$.onPresentationConnectionClosed($routeId$jscomp$74$$, $reason$jscomp$26$$, $message$jscomp$114$$);
};
$JSCompiler_prototypeAlias$$.$getProviderFromRouteId$ = function($routeId$jscomp$75$$) {
  return this.$b$.$getProviderFromRouteId$($routeId$jscomp$75$$);
};
$JSCompiler_prototypeAlias$$.$getRouteMessageEventTarget$ = function() {
  return this.$b$.$getRouteMessageEventTarget$();
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$getIssueSender$ = function() {
  return this.$b$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$getIssueSender$();
};
$JSCompiler_prototypeAlias$$.$onInternalMessage$ = function($provider$jscomp$13$$, $routeId$jscomp$76$$, $message$jscomp$115$$) {
  this.$b$.$onInternalMessage$(this, $routeId$jscomp$76$$, $message$jscomp$115$$);
};
$JSCompiler_prototypeAlias$$.$onMirrorSessionEnded$ = function($routeId$jscomp$77$$) {
  this.$b$.$onMirrorSessionEnded$($routeId$jscomp$77$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$ = function($sink$jscomp$94$$) {
  this.$a$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkAdded$($sink$jscomp$94$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$ = function($sinks$jscomp$13$$) {
  this.$a$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinksRemoved$($sinks$jscomp$13$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$ = function($sink$jscomp$95$$) {
  this.$a$.$module$contents$mr$DialProvider_DialProvider_prototype$onSinkUpdated$($sink$jscomp$95$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$startMirroring$ = function() {
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$updateMirroring$ = function() {
};
$JSCompiler_prototypeAlias$$.searchSinks = function($sourceUrn$jscomp$71$$, $searchCriteria$jscomp$3$$) {
  return this.$a$.searchSinks($sourceUrn$jscomp$71$$, $searchCriteria$jscomp$3$$);
};
$JSCompiler_prototypeAlias$$.provideSinks = function($sinks$jscomp$14$$) {
  this.$a$.provideSinks($sinks$jscomp$14$$);
};
$JSCompiler_prototypeAlias$$.createMediaRouteController = function() {
  return $mr$Assertions$rejectNotImplemented$$();
};
$JSCompiler_prototypeAlias$$.$registerMdnsDiscoveryEnabledCallback$ = function($callback$jscomp$426$$) {
  this.$b$.$registerMdnsDiscoveryEnabledCallback$($callback$jscomp$426$$);
};
$JSCompiler_prototypeAlias$$.$isMdnsDiscoveryEnabled$ = function() {
  return this.$b$.$isMdnsDiscoveryEnabled$();
};
$JSCompiler_prototypeAlias$$.$requestKeepAlive$ = function($componentId$jscomp$1$$, $keepAlive$jscomp$1$$) {
  return this.$b$.$requestKeepAlive$($componentId$jscomp$1$$, $keepAlive$jscomp$1$$);
};
var $module$contents$mr$cast$DialProviderWrapper_PersistentData_$$ = function($routeLaunchInfoMap$$, $sequenceNumber$$, $sessionSequenceNumber$$, $launchRequestSet$$) {
  this.$b$ = $routeLaunchInfoMap$$;
  this.sequenceNumber = $sequenceNumber$$;
  this.$f$ = $sessionSequenceNumber$$;
  this.$a$ = $launchRequestSet$$;
}, $module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper$APP_NAME_REGEX_$$ = /__dialAppName__/;
var $mr$UdpProxyUtils$sendXhr_$$ = function($url$jscomp$80$$) {
  var $request$jscomp$38$$ = new XMLHttpRequest;
  $request$jscomp$38$$.open("GET", $url$jscomp$80$$, !1);
  $request$jscomp$38$$.send(null);
  return 200 === $request$jscomp$38$$.status ? $request$jscomp$38$$.responseText : null;
};
var $mr$E2ETestService$$ = function($providerManager$$) {
  this.$a$ = $providerManager$$;
  this.$b$ = null;
  this.start = this.start;
  this.stop = this.stop;
  this.stopMirroring = this.$stopMirroring$;
  this.mirrorDesktopViaCastStreaming = this.$mirrorDesktopViaCastStreaming$;
  this.mirrorTabViaCastStreaming = this.$mirrorTabViaCastStreaming$;
  this.getSinksForCastUrn = this.$getSinksForCastUrn$;
};
$JSCompiler_prototypeAlias$$ = $mr$E2ETestService$$.prototype;
$JSCompiler_prototypeAlias$$.start = function() {
  var $castProvider$jscomp$3$$ = $JSCompiler_StaticMethods_getProviderByName$$(this.$a$, "cast");
  $castProvider$jscomp$3$$ && ($castProvider$jscomp$3$$.startObservingMediaSinks("urn:x-org.chromium.media:source:desktop"), $castProvider$jscomp$3$$.startObservingMediaSinks("https://google.com/cast#__castAppId__=BE6E4473"));
};
$JSCompiler_prototypeAlias$$.stop = function() {
  var $castProvider$jscomp$4$$ = $JSCompiler_StaticMethods_getProviderByName$$(this.$a$, "cast");
  $castProvider$jscomp$4$$ && ($castProvider$jscomp$4$$.stopObservingMediaSinks("urn:x-org.chromium.media:source:desktop"), $castProvider$jscomp$4$$.stopObservingMediaSinks("https://google.com/cast#__castAppId__=BE6E4473"));
};
$JSCompiler_prototypeAlias$$.$stopMirroring$ = function() {
  var $$jscomp$this$jscomp$95$$ = this;
  this.$b$ && this.$a$.terminateRoute(this.$b$).then(function() {
    $$jscomp$this$jscomp$95$$.$b$ = null;
  });
};
$JSCompiler_prototypeAlias$$.$mirrorDesktopViaCastStreaming$ = function($sink$jscomp$96_sinkName$$) {
  var $$jscomp$this$jscomp$96$$ = this;
  ($sink$jscomp$96_sinkName$$ = $JSCompiler_StaticMethods_getSinkByName_$$(this, $sink$jscomp$96_sinkName$$)) && this.$a$.createRoute("urn:x-org.chromium.media:source:desktop", $sink$jscomp$96_sinkName$$.id, "test" + Math.floor(1e6 * Math.random())).then(function($sink$jscomp$96_sinkName$$) {
    $$jscomp$this$jscomp$96$$.$b$ = $sink$jscomp$96_sinkName$$.id;
  });
};
$JSCompiler_prototypeAlias$$.$mirrorTabViaCastStreaming$ = function($sinkName$jscomp$1$$, $url$jscomp$81$$, $proxyServer$jscomp$2$$, $networkProfile$jscomp$1$$) {
  var $$jscomp$this$jscomp$97$$ = this, $sink$jscomp$97$$ = $JSCompiler_StaticMethods_getSinkByName_$$(this, $sinkName$jscomp$1$$);
  if ($sink$jscomp$97$$) {
    if ($proxyServer$jscomp$2$$ && $networkProfile$jscomp$1$$) {
      var $onAnswer$$ = function($sinkName$jscomp$1$$) {
        var $url$jscomp$81$$ = $sinkName$jscomp$1$$.address, $$jscomp$this$jscomp$97$$ = $sinkName$jscomp$1$$.port, $sink$jscomp$97$$ = new $goog$Uri$$($proxyServer$jscomp$2$$ + "/start"), $onAnswer$$ = new $goog$Uri$QueryData$$;
        $onAnswer$$.set("eureka_ip", $url$jscomp$81$$);
        $onAnswer$$.set("mirroring_port", $$jscomp$this$jscomp$97$$);
        $onAnswer$$.set("network_profile", $networkProfile$jscomp$1$$);
        $JSCompiler_StaticMethods_setQueryData$$($sink$jscomp$97$$, $onAnswer$$);
        $url$jscomp$81$$ = $mr$UdpProxyUtils$sendXhr_$$($sink$jscomp$97$$.toString()).split(":");
        $sinkName$jscomp$1$$.address = $url$jscomp$81$$[0];
        $sinkName$jscomp$1$$.port = Number($url$jscomp$81$$[1]);
      }, $onSessionStop$$ = function($sinkName$jscomp$1$$) {
        $sinkName$jscomp$1$$ = $sinkName$jscomp$1$$.port;
        var $url$jscomp$81$$ = new $goog$Uri$$($proxyServer$jscomp$2$$ + "/stop"), $networkProfile$jscomp$1$$ = new $goog$Uri$QueryData$$;
        $networkProfile$jscomp$1$$.set("udp_proxy_ports", $sinkName$jscomp$1$$);
        $JSCompiler_StaticMethods_setQueryData$$($url$jscomp$81$$, $networkProfile$jscomp$1$$);
        $mr$UdpProxyUtils$sendXhr_$$($url$jscomp$81$$.toString());
      };
      $JSCompiler_StaticMethods_getMirrorService$$(this.$a$, "cast_streaming").then(function($sinkName$jscomp$1$$) {
        $sinkName$jscomp$1$$.$l$({onAnswer:$onAnswer$$, onSessionStop:$onSessionStop$$});
      });
    }
    chrome.tabs.create({url:$url$jscomp$81$$}, function($sinkName$jscomp$1$$) {
      $$jscomp$this$jscomp$97$$.$a$.createRoute("urn:x-org.chromium.media:source:tab:" + $sinkName$jscomp$1$$.id, $sink$jscomp$97$$.id, "test" + Math.floor(1e6 * Math.random()), void 0, $sinkName$jscomp$1$$.id).then(function($sinkName$jscomp$1$$) {
        $$jscomp$this$jscomp$97$$.$b$ = $sinkName$jscomp$1$$.id;
      });
    });
  }
};
$JSCompiler_prototypeAlias$$.$getSinksForCastUrn$ = function() {
  var $provider$jscomp$16$$ = $JSCompiler_StaticMethods_getProviderByName$$(this.$a$, "cast");
  return $provider$jscomp$16$$ ? $provider$jscomp$16$$.$getAvailableSinks$("https://google.com/cast#__castAppId__=BE6E4473").sinks : [];
};
var $JSCompiler_StaticMethods_getSinkByName_$$ = function($JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$, $sinkName$jscomp$2$$) {
  return ($JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$ = $JSCompiler_StaticMethods_getProviderByName$$($JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$.$a$, "cast")) ? $JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$.$getAvailableSinks$("urn:x-org.chromium.media:source:desktop").sinks.find(function($JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$) {
    return $JSCompiler_StaticMethods_getSinkByName_$self_provider$jscomp$17$$.friendlyName == $sinkName$jscomp$2$$;
  }) || null : null;
};
var $mr$ExternalMessageHandler$$ = function($providerManager$jscomp$1$$) {
  this.$a$ = $providerManager$jscomp$1$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.ExternalMessageHandler");
};
$mr$ExternalMessageHandler$$.prototype.onMessage = function($createMeetingCommand_message$jscomp$116$$, $sender$jscomp$3$$, $sendResponse$jscomp$2$$) {
  var $$jscomp$this$jscomp$98$$ = this;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Received a message from " + $sender$jscomp$3$$.id + " type: " + $createMeetingCommand_message$jscomp$116$$.type);
  var $mrId$$ = chrome.runtime.id;
  "start" == $createMeetingCommand_message$jscomp$116$$.type ? ($createMeetingCommand_message$jscomp$116$$ = $createMeetingCommand_message$jscomp$116$$.message, this.$a$.searchSinks("pseudo:cloud", "urn:x-org.chromium.media:source:desktop", new $mr$SinkSearchCriteria$$($createMeetingCommand_message$jscomp$116$$.meetingName, $createMeetingCommand_message$jscomp$116$$.domain)).then(function($createMeetingCommand_message$jscomp$116$$) {
    var $sink$jscomp$99$$ = "PresentationId" + $sender$jscomp$3$$.id + $mr$ExternalMessageHandler$presentationCount_$$++;
    $$jscomp$this$jscomp$98$$.$a$.createRoute("urn:x-org.chromium.media:source:desktop", $createMeetingCommand_message$jscomp$116$$, $sink$jscomp$99$$).then(function($createMeetingCommand_message$jscomp$116$$) {
      $sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "route", $createMeetingCommand_message$jscomp$116$$.id));
    }).catch(function($createMeetingCommand_message$jscomp$116$$) {
      $sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "error", $createMeetingCommand_message$jscomp$116$$));
    });
  }, function() {
    $sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "error", Error("Failed to find sink.")));
  })) : "stop" == $createMeetingCommand_message$jscomp$116$$.type ? this.$a$.terminateRoute($createMeetingCommand_message$jscomp$116$$.message.routeId).then(function() {
    $sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "stopped"));
  }) : ($sendResponse$jscomp$2$$(new $mr$InternalMessage$$($mrId$$, "error", Error("Unhandled message type"))), this.$logger_$.error("Unhandled message type " + $createMeetingCommand_message$jscomp$116$$.type));
};
var $mr$ExternalMessageHandler$presentationCount_$$ = 0;
var $module$contents$mr$FixedSizeQueue_FixedSizeQueue$$ = function($maxSize$jscomp$1$$) {
  if (0 >= $maxSize$jscomp$1$$) {
    throw Error("invalid buffer size");
  }
  this.$a$ = [];
  this.$b$ = [];
  this.$f$ = $maxSize$jscomp$1$$;
}, $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$$ = function($JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$, $item$jscomp$11$$) {
  if ($JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$getCount$() >= $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$f$) {
    if ($JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$isEmpty$()) {
      throw Error("Empty queue");
    }
    0 == $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$a$.length && ($JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$a$ = $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$b$, $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$a$.reverse(), $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$b$ = 
    []);
    $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$a$.pop();
  }
  $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$self$$.$b$.push($item$jscomp$11$$);
};
$module$contents$mr$FixedSizeQueue_FixedSizeQueue$$.prototype.$getCount$ = function() {
  return this.$a$.length + this.$b$.length;
};
$module$contents$mr$FixedSizeQueue_FixedSizeQueue$$.prototype.$isEmpty$ = function() {
  return 0 == this.$getCount$();
};
$module$contents$mr$FixedSizeQueue_FixedSizeQueue$$.prototype.$getValues$ = function() {
  var $result$jscomp$42$$ = this.$a$.slice();
  $result$jscomp$42$$.reverse();
  $result$jscomp$42$$.push.apply($result$jscomp$42$$, [].concat($$jscomp$arrayFromIterable$$(this.$b$)));
  return $result$jscomp$42$$;
};
$module$contents$mr$FixedSizeQueue_FixedSizeQueue$$.prototype.clear = function() {
  this.$a$ = [];
  this.$b$ = [];
};
var $mr$LogManager$$ = function() {
  this.$a$ = new $module$contents$mr$FixedSizeQueue_FixedSizeQueue$$(1000);
  this.$b$ = Date.now();
}, $mr$LogManager$getInstance$$ = function() {
  null == $mr$LogManager$instance_$$ && ($mr$LogManager$instance_$$ = new $mr$LogManager$$);
  return $mr$LogManager$instance_$$;
};
$mr$LogManager$$.prototype.init = function() {
  $mr$Logger$level$$ = 1;
  var $browserLogger$$ = $mr$Logger$getInstance$$("browser"), $oldErrorHandler$jscomp$1$$ = window.onerror;
  window.onerror = function($debugLevel$$, $url$jscomp$82$$, $line$jscomp$1$$, $col$jscomp$18$$, $error$jscomp$44$$) {
    $oldErrorHandler$jscomp$1$$ && $oldErrorHandler$jscomp$1$$($debugLevel$$, $url$jscomp$82$$, $line$jscomp$1$$, $col$jscomp$18$$, $error$jscomp$44$$);
    $browserLogger$$.error("Error: " + $debugLevel$$ + " (" + $url$jscomp$82$$ + " @ Line: " + $line$jscomp$1$$ + ")", $error$jscomp$44$$);
  };
  $mr$Logger$handlers_$$.push(this.$g$.bind(this));
  var $debugLevel$$ = window.localStorage["debug.logs"];
  $debugLevel$$ && ($mr$Logger$level$$ = $mr$Logger$stringToLevel$$($debugLevel$$.toUpperCase()));
  window.localStorage["debug.console"] && $mr$Logger$handlers_$$.push(this.$f$.bind(this));
};
$mr$LogManager$$.prototype.$g$ = function($exception$jscomp$9_logRecord$jscomp$4$$) {
  $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$$(this.$a$, $JSCompiler_StaticMethods_formatRecord_$$(this, $exception$jscomp$9_logRecord$jscomp$4$$, !1));
  $exception$jscomp$9_logRecord$jscomp$4$$ = $exception$jscomp$9_logRecord$jscomp$4$$.$exception$;
  $exception$jscomp$9_logRecord$jscomp$4$$ instanceof Error && $exception$jscomp$9_logRecord$jscomp$4$$.stack && $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$$(this.$a$, $exception$jscomp$9_logRecord$jscomp$4$$.stack);
};
$mr$LogManager$$.prototype.$f$ = function($logRecord$jscomp$5$$) {
  var $args$jscomp$23$$ = [$JSCompiler_StaticMethods_formatRecord_$$(this, $logRecord$jscomp$5$$, !0)];
  $logRecord$jscomp$5$$.$exception$ && $args$jscomp$23$$.push($logRecord$jscomp$5$$.$exception$);
  switch($logRecord$jscomp$5$$.level) {
    case 3:
      console.error.apply(console, [].concat($$jscomp$arrayFromIterable$$($args$jscomp$23$$)));
      break;
    case 2:
      console.warn.apply(console, [].concat($$jscomp$arrayFromIterable$$($args$jscomp$23$$)));
      break;
    case 1:
      console.log.apply(console, [].concat($$jscomp$arrayFromIterable$$($args$jscomp$23$$)));
      break;
    default:
      console.debug.apply(console, [].concat($$jscomp$arrayFromIterable$$($args$jscomp$23$$)));
  }
};
var $JSCompiler_StaticMethods_formatRecord_$$ = function($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$, $record$jscomp$8$$, $forConsole$$) {
  var $sb$jscomp$11$$ = ["["];
  if ($forConsole$$) {
    $sb$jscomp$11$$.push(("       " + ((Date.now() - $JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$.$b$) / 1000).toFixed(3)).slice(-7));
  } else {
    $JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$ = new Date($record$jscomp$8$$.time);
    var $twoDigitStr$$ = function($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$) {
      return 10 > $JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$ ? "0" + $JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$ : $JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$;
    };
    $sb$jscomp$11$$.push($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$.getFullYear().toString(), "-", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$.getMonth() + 1), "-", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$.getDate()), " ", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$.getHours()), ":", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$.getMinutes()), ":", $twoDigitStr$$($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$.getSeconds()), 
    ".", $twoDigitStr$$(Math.floor($JSCompiler_StaticMethods_formatRecord_$self_date$jscomp$5$$.getMilliseconds() / 10)));
  }
  $sb$jscomp$11$$.push("][", $mr$Logger$LEVEL_NAMES_$$[$record$jscomp$8$$.level], "][", $record$jscomp$8$$.$logger$, "] ", $record$jscomp$8$$.message);
  if (!$forConsole$$ && null != $record$jscomp$8$$.$exception$) {
    if ($sb$jscomp$11$$.push("\n"), $record$jscomp$8$$.$exception$ instanceof Error) {
      $sb$jscomp$11$$.push($record$jscomp$8$$.$exception$.message);
    } else {
      try {
        $sb$jscomp$11$$.push(JSON.stringify($record$jscomp$8$$.$exception$));
      } catch ($e$jscomp$76$$) {
        $sb$jscomp$11$$.push($record$jscomp$8$$.$exception$.toString());
      }
    }
  }
  $sb$jscomp$11$$.push("\n");
  return $sb$jscomp$11$$.join("");
}, $JSCompiler_StaticMethods_getLogs$$ = function() {
  var $JSCompiler_StaticMethods_getLogs$self$$ = $mr$LogManager$getInstance$$();
  return 0 == $JSCompiler_StaticMethods_getLogs$self$$.$a$.$getCount$() ? "NA" : $JSCompiler_StaticMethods_getLogs$self$$.$a$.$getValues$().join("");
};
$mr$LogManager$$.prototype.$getStorageKey$ = function() {
  return "LogManager";
};
$mr$LogManager$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [this.$a$.$getValues$()];
};
$mr$LogManager$$.prototype.$loadSavedData$ = function() {
  var $$jscomp$iter$12_currentLogs$$ = this.$a$.$getValues$();
  this.$a$.clear();
  for (var $$jscomp$iter$11$$ = $$jscomp$makeIterator$$($mr$PersistentDataManager$getTemporaryData$$(this) || []), $$jscomp$key$log$$ = $$jscomp$iter$11$$.next(); !$$jscomp$key$log$$.done; $$jscomp$key$log$$ = $$jscomp$iter$11$$.next()) {
    $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$$(this.$a$, $$jscomp$key$log$$.value);
  }
  $$jscomp$iter$12_currentLogs$$ = $$jscomp$makeIterator$$($$jscomp$iter$12_currentLogs$$);
  for ($$jscomp$key$log$$ = $$jscomp$iter$12_currentLogs$$.next(); !$$jscomp$key$log$$.done; $$jscomp$key$log$$ = $$jscomp$iter$12_currentLogs$$.next()) {
    $JSCompiler_StaticMethods_module$contents$mr$FixedSizeQueue_FixedSizeQueue_prototype$enqueue$$(this.$a$, $$jscomp$key$log$$.value);
  }
};
var $mr$LogManager$instance_$$ = null;
var $mr$InternalMessageHandler$$ = function($providerManager$jscomp$2$$) {
  this.$a$ = $providerManager$jscomp$2$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.InternalMessageHandler");
};
$mr$InternalMessageHandler$$.prototype.onMessage = function($logUploadPromise_message$jscomp$118$$, $allPromises_sender$jscomp$4$$, $sendResponse$jscomp$3$$) {
  var $$jscomp$this$jscomp$99$$ = this;
  if ("retrieve_log_data" != $logUploadPromise_message$jscomp$118$$.type) {
    $sendResponse$jscomp$3$$(new $mr$InternalMessage$$(chrome.runtime.id, "error", Error("Unhandled message type")));
  } else {
    var $response$jscomp$11$$ = {logs:$JSCompiler_StaticMethods_getLogs$$(), device:$JSCompiler_StaticMethods_getRecentDevice$$()};
    $allPromises_sender$jscomp$4$$ = [];
    var $getVersionPromise$$ = $module$contents$mr$DongleUtils_DongleUtils$getSetupInfo$$($response$jscomp$11$$.device.ip).then(function($logUploadPromise_message$jscomp$118$$) {
      $logUploadPromise_message$jscomp$118$$.$a$ && ($response$jscomp$11$$.device.version = $logUploadPromise_message$jscomp$118$$.$a$);
    });
    $allPromises_sender$jscomp$4$$.push($getVersionPromise$$);
    var $lastUsedMirrorService$$ = this.$a$.$w$;
    $lastUsedMirrorService$$ && ($logUploadPromise_message$jscomp$118$$ = $JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$$(this, $lastUsedMirrorService$$, $logUploadPromise_message$jscomp$118$$.source).then(function($logUploadPromise_message$jscomp$118$$) {
      $logUploadPromise_message$jscomp$118$$ && ($response$jscomp$11$$.castStreamingLogs = $logUploadPromise_message$jscomp$118$$);
    }, function() {
      $$jscomp$this$jscomp$99$$.$logger_$.error("Log upload failed for service: " + $lastUsedMirrorService$$);
    }), $allPromises_sender$jscomp$4$$.push($logUploadPromise_message$jscomp$118$$));
    $allPromises_sender$jscomp$4$$.push($JSCompiler_StaticMethods_addDeviceCounts_$$(this, $response$jscomp$11$$, "mr.cast.SinkDiscoveryService", "castDeviceCounts"));
    $allPromises_sender$jscomp$4$$.push($JSCompiler_StaticMethods_addDeviceCounts_$$(this, $response$jscomp$11$$, "mr.dial.SinkDiscoveryService", "dialDeviceCounts"));
    $mr$PromiseUtils$allSettled$$($allPromises_sender$jscomp$4$$).then(function() {
      $sendResponse$jscomp$3$$($response$jscomp$11$$);
    });
  }
};
var $JSCompiler_StaticMethods_addDeviceCounts_$$ = function($JSCompiler_StaticMethods_addDeviceCounts_$self$$, $response$jscomp$12$$, $moduleId$jscomp$6$$, $key$jscomp$132$$) {
  return $mr$Module$load$$($moduleId$jscomp$6$$).then(function($JSCompiler_StaticMethods_addDeviceCounts_$self$$) {
    $JSCompiler_StaticMethods_addDeviceCounts_$self$$ = $JSCompiler_StaticMethods_addDeviceCounts_$self$$.$getDeviceCounts$();
    $response$jscomp$12$$[$key$jscomp$132$$] = $JSCompiler_StaticMethods_addDeviceCounts_$self$$.$knownDeviceCount$ + "." + $JSCompiler_StaticMethods_addDeviceCounts_$self$$.$availableDeviceCount$;
  }, function() {
    $JSCompiler_StaticMethods_addDeviceCounts_$self$$.$logger_$.error("Failed to get device counts for " + $key$jscomp$132$$ + ".");
  });
}, $JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$$ = function($JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$self$$, $mirrorServiceName$$, $feedbackId$jscomp$1$$) {
  return $JSCompiler_StaticMethods_getMirrorService$$($JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$self$$.$a$, $mirrorServiceName$$).then(function($JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$self$$) {
    return $JSCompiler_StaticMethods_loadMirrorServiceAndRequestLogUpload_$self$$.$mr_mirror_Service_prototype$requestLogUpload$($feedbackId$jscomp$1$$);
  });
};
var $mr$ObjectUtils$getPath$$ = function($obj$jscomp$98$$, $path$jscomp$24$$) {
  for (var $$jscomp$iter$13_$jscomp$restParams$jscomp$9$$ = [], $$jscomp$restIndex$jscomp$9_value$jscomp$184$$ = 1; $$jscomp$restIndex$jscomp$9_value$jscomp$184$$ < arguments.length; ++$$jscomp$restIndex$jscomp$9_value$jscomp$184$$) {
    $$jscomp$iter$13_$jscomp$restParams$jscomp$9$$[$$jscomp$restIndex$jscomp$9_value$jscomp$184$$ - 1] = arguments[$$jscomp$restIndex$jscomp$9_value$jscomp$184$$];
  }
  for (var $$jscomp$restIndex$jscomp$9_value$jscomp$184$$ = $obj$jscomp$98$$, $$jscomp$iter$13_$jscomp$restParams$jscomp$9$$ = $$jscomp$makeIterator$$($$jscomp$iter$13_$jscomp$restParams$jscomp$9$$), $$jscomp$key$key$jscomp$4$$ = $$jscomp$iter$13_$jscomp$restParams$jscomp$9$$.next(); !$$jscomp$key$key$jscomp$4$$.done; $$jscomp$key$key$jscomp$4$$ = $$jscomp$iter$13_$jscomp$restParams$jscomp$9$$.next()) {
    if (void 0 == $$jscomp$restIndex$jscomp$9_value$jscomp$184$$ || "object" != typeof $$jscomp$restIndex$jscomp$9_value$jscomp$184$$) {
      return;
    }
    $$jscomp$restIndex$jscomp$9_value$jscomp$184$$ = $$jscomp$restIndex$jscomp$9_value$jscomp$184$$[$$jscomp$key$key$jscomp$4$$.value];
  }
  return $$jscomp$restIndex$jscomp$9_value$jscomp$184$$;
};
var $mr$CloudGcmEventListener$$ = function() {
  $mr$EventListener$$.call(this, 5, "cloud.GcmEventListener", "mr.cloud.discovery.CloudSinkDiscoveryService", chrome.gcm.onMessage);
  this.$logger_$ = $mr$Logger$getInstance$$("mr.CloudGcmEventListener");
};
$$jscomp$inherits$$($mr$CloudGcmEventListener$$, $mr$EventListener$$);
$mr$CloudGcmEventListener$$.prototype.$validateEvent$ = function($message$jscomp$119_notificationJson$$) {
  $message$jscomp$119_notificationJson$$ = $mr$ObjectUtils$getPath$$($message$jscomp$119_notificationJson$$, "data", "notification");
  if (!$message$jscomp$119_notificationJson$$) {
    return this.$logger_$.error("Notification json not found"), !1;
  }
  try {
    var $notification$$ = JSON.parse($message$jscomp$119_notificationJson$$);
    return !!$notification$$ && Array.isArray($notification$$.events) && 0 < $notification$$.events.length;
  } catch ($err$jscomp$28$$) {
    return this.$logger_$.error("Invalid json: " + $message$jscomp$119_notificationJson$$), !1;
  }
};
var $mr$CloudGcmEventListener$get$$ = function() {
  $mr$CloudGcmEventListener$listener_$$ || ($mr$CloudGcmEventListener$listener_$$ = new $mr$CloudGcmEventListener$$);
  return $mr$CloudGcmEventListener$listener_$$;
}, $mr$CloudGcmEventListener$listener_$$ = null;
var $mr$presentation$webrtc$CloudWebRtcSession$$ = function($route$jscomp$52$$, $sourceUrn$jscomp$73$$) {
  this.$j$ = $route$jscomp$52$$;
  this.$l$ = $sourceUrn$jscomp$73$$;
  this.$h$ = new $mr$PromiseResolver$$;
  this.$a$ = this.$h$.$a$;
  this.$g$ = $JSCompiler_StaticMethods_getInternalMessenger$$($route$jscomp$52$$.id);
  this.$b$ = new $mr$PromiseResolver$$;
  this.$f$ = !1;
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$$(this);
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$$(this);
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$sendMessageToMrp_$$(this, new $mr$webrtc$Message$$("GET_TURN_CREDENTIALS"));
};
$mr$presentation$webrtc$CloudWebRtcSession$$.prototype.start = function() {
  var $$jscomp$this$jscomp$101$$ = this;
  return this.$a$.then(function($pc$$) {
    if ($pc$$.$b$) {
      return Promise.reject(Error("Presentation already started"));
    }
    $pc$$.start();
    return $$jscomp$this$jscomp$101$$.$b$.$a$;
  });
};
$mr$presentation$webrtc$CloudWebRtcSession$$.prototype.stop = function() {
  var $$jscomp$this$jscomp$102$$ = this;
  this.$f$ = !1;
  return this.$a$.then(function($pc$jscomp$1$$) {
    $pc$jscomp$1$$.stop();
    $$jscomp$this$jscomp$102$$.$a$ = Promise.reject(Error("Peer connection has already been stopped"));
  });
};
var $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$$ = function($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$) {
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$g$.onMessage = function($message$jscomp$120$$) {
    if ($message$jscomp$120$$.type) {
      switch($message$jscomp$120$$.type) {
        case "TURN_CREDENTIALS":
          $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$h$.resolve(new $mr$webrtc$PeerConnection$$($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$j$.id, $message$jscomp$120$$.data.credentials));
          break;
        case "ANSWER":
          $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$a$.then(function($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$) {
            $JSCompiler_StaticMethods_mr_webrtc_PeerConnection_prototype$setRemoteDescription$$($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$, $message$jscomp$120$$.data);
          });
          break;
        case "STOP":
          $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$b$.reject("Stop signal received");
          $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.stop();
          break;
        default:
          throw Error("Unknown message type: " + $message$jscomp$120$$.type);
      }
    } else {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$a$.then(function($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$) {
        var $pc$jscomp$2$$ = {type:"PRESENTATION_CONNECTION_MESSAGE", data:$message$jscomp$120$$};
        "string" == typeof $pc$jscomp$2$$ ? $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$h$.send($pc$jscomp$2$$) : $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpMessagePort_$self$$.$h$.send(JSON.stringify($pc$jscomp$2$$));
      });
    }
  };
}, $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$$ = function($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$) {
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$a$.then(function($pc$jscomp$4$$) {
    $JSCompiler_StaticMethods_setOnOfferDescriptionReady$$($pc$jscomp$4$$, function($pc$jscomp$4$$) {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$sendMessageToMrp_$$($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$, new $mr$webrtc$Message$$("OFFER", new $mr$webrtc$OfferMessageData$$($pc$jscomp$4$$, null, null, $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$l$)));
    });
    $JSCompiler_StaticMethods_setOnDataChannelMessage$$($pc$jscomp$4$$, function($pc$jscomp$4$$) {
      $pc$jscomp$4$$ = $mr$webrtc$Message$fromString$$($pc$jscomp$4$$);
      "STOP" == $pc$jscomp$4$$.type && $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.stop();
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$sendMessageToMrp_$$($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$, $pc$jscomp$4$$);
    });
    $JSCompiler_StaticMethods_setOnConnectionSuccess$$($pc$jscomp$4$$, function() {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$f$ = !0;
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$sendMessageToMrp_$$($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$, new $mr$webrtc$Message$$("SESSION_START_SUCCESS"));
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$b$.resolve($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$j$);
    });
    $JSCompiler_StaticMethods_setOnConnectionClosed$$($pc$jscomp$4$$, function() {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$sendMessageToMrp_$$($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$, new $mr$webrtc$Message$$("SESSION_END"));
    });
    $JSCompiler_StaticMethods_setOnConnectionFailure$$($pc$jscomp$4$$, function($pc$jscomp$4$$) {
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$f$ || $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$.$b$.reject($pc$jscomp$4$$);
      $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$sendMessageToMrp_$$($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$setUpPeerConnection_$self$$, new $mr$webrtc$Message$$("SESSION_FAILURE"));
    });
  });
}, $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$sendMessageToMrp_$$ = function($JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$sendMessageToMrp_$self$$, $message$jscomp$123$$) {
  $JSCompiler_StaticMethods_mr_presentation_webrtc_CloudWebRtcSession_prototype$sendMessageToMrp_$self$$.$g$.sendMessage($message$jscomp$123$$, $mr$presentation$webrtc$CloudWebRtcSession$CLOUD_CHANNEL_EXTRA_INFO_$$);
}, $mr$presentation$webrtc$CloudWebRtcSession$CLOUD_CHANNEL_EXTRA_INFO_$$ = {channelType:"cloud"};
var $mr$cloud$CloudAnalytics$KNOCK_RESULT$$ = {ACCEPTED:0, $DENIED$:1, TIMEOUT:2}, $mr$cloud$CloudAnalytics$SESSION_START_RESULT$$ = {SUCCESS:0, $FAILURE$:1}, $mr$cloud$CloudAnalytics$SESSION_END_REASON$$ = {$USER_ENDED$:0, $RECEIVER_ENDED$:1, $WEBRTC_SESSION_FAILED$:2, $HANGOUT_INVALID$:3, $HANGOUT_INACTIVE$:4, $MIRRORING_FAILED$:5, TIMEOUT:6, $PRESENTATION_FAILED$:7}, $mr$cloud$CloudAnalytics$SESSION_TYPE_VALUE$$ = {$HANGOUTS$:0, $STREAMING_RECEIVER$:1}, $mr$cloud$CloudAnalytics$USER_ROLE_VALUE$$ = 
{$OWNER$:0, $MANAGER$:1, USER:2, $GUEST$:3}, $mr$cloud$CloudAnalytics$recordKnockResult$$ = function($result$jscomp$43$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Knock.Result", $result$jscomp$43$$, $mr$cloud$CloudAnalytics$KNOCK_RESULT$$);
}, $mr$cloud$CloudAnalytics$recordSessionStarted$$ = function($result$jscomp$44$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Session.Start", $result$jscomp$44$$, $mr$cloud$CloudAnalytics$SESSION_START_RESULT$$);
}, $mr$cloud$CloudAnalytics$recordSessionType$$ = function($value$jscomp$185$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Session.Type", $value$jscomp$185$$, $mr$cloud$CloudAnalytics$SESSION_TYPE_VALUE$$);
}, $mr$cloud$CloudAnalytics$recordUserRole$$ = function($value$jscomp$186$$) {
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Device.UserRole", $value$jscomp$186$$, $mr$cloud$CloudAnalytics$USER_ROLE_VALUE$$);
};
var $mr$cloud$mesi$HangoutInfo$$ = function($isMeeting$$, $id$jscomp$58$$, $domain$jscomp$5$$, $meetingName$$, $title$jscomp$15$$, $resolvedId$$) {
  $domain$jscomp$5$$ = void 0 === $domain$jscomp$5$$ ? null : $domain$jscomp$5$$;
  $meetingName$$ = void 0 === $meetingName$$ ? null : $meetingName$$;
  $title$jscomp$15$$ = void 0 === $title$jscomp$15$$ ? null : $title$jscomp$15$$;
  $resolvedId$$ = void 0 === $resolvedId$$ ? null : $resolvedId$$;
  $isMeeting$$ ? $goog$asserts$assert$$(null == $domain$jscomp$5$$) : null == $domain$jscomp$5$$ && ($domain$jscomp$5$$ = "default");
  this.$isMeeting_$ = $isMeeting$$;
  this.$id_$ = $id$jscomp$58$$;
  this.$domain_$ = $domain$jscomp$5$$;
  this.$meetingName_$ = $meetingName$$;
  this.$title_$ = $title$jscomp$15$$;
  this.$resolvedId_$ = $resolvedId$$;
}, $mr$cloud$mesi$HangoutInfo$fromKeyAndService$$ = function($isMeeting$jscomp$1$$, $hangoutKey$$, $opt_hangoutService$$, $opt_domain$jscomp$2$$, $opt_meetingName$$, $opt_title$jscomp$3$$, $opt_resolvedId$$) {
  $goog$asserts$assert$$($isMeeting$jscomp$1$$ || void 0 != $opt_hangoutService$$);
  return new $mr$cloud$mesi$HangoutInfo$$($isMeeting$jscomp$1$$, $isMeeting$jscomp$1$$ ? $hangoutKey$$ : $hangoutKey$$ + "@" + $opt_hangoutService$$, $opt_domain$jscomp$2$$, $opt_meetingName$$, $opt_title$jscomp$3$$, $opt_resolvedId$$);
};
$mr$cloud$mesi$HangoutInfo$$.prototype.$b$ = function() {
  var $displayName$jscomp$1$$ = "";
  this.$title_$ ? $displayName$jscomp$1$$ = this.$title_$ : this.$meetingName_$ && ($displayName$jscomp$1$$ = this.$meetingName_$);
  return $goog$asserts$assert$$($displayName$jscomp$1$$, "Missing Hangout display name forHangout id: " + this.getId());
};
$mr$cloud$mesi$HangoutInfo$$.prototype.$isMeeting$ = function() {
  return this.$isMeeting_$;
};
$mr$cloud$mesi$HangoutInfo$$.prototype.getId = function() {
  return this.$id_$;
};
$mr$cloud$mesi$HangoutInfo$$.prototype.merge = function($other$jscomp$4$$) {
  !this.$resolvedId_$ && $other$jscomp$4$$.$resolvedId_$ && (this.$resolvedId_$ = $other$jscomp$4$$.$resolvedId_$);
  !this.$title_$ && $other$jscomp$4$$.$title_$ && (this.$title_$ = $other$jscomp$4$$.$title_$);
  this.$title_$ && $other$jscomp$4$$.$title_$ && this.$resolvedId_$ && (this.$title_$ = $other$jscomp$4$$.$title_$);
  $goog$asserts$assert$$(this.$meetingName_$ == $other$jscomp$4$$.$meetingName_$);
  $goog$asserts$assert$$(this.$domain_$ == $other$jscomp$4$$.$domain_$);
};
var $mr$cloud$ApiaryConfig_$$ = function($apiUrl$$, $unauthenticatedAccessKey$$) {
  this.$a$ = $apiUrl$$;
  this.$b$ = $unauthenticatedAccessKey$$;
}, $mr$cloud$GCD_CONFIG$$ = new $mr$cloud$ApiaryConfig_$$("https://www.googleapis.com/clouddevices/v1", "AIzaSyAOZM8ZYeov685QMjXT3sC7XNizfrTEKjA"), $mr$cloud$CALENDAR_CONFIG$$ = new $mr$cloud$ApiaryConfig_$$("https://www.googleapis.com/calendar/v3", ""), $mr$cloud$MESI_CONFIG$$ = new $mr$cloud$ApiaryConfig_$$("https://www.googleapis.com/hangouts/v1", ""), $mr$cloud$TURN_CREDS_CONFIG$$ = new $mr$cloud$ApiaryConfig_$$("https://networktraversal.googleapis.com/v1alpha", "AIzaSyAOZM8ZYeov685QMjXT3sC7XNizfrTEKjA");
var $mr$cloud$calendar$CalendarService$$ = function($gapiService$$, $identityService$$) {
  this.$b$ = $gapiService$$;
  this.$f$ = $identityService$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.calendar.CalendarService");
}, $JSCompiler_StaticMethods_findProximalHangouts$$ = function($JSCompiler_StaticMethods_findProximalHangouts$self$$) {
  var $userEmail$jscomp$1$$ = $goog$asserts$assert$$($JSCompiler_StaticMethods_findProximalHangouts$self$$.$f$.$b$, "No user email to use as calendar id to query for events.");
  return $JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$$($JSCompiler_StaticMethods_findProximalHangouts$self$$, $userEmail$jscomp$1$$).then(function($userEmail$jscomp$1$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_findProximalHangouts$self$$.$logger_$, $JSCompiler_StaticMethods_getAbstractCount_$$($userEmail$jscomp$1$$.length) + " events discovered before filtering.");
    return $JSCompiler_StaticMethods_getHangoutsFromEvents_$$($JSCompiler_StaticMethods_findProximalHangouts$self$$, $userEmail$jscomp$1$$);
  }, function($userEmail$jscomp$1$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_findProximalHangouts$self$$.$logger_$, "Error getting Hangouts from calendar.", $userEmail$jscomp$1$$);
    return [];
  });
}, $JSCompiler_StaticMethods_getAbstractCount_$$ = function($count$jscomp$19$$) {
  return 20 < $count$jscomp$19$$ ? "20+" : $count$jscomp$19$$.toString();
}, $JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$$ = function($JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$self$$, $calendarId$$) {
  var $now$jscomp$1$$ = Date.now();
  return $JSCompiler_StaticMethods_getCalendarEvents_$$($JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$self$$, $calendarId$$, new Date($now$jscomp$1$$), new Date($now$jscomp$1$$ + 9E5)).then(function($calendarId$$) {
    return $calendarId$$.filter($JSCompiler_StaticMethods_getCurrentEventsFromCalendar_$self$$.$a$);
  });
};
$mr$cloud$calendar$CalendarService$$.prototype.$a$ = function($event$jscomp$21$$) {
  return !(!$event$jscomp$21$$.start || !$event$jscomp$21$$.end || $event$jscomp$21$$.start.date || $event$jscomp$21$$.end.date || !$event$jscomp$21$$.start.dateTime || !$event$jscomp$21$$.end.dateTime);
};
var $JSCompiler_StaticMethods_getCalendarEvents_$$ = function($JSCompiler_StaticMethods_getCalendarEvents_$self$$, $calendarId$jscomp$1_path$jscomp$25$$, $timeMin$$, $timeMax$$) {
  $calendarId$jscomp$1_path$jscomp$25$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$CALENDAR_CONFIG$$.$a$, ["calendars", $calendarId$jscomp$1_path$jscomp$25$$, "events"], {timeMin:$timeMin$$.toJSON(), timeMax:$timeMax$$.toJSON(), singleEvents:!0});
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_getCalendarEvents_$self$$.$logger_$, "Retrieving Hangouts from Calendar: " + $calendarId$jscomp$1_path$jscomp$25$$);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_getCalendarEvents_$self$$.$b$, $calendarId$jscomp$1_path$jscomp$25$$, "GET").then(function($JSCompiler_StaticMethods_getCalendarEvents_$self$$) {
    return $JSCompiler_StaticMethods_getCalendarEvents_$self$$.items ? $JSCompiler_StaticMethods_getCalendarEvents_$self$$.items : [];
  });
}, $JSCompiler_StaticMethods_getHangoutsFromEvents_$$ = function($JSCompiler_StaticMethods_getHangoutsFromEvents_$self$$, $events$jscomp$3$$) {
  var $hangouts$$ = [];
  $events$jscomp$3$$.filter(function($JSCompiler_StaticMethods_getHangoutsFromEvents_$self$$) {
    return $JSCompiler_StaticMethods_getHangoutsFromEvents_$self$$.hangoutLink;
  }).forEach(function($events$jscomp$3$$) {
    var $event$jscomp$23$$ = new $goog$Uri$$($events$jscomp$3$$.hangoutLink);
    if ("meet.google.com" == $event$jscomp$23$$.$domain_$) {
      $hangouts$$.push(new $mr$cloud$mesi$HangoutInfo$$(!0, $event$jscomp$23$$.$a$.substring(1), void 0, void 0, $events$jscomp$3$$.summary));
    } else {
      if ($event$jscomp$23$$ = $event$jscomp$23$$.$a$.substring(12).split("/"), 2 == $event$jscomp$23$$.length) {
        var $$jscomp$destructuring$var7_keyValue$48$$ = $$jscomp$makeIterator$$($event$jscomp$23$$), $event$jscomp$23$$ = $$jscomp$destructuring$var7_keyValue$48$$.next().value, $$jscomp$destructuring$var7_keyValue$48$$ = $$jscomp$destructuring$var7_keyValue$48$$.next().value;
        if (-1 != $event$jscomp$23$$.indexOf(".")) {
          var $meetingName$jscomp$1$$ = $$jscomp$destructuring$var7_keyValue$48$$;
          var $domain$jscomp$6$$ = $event$jscomp$23$$;
        }
        $hangouts$$.push($mr$cloud$mesi$HangoutInfo$fromKeyAndService$$(!1, $$jscomp$destructuring$var7_keyValue$48$$, $event$jscomp$23$$, $domain$jscomp$6$$, $meetingName$jscomp$1$$, $events$jscomp$3$$.summary));
      } else {
        $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_getHangoutsFromEvents_$self$$.$logger_$, "Invalid hangout link from calendar event: " + $events$jscomp$3$$.hangoutLink);
      }
    }
  });
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getHangoutsFromEvents_$self$$.$logger_$, $JSCompiler_StaticMethods_getAbstractCount_$$($hangouts$$.length) + " events discovered with Hangout links.");
  return $hangouts$$;
};
var $mr$cloud$messaging$gcd$MessageUser$$ = function($email$$) {
  this.email = $email$$;
  this.imageUrl = null;
}, $mr$cloud$messaging$gcd$MessageResponse$$ = function($type$jscomp$175$$) {
  this.type = $type$jscomp$175$$;
}, $mr$cloud$messaging$gcd$CloudWebRtcSessionMessage$$ = function($sessionDescription$jscomp$3$$, $opt_user$jscomp$2$$, $opt_flungUrl$$) {
  this.type = "__cloud_webrtc_session_message__";
  this.sessionDescription = $sessionDescription$jscomp$3$$;
  this.user = null != $opt_user$jscomp$2$$ ? $opt_user$jscomp$2$$ : null;
  this.flungUrl = null != $opt_flungUrl$$ ? $opt_flungUrl$$ : null;
};
$$jscomp$inherits$$($mr$cloud$messaging$gcd$CloudWebRtcSessionMessage$$, $mr$cloud$messaging$gcd$MessageResponse$$);
var $mr$cloud$messaging$gcd$MessageDef$$ = function($name$jscomp$158$$, $parameters$jscomp$9$$, $opt_minimalRole$$) {
  this.name = $name$jscomp$158$$;
  this.parameters = $parameters$jscomp$9$$;
  this.minimalRole = null != $opt_minimalRole$$ ? $opt_minimalRole$$ : "user";
}, $mr$cloud$messaging$gcd$START_WEBRTC_SESSION_PARAMS_$$ = {_settings:{type:"string"}, _presentationRequest:{type:"string"}, _optMediaConstraints:{type:"string"}, _webrtcMessage:{type:"string"}, _user:{type:"string"}}, $mr$cloud$messaging$gcd$KNOCKING_START_WEBRTC_SESSION_MESSAGE_$$ = new $mr$cloud$messaging$gcd$MessageDef$$("_knockingStartWebrtcSession", $mr$cloud$messaging$gcd$START_WEBRTC_SESSION_PARAMS_$$, "viewer"), $mr$cloud$messaging$gcd$START_WEBRTC_SESSION_MESSAGE_$$ = new $mr$cloud$messaging$gcd$MessageDef$$("_startWebrtcSession", 
$mr$cloud$messaging$gcd$START_WEBRTC_SESSION_PARAMS_$$), $mr$cloud$messaging$gcd$STOP_SESSION_MESSAGE_$$ = new $mr$cloud$messaging$gcd$MessageDef$$("_stopSession", {}, "viewer");
var $mr$cloud$devices$CloudDevice$$ = function($base$jscomp$3$$) {
  this.$a$ = $base$jscomp$3$$;
  this.id = $goog$asserts$assert$$($base$jscomp$3$$.id);
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.devices.CloudDevice");
};
$mr$cloud$devices$CloudDevice$$.prototype.isAvailable = function() {
  if (this.getState().appStatus) {
    var $checkedIn$49_gcmConnected$$ = "online" == this.$a$.connectionStatus, $appAvailable$$ = "available" == this.getState().appStatus, $checkedIn$$ = $JSCompiler_StaticMethods_checkedInWithin_$$(this, 864E5);
    $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "Device id: " + this.id + ", availability: GCM connected " + $checkedIn$49_gcmConnected$$ + ", app Available: " + $appAvailable$$ + ", checked in: " + $checkedIn$$);
    return $checkedIn$49_gcmConnected$$ && $appAvailable$$ && $checkedIn$$;
  }
  $checkedIn$49_gcmConnected$$ = $JSCompiler_StaticMethods_checkedInWithin_$$(this, 9E5);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Availability for legacy receiver app: " + $checkedIn$49_gcmConnected$$);
  return $checkedIn$49_gcmConnected$$;
};
var $JSCompiler_StaticMethods_checkedInWithin_$$ = function($JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$, $checkInTimeMillis$$) {
  $JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$ = $JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$.$a$.lastUpdateTimeMs ? Number($JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$.$a$.lastUpdateTimeMs) : null;
  return !!($JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$ && $JSCompiler_StaticMethods_checkedInWithin_$self_lastUpdatedTime$$ > Date.now() - $checkInTimeMillis$$);
};
$mr$cloud$devices$CloudDevice$$.prototype.$b$ = function() {
  return this.getState().settings.receiverName;
};
$mr$cloud$devices$CloudDevice$$.prototype.getId = function() {
  return this.id;
};
$mr$cloud$devices$CloudDevice$$.prototype.getState = function() {
  return this.$a$.state._cloudCast;
};
var $mr$cloud$devices$CloudDevicesService$$ = function($gapiService$jscomp$1$$) {
  this.$j$ = $gapiService$jscomp$1$$;
  this.$b$ = this.$f$ = this.$a$ = null;
  this.$h$ = this.$g$ = !1;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.devices.CloudDevicesService");
  $mr$PersistentDataManager$register$$(this);
};
$mr$cloud$devices$CloudDevicesService$$.prototype.getDevice = function($deviceId$jscomp$4_path$jscomp$26$$) {
  $deviceId$jscomp$4_path$jscomp$26$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$GCD_CONFIG$$.$a$, ["devices", $deviceId$jscomp$4_path$jscomp$26$$]);
  return $JSCompiler_StaticMethods_callWithAuth$$(this.$j$, $deviceId$jscomp$4_path$jscomp$26$$, "GET").then(function($deviceId$jscomp$4_path$jscomp$26$$) {
    return new $mr$cloud$devices$CloudDevice$$($deviceId$jscomp$4_path$jscomp$26$$);
  });
};
var $JSCompiler_StaticMethods_listDevices_$$ = function($JSCompiler_StaticMethods_listDevices_$self$$, $queryParams$jscomp$2$$) {
  var $path$jscomp$27$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$GCD_CONFIG$$.$a$, ["devices"], $queryParams$jscomp$2$$);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_listDevices_$self$$.$j$, $path$jscomp$27$$, "GET").then(function($path$jscomp$27$$) {
    var $response$jscomp$13_token$jscomp$6$$ = ($path$jscomp$27$$.devices || []).filter(function($JSCompiler_StaticMethods_listDevices_$self$$) {
      return null != $JSCompiler_StaticMethods_listDevices_$self$$.commandDefs && null != $JSCompiler_StaticMethods_listDevices_$self$$.commandDefs._cloudCast;
    }).map(function($JSCompiler_StaticMethods_listDevices_$self$$) {
      return new $mr$cloud$devices$CloudDevice$$($JSCompiler_StaticMethods_listDevices_$self$$);
    });
    if ($path$jscomp$27$$ = $path$jscomp$27$$.nextPageToken) {
      var $newQueryParams$$ = $goog$object$clone$$($queryParams$jscomp$2$$);
      $newQueryParams$$.token = $path$jscomp$27$$;
      return $JSCompiler_StaticMethods_listDevices_$$($JSCompiler_StaticMethods_listDevices_$self$$, $newQueryParams$$).then(function($JSCompiler_StaticMethods_listDevices_$self$$) {
        return $response$jscomp$13_token$jscomp$6$$.concat($JSCompiler_StaticMethods_listDevices_$self$$);
      });
    }
    return $response$jscomp$13_token$jscomp$6$$;
  });
};
$mr$cloud$devices$CloudDevicesService$$.prototype.$getStorageKey$ = function() {
  return "CloudDevicesService";
};
$mr$cloud$devices$CloudDevicesService$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [new $mr$cloud$devices$CloudDevicesService$PersistentData$$(this.$a$, this.$b$, this.$f$)];
};
$mr$cloud$devices$CloudDevicesService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$13$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$13$$ && (this.$a$ = $savedData$jscomp$13$$.$lastSubscribeTime$, this.$b$ = $savedData$jscomp$13$$.gcmRegistrationId, this.$f$ = $savedData$jscomp$13$$.$lastRegisterTime$);
};
var $JSCompiler_StaticMethods_registerGcm$$ = function($JSCompiler_StaticMethods_registerGcm$self$$) {
  return new Promise(function($resolve$jscomp$33$$, $reject$jscomp$33$$) {
    $JSCompiler_StaticMethods_registerGcm$self$$.$g$ ? $reject$jscomp$33$$(Error("Registering...")) : ($JSCompiler_StaticMethods_registerGcm$self$$.$g$ = !0, $JSCompiler_StaticMethods_registerGcm$self$$.$b$ && $JSCompiler_StaticMethods_registerGcm$self$$.$f$ && $JSCompiler_StaticMethods_registerGcm$self$$.$f$ + 864E5 >= Date.now() ? ($JSCompiler_StaticMethods_registerGcm$self$$.$g$ = !1, $resolve$jscomp$33$$($JSCompiler_StaticMethods_registerGcm$self$$.$b$)) : chrome.gcm.register(["919648714761"], 
    function($registrationId$$) {
      $JSCompiler_StaticMethods_registerGcm$self$$.$g$ = !1;
      $registrationId$$ ? ($JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_registerGcm$self$$.$logger_$, "Got GCM ID: " + $registrationId$$), $JSCompiler_StaticMethods_registerGcm$self$$.$b$ = $registrationId$$, $JSCompiler_StaticMethods_registerGcm$self$$.$f$ = Date.now(), $JSCompiler_StaticMethods_registerGcm$self$$.$a$ = null, $resolve$jscomp$33$$($registrationId$$)) : ($JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_registerGcm$self$$.$logger_$, 
      "Error: " + chrome.runtime.lastError.message), $JSCompiler_StaticMethods_registerGcm$self$$.$b$ = null, $JSCompiler_StaticMethods_registerGcm$self$$.$f$ = null, $JSCompiler_StaticMethods_registerGcm$self$$.$a$ = null, $reject$jscomp$33$$(Error(chrome.runtime.lastError.message)));
    }));
  });
}, $JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$$ = function($JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$, $registerId_request$jscomp$39$$) {
  if ($JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$.$h$) {
    Promise.resolve();
  } else {
    if ($JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$.$h$ = !0, $registerId_request$jscomp$39$$ && (!$JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$.$a$ || $JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$.$a$ + 864E5 < Date.now())) {
      $registerId_request$jscomp$39$$ = {filters:["myDevices"], gcmRegistrationId:$registerId_request$jscomp$39$$, gcmSenderId:"919648714761", expirationTimeMs:864E5};
      var $path$jscomp$28$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$GCD_CONFIG$$.$a$, ["subscriptions", "subscribe"], {});
      $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$.$j$, $path$jscomp$28$$, "POST", $registerId_request$jscomp$39$$).then(function() {
        $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$.$logger_$, "Subscribed on: " + Date.now());
        $JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$.$a$ = Date.now();
        $JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$.$h$ = !1;
        return Promise.resolve();
      }, function($registerId_request$jscomp$39$$) {
        $JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$self$$.$h$ = !1;
        throw $registerId_request$jscomp$39$$;
      });
    } else {
      Promise.resolve();
    }
  }
}, $mr$cloud$devices$CloudDevicesService$PersistentData$$ = function($lastSubscribeTime$$, $gcmRegistrationId$$, $lastRegisterTime$$) {
  this.$lastSubscribeTime$ = $lastSubscribeTime$$;
  this.gcmRegistrationId = $gcmRegistrationId$$;
  this.$lastRegisterTime$ = $lastRegisterTime$$;
};
var $mr$cloud$CloudSink$$ = function($deviceId$jscomp$5$$, $displayName$jscomp$2$$, $supportedChannelTypes$$, $model$$, $domain$jscomp$7$$, $opt_iconType$$, $opt_description$jscomp$4$$) {
  var $uniqueId$jscomp$inline_1287$$ = $JSCompiler_StaticMethods_generateId$$($module$contents$mr$SinkUtils_SinkUtils$getInstance$$(), $deviceId$jscomp$5$$);
  this.$mrSink$ = new $mr$Sink$$($uniqueId$jscomp$inline_1287$$, $displayName$jscomp$2$$, $opt_iconType$$, $opt_description$jscomp$4$$, $domain$jscomp$7$$);
  this.deviceId = $deviceId$jscomp$5$$;
  this.$a$ = $supportedChannelTypes$$;
  this.model = $model$$;
}, $mr$cloud$GcdCloudSink$$ = function($deviceId$jscomp$7$$, $displayName$jscomp$4$$, $aclLevel$$, $domain$jscomp$9$$, $isAvailable$$) {
  $mr$cloud$CloudSink$$.call(this, $deviceId$jscomp$7$$, $displayName$jscomp$4$$, ["cloud"], "Chrome Streaming Receiver", $domain$jscomp$9$$);
  this.$aclLevel$ = $aclLevel$$;
  this.isAvailable = $isAvailable$$;
};
$$jscomp$inherits$$($mr$cloud$GcdCloudSink$$, $mr$cloud$CloudSink$$);
var $mr$cloud$HangoutCloudSink$$ = function($hangout$$) {
  var $domain$jscomp$10$$ = $hangout$$.$domain_$;
  $goog$asserts$assert$$(null == $domain$jscomp$10$$ == $hangout$$.$isMeeting$());
  var $description$jscomp$20$$;
  $hangout$$.$meetingName_$ && $hangout$$.$b$() != $hangout$$.$meetingName_$ && ($description$jscomp$20$$ = $goog$asserts$assert$$($hangout$$.$meetingName_$));
  $mr$cloud$CloudSink$$.call(this, $hangout$$.getId(), $hangout$$.$b$(), ["mesi"], "Hangout", $domain$jscomp$10$$, $hangout$$.$isMeeting$() ? "meeting" : "hangout", $description$jscomp$20$$);
  this.$isMeeting$ = $hangout$$.$isMeeting$();
  this.$resolvedId$ = $hangout$$.$resolvedId_$ || "";
};
$$jscomp$inherits$$($mr$cloud$HangoutCloudSink$$, $mr$cloud$CloudSink$$);
var $mr$cloud$messaging$GcmMessageHandler$$ = function($deviceDiscoveryCallbacks$$) {
  this.$a$ = $deviceDiscoveryCallbacks$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.messaging.GcmMessageHandler");
};
$mr$cloud$messaging$GcmMessageHandler$$.prototype.onMessage = function($message$jscomp$125_notification$jscomp$1$$) {
  var $$jscomp$this$jscomp$111$$ = this;
  $message$jscomp$125_notification$jscomp$1$$ = JSON.parse($message$jscomp$125_notification$jscomp$1$$.data.notification);
  var $sinkUtils$$ = $module$contents$mr$SinkUtils_SinkUtils$getInstance$$();
  $message$jscomp$125_notification$jscomp$1$$.events.forEach(function($message$jscomp$125_notification$jscomp$1$$) {
    if ($message$jscomp$125_notification$jscomp$1$$.deviceId) {
      var $event$jscomp$24$$ = $JSCompiler_StaticMethods_generateId$$($sinkUtils$$, $message$jscomp$125_notification$jscomp$1$$.deviceId);
      switch($message$jscomp$125_notification$jscomp$1$$.type) {
        case "deviceCreated":
          $JSCompiler_StaticMethods_onDeviceCreated_$$($$jscomp$this$jscomp$111$$, $message$jscomp$125_notification$jscomp$1$$);
          break;
        case "deviceUpdated":
          $JSCompiler_StaticMethods_onDeviceUpdated_$$($$jscomp$this$jscomp$111$$, $message$jscomp$125_notification$jscomp$1$$, $event$jscomp$24$$);
          break;
        case "deviceDeleted":
          $JSCompiler_StaticMethods_onDeviceDeleted$$($$jscomp$this$jscomp$111$$.$a$, {sinkId:$event$jscomp$24$$});
          break;
        default:
          $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($$jscomp$this$jscomp$111$$.$logger_$, function() {
            return "[unhandled event] " + JSON.stringify($message$jscomp$125_notification$jscomp$1$$);
          });
      }
    } else {
      $$jscomp$this$jscomp$111$$.$logger_$.error("Device ID not provided");
    }
  });
};
var $JSCompiler_StaticMethods_onDeviceCreated_$$ = function($JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_1292_JSCompiler_StaticMethods_onDeviceCreated_$self$$, $cloudSink_event$jscomp$25$$) {
  var $receiverName$$ = $mr$ObjectUtils$getPath$$($cloudSink_event$jscomp$25$$, "statePatch", "_cloudCast", "settings", "receiverName");
  "string" != typeof $receiverName$$ ? $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_1292_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$logger_$.error("Receiver name not a string: " + $receiverName$$) : ($cloudSink_event$jscomp$25$$ = new $mr$cloud$GcdCloudSink$$($cloudSink_event$jscomp$25$$.deviceId, $receiverName$$, "owner", "default", !0), $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_1292_JSCompiler_StaticMethods_onDeviceCreated_$self$$ = $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_1292_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$a$, 
  $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_1292_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$a$.$a$.set($cloudSink_event$jscomp$25$$.$mrSink$.id, $cloudSink_event$jscomp$25$$), $JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_1292_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$a$.$b$ = Date.now(), $JSCompiler_StaticMethods_onSinksAdded$$($JSCompiler_StaticMethods_onDeviceCreated$self$jscomp$inline_1292_JSCompiler_StaticMethods_onDeviceCreated_$self$$.$f$, [$cloudSink_event$jscomp$25$$.$mrSink$]));
}, $JSCompiler_StaticMethods_onDeviceUpdated_$$ = function($JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_1296_JSCompiler_StaticMethods_onDeviceUpdated_$self$$, $JSCompiler_object_inline_isAvailable_4128_appStatus$jscomp$3_event$jscomp$26$$, $cloudSink$jscomp$inline_1298_sinkId$jscomp$50$$) {
  $JSCompiler_object_inline_isAvailable_4128_appStatus$jscomp$3_event$jscomp$26$$ = $mr$ObjectUtils$getPath$$($JSCompiler_object_inline_isAvailable_4128_appStatus$jscomp$3_event$jscomp$26$$, "statePatch", "_cloudCast", "appStatus");
  if ("string" != typeof $JSCompiler_object_inline_isAvailable_4128_appStatus$jscomp$3_event$jscomp$26$$) {
    $JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_1296_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$logger_$.error("App status not a string: " + $JSCompiler_object_inline_isAvailable_4128_appStatus$jscomp$3_event$jscomp$26$$);
  } else {
    if ($JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_1296_JSCompiler_StaticMethods_onDeviceUpdated_$self$$ = $JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_1296_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$a$, $JSCompiler_object_inline_isAvailable_4128_appStatus$jscomp$3_event$jscomp$26$$ = "available" == $JSCompiler_object_inline_isAvailable_4128_appStatus$jscomp$3_event$jscomp$26$$, $cloudSink$jscomp$inline_1298_sinkId$jscomp$50$$ = $JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_1296_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$a$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinkById$($cloudSink$jscomp$inline_1298_sinkId$jscomp$50$$)) {
      $cloudSink$jscomp$inline_1298_sinkId$jscomp$50$$.isAvailable = $JSCompiler_object_inline_isAvailable_4128_appStatus$jscomp$3_event$jscomp$26$$, $JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_1296_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$a$.$b$ = Date.now(), $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$$($JSCompiler_StaticMethods_onDeviceUpdated$self$jscomp$inline_1296_JSCompiler_StaticMethods_onDeviceUpdated_$self$$.$f$, [$cloudSink$jscomp$inline_1298_sinkId$jscomp$50$$.$mrSink$]);
    }
  }
};
var $mr$cloud$discovery$SinkCache$$ = function($updateSinks$$, $sinkDiscoveryCallbacks$jscomp$1$$, $minFetchIntervalMs$$) {
  this.$j$ = $updateSinks$$;
  this.$g$ = $sinkDiscoveryCallbacks$jscomp$1$$;
  this.$a$ = new Map;
  this.$f$ = new Map;
  this.$b$ = null;
  this.$h$ = $minFetchIntervalMs$$;
};
$mr$cloud$discovery$SinkCache$$.prototype.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinks$ = function() {
  var $nextFetchTime$jscomp$inline_1301$$ = this.$b$ + this.$h$;
  if (null == this.$b$ || $nextFetchTime$jscomp$inline_1301$$ < Date.now()) {
    this.$b$ = Date.now(), $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$$(this);
  }
  return Array.from(this.$a$.values());
};
$mr$cloud$discovery$SinkCache$$.prototype.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinkById$ = function($id$jscomp$61$$) {
  return this.$a$.get($id$jscomp$61$$) || null;
};
var $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$$ = function($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$self$$) {
  $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$self$$.$j$().then(function($sinks$jscomp$18$$) {
    $JSCompiler_StaticMethods_updateSinksFromFullList_$$($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$fetchAllSinks_$self$$, $sinks$jscomp$18$$);
  });
}, $JSCompiler_StaticMethods_updateSinksFromFullList_$$ = function($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$, $cloudSinks_removed$jscomp$1$$) {
  var $copySinks$$ = new Map($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$a$), $newSinks$$ = new Map, $newSinkIdMap$$ = new Map, $added$$ = [], $updated$jscomp$3$$ = [];
  $cloudSinks_removed$jscomp$1$$.forEach(function($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$) {
    var $cloudSinks_removed$jscomp$1$$ = $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$mrSink$.id;
    $newSinks$$.set($cloudSinks_removed$jscomp$1$$, $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$);
    $newSinkIdMap$$.set($cloudSinks_removed$jscomp$1$$, $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.deviceId);
    $copySinks$$.has($cloudSinks_removed$jscomp$1$$) ? $copySinks$$.has($cloudSinks_removed$jscomp$1$$) && JSON.stringify($copySinks$$.get($cloudSinks_removed$jscomp$1$$)) != JSON.stringify($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$) && $updated$jscomp$3$$.push($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$mrSink$) : $added$$.push($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$mrSink$);
    $copySinks$$.delete($cloudSinks_removed$jscomp$1$$);
  });
  $cloudSinks_removed$jscomp$1$$ = [].concat($$jscomp$arrayFromIterable$$($copySinks$$.values())).map(function($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$) {
    return $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$mrSink$;
  });
  $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$f$.clear();
  $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$f$ = $newSinkIdMap$$;
  $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$a$.clear();
  $JSCompiler_StaticMethods_updateSinksFromFullList_$self$$.$a$ = $newSinks$$;
  $JSCompiler_StaticMethods_callUpdateCallbacks_$$($JSCompiler_StaticMethods_updateSinksFromFullList_$self$$, $added$$, $updated$jscomp$3$$, $cloudSinks_removed$jscomp$1$$);
}, $JSCompiler_StaticMethods_callUpdateCallbacks_$$ = function($JSCompiler_StaticMethods_callUpdateCallbacks_$self$$, $added$jscomp$1$$, $updated$jscomp$4$$, $removed$jscomp$2$$) {
  0 < $added$jscomp$1$$.length && $JSCompiler_StaticMethods_onSinksAdded$$($JSCompiler_StaticMethods_callUpdateCallbacks_$self$$.$g$, $added$jscomp$1$$);
  0 < $updated$jscomp$4$$.length && $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$$($JSCompiler_StaticMethods_callUpdateCallbacks_$self$$.$g$, $updated$jscomp$4$$);
  0 < $removed$jscomp$2$$.length && $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$($JSCompiler_StaticMethods_callUpdateCallbacks_$self$$.$g$, $removed$jscomp$2$$);
}, $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$$ = function($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$self$$) {
  for (var $sinksObject$$ = {}, $$jscomp$iter$14_sinkIdToOriginalIdObject$$ = $$jscomp$makeIterator$$($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$self$$.$a$.entries()), $$jscomp$iter$15_$jscomp$key$$jscomp$destructuring$var8_id$jscomp$62$$ = $$jscomp$iter$14_sinkIdToOriginalIdObject$$.next(); !$$jscomp$iter$15_$jscomp$key$$jscomp$destructuring$var8_id$jscomp$62$$.done; $$jscomp$iter$15_$jscomp$key$$jscomp$destructuring$var8_id$jscomp$62$$ = $$jscomp$iter$14_sinkIdToOriginalIdObject$$.next()) {
    var $$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$ = $$jscomp$makeIterator$$($$jscomp$iter$15_$jscomp$key$$jscomp$destructuring$var8_id$jscomp$62$$.value), $$jscomp$iter$15_$jscomp$key$$jscomp$destructuring$var8_id$jscomp$62$$ = $$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$.next().value, $$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$ = $$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$.next().value;
    $sinksObject$$[$$jscomp$iter$15_$jscomp$key$$jscomp$destructuring$var8_id$jscomp$62$$] = $$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$;
  }
  $$jscomp$iter$14_sinkIdToOriginalIdObject$$ = {};
  $$jscomp$iter$15_$jscomp$key$$jscomp$destructuring$var8_id$jscomp$62$$ = $$jscomp$makeIterator$$($JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$self$$.$f$.entries());
  for ($$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$ = $$jscomp$iter$15_$jscomp$key$$jscomp$destructuring$var8_id$jscomp$62$$.next(); !$$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$.done; $$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$ = $$jscomp$iter$15_$jscomp$key$$jscomp$destructuring$var8_id$jscomp$62$$.next()) {
    var $$jscomp$destructuring$var11_original_id$$ = $$jscomp$makeIterator$$($$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$.value), $$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$ = $$jscomp$destructuring$var11_original_id$$.next().value, $$jscomp$destructuring$var11_original_id$$ = $$jscomp$destructuring$var11_original_id$$.next().value;
    $$jscomp$iter$14_sinkIdToOriginalIdObject$$[$$jscomp$destructuring$var9_$jscomp$key$$jscomp$destructuring$var10_id$50_sink$jscomp$103$$] = $$jscomp$destructuring$var11_original_id$$;
  }
  return new $mr$cloud$discovery$SinkCache$PersistentData$$($sinksObject$$, $$jscomp$iter$14_sinkIdToOriginalIdObject$$, $JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$self$$.$b$);
}, $JSCompiler_StaticMethods_loadFromObject$$ = function($JSCompiler_StaticMethods_loadFromObject$self$$, $data$jscomp$62$$) {
  for (var $sinkId$jscomp$52$$ in $data$jscomp$62$$.sinks) {
    var $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$ = $data$jscomp$62$$.sinks[$sinkId$jscomp$52$$], $cloudSink$jscomp$2$$ = null;
    "Hangout" == $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.model ? ($hangout$jscomp$inline_1304_sinkObject$jscomp$2$$ = new $mr$cloud$mesi$HangoutInfo$$($hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.$isMeeting$, $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.deviceId, $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.$mrSink$.domain, $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.$mrSink$.description, $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.$mrSink$.friendlyName, $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.$resolvedId$), 
    $cloudSink$jscomp$2$$ = new $mr$cloud$HangoutCloudSink$$($hangout$jscomp$inline_1304_sinkObject$jscomp$2$$)) : "Chrome Streaming Receiver" == $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.model && ($cloudSink$jscomp$2$$ = new $mr$cloud$GcdCloudSink$$($hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.deviceId, $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.$mrSink$.friendlyName, $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.$aclLevel$, $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.$mrSink$.domain, 
    $hangout$jscomp$inline_1304_sinkObject$jscomp$2$$.isAvailable));
    $JSCompiler_StaticMethods_loadFromObject$self$$.$a$.set($sinkId$jscomp$52$$, $cloudSink$jscomp$2$$);
  }
  for ($sinkId$jscomp$52$$ in $data$jscomp$62$$.$a$) {
    $JSCompiler_StaticMethods_loadFromObject$self$$.$f$.set($sinkId$jscomp$52$$, $data$jscomp$62$$.$a$[$sinkId$jscomp$52$$]);
  }
  $data$jscomp$62$$.$b$ && ($JSCompiler_StaticMethods_loadFromObject$self$$.$b$ = $data$jscomp$62$$.$b$);
}, $mr$cloud$discovery$SinkCache$PersistentData$$ = function($sinks$jscomp$19$$, $cloudIds$$, $lastFetchTimeMillis$$) {
  this.sinks = $sinks$jscomp$19$$;
  this.$a$ = $cloudIds$$;
  this.$b$ = $lastFetchTimeMillis$$;
};
var $mr$cloud$discovery$CloudSinkDiscoveryService$$ = function($cloudDevices$jscomp$1$$, $sinkDiscoveryCallbacks$jscomp$2$$) {
  this.$b$ = $cloudDevices$jscomp$1$$;
  this.$f$ = $sinkDiscoveryCallbacks$jscomp$2$$;
  this.$a$ = new $mr$cloud$discovery$SinkCache$$(this.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$fetchAllSinks_$.bind(this), $sinkDiscoveryCallbacks$jscomp$2$$, 2E4);
  this.$g$ = new $mr$cloud$messaging$GcmMessageHandler$$(this);
  $mr$CloudGcmEventListener$get$$().addListener();
  $mr$PersistentDataManager$register$$(this);
  $mr$Module$onModuleLoaded$$("mr.cloud.discovery.CloudSinkDiscoveryService", this);
};
$$jscomp$inherits$$($mr$cloud$discovery$CloudSinkDiscoveryService$$, $mr$Module$$);
$JSCompiler_prototypeAlias$$ = $mr$cloud$discovery$CloudSinkDiscoveryService$$.prototype;
$JSCompiler_prototypeAlias$$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinks$ = function() {
  var $$jscomp$this$jscomp$113$$ = this;
  $JSCompiler_StaticMethods_registerGcm$$(this.$b$).then(function($registerId$jscomp$1$$) {
    $JSCompiler_StaticMethods_mr_cloud_devices_CloudDevicesService_prototype$subscribe$$($$jscomp$this$jscomp$113$$.$b$, $registerId$jscomp$1$$);
  }, function() {
  });
  return this.$a$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinks$().filter(function($$jscomp$this$jscomp$113$$) {
    return $$jscomp$this$jscomp$113$$.isAvailable;
  });
};
$JSCompiler_prototypeAlias$$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinkById$ = function($id$jscomp$63$$) {
  return this.$a$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinkById$($id$jscomp$63$$);
};
$JSCompiler_prototypeAlias$$.handleEvent = function($event$jscomp$27$$, $args$jscomp$27$$) {
  for (var $$jscomp$restParams$jscomp$10$$ = [], $$jscomp$restIndex$jscomp$10$$ = 1; $$jscomp$restIndex$jscomp$10$$ < arguments.length; ++$$jscomp$restIndex$jscomp$10$$) {
    $$jscomp$restParams$jscomp$10$$[$$jscomp$restIndex$jscomp$10$$ - 1] = arguments[$$jscomp$restIndex$jscomp$10$$];
  }
  if ($event$jscomp$27$$ == chrome.gcm.onMessage) {
    this.$g$.onMessage.apply(this.$g$, [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$10$$)));
  } else {
    throw Error("Unhandled event: expected chrome.gcm.onMessage");
  }
};
$JSCompiler_prototypeAlias$$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$fetchAllSinks_$ = function() {
  return $JSCompiler_StaticMethods_listDevices_$$(this.$b$, {descriptionSubstring:"Chrome Streaming Receiver"}).then(function($devices$jscomp$2$$) {
    return $devices$jscomp$2$$.map(function($devices$jscomp$2$$) {
      $mr$Analytics$recordEvent$$("MediaRouter.Cloud.CloudReceiver.Sink.Discovered");
      var $device$jscomp$8$$ = $devices$jscomp$2$$.isAvailable() && !($devices$jscomp$2$$.$a$.invitations && 0 != $devices$jscomp$2$$.$a$.invitations.length);
      return new $mr$cloud$GcdCloudSink$$($devices$jscomp$2$$.getId(), $devices$jscomp$2$$.$b$(), $devices$jscomp$2$$.$a$.personalizedInfo.maxRole, "default", $device$jscomp$8$$);
    });
  });
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "CloudSinkDiscoveryService";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [{cache:$JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$$(this.$a$)}];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$14$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  $savedData$jscomp$14$$ && $JSCompiler_StaticMethods_loadFromObject$$(this.$a$, $savedData$jscomp$14$$.cache);
};
var $JSCompiler_StaticMethods_onDeviceDeleted$$ = function($JSCompiler_StaticMethods_onDeviceDeleted$self$$, $args$jscomp$30_removed$jscomp$3$$) {
  if ($args$jscomp$30_removed$jscomp$3$$ = $JSCompiler_StaticMethods_onDeviceDeleted$self$$.$a$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinkById$($args$jscomp$30_removed$jscomp$3$$.sinkId)) {
    $JSCompiler_StaticMethods_onDeviceDeleted$self$$.$a$.$a$.delete($args$jscomp$30_removed$jscomp$3$$.$mrSink$.id), $JSCompiler_StaticMethods_onDeviceDeleted$self$$.$a$.$b$ = Date.now(), $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$($JSCompiler_StaticMethods_onDeviceDeleted$self$$.$f$, [$args$jscomp$30_removed$jscomp$3$$.$mrSink$]);
  }
};
var $mr$cloud$discovery$HangoutSinkDiscoveryService$$ = function($calendar$$, $mesi$$, $sinkDiscoveryCallbacks$jscomp$3$$) {
  if (!$$jscomp$scope$isClosureLoggingConfigured$$) {
    $goog$debug$LogManager$initialize$$();
    var $rootLogger$jscomp$inline_1307$$ = $goog$debug$LogManager$rootLogger_$$;
    $rootLogger$jscomp$inline_1307$$.$b$ = $goog$debug$Logger$Level$ALL$$;
    var $handler$jscomp$inline_4394$$ = $mr$cloud$discovery$HangoutSinkDiscoveryService$handleLogRecord_$$;
    $rootLogger$jscomp$inline_1307$$.$a$ || ($rootLogger$jscomp$inline_1307$$.$a$ = []);
    $rootLogger$jscomp$inline_1307$$.$a$.push($handler$jscomp$inline_4394$$);
    $$jscomp$scope$isClosureLoggingConfigured$$ = !0;
  }
  this.$f$ = $calendar$$;
  this.$g$ = $mesi$$;
  this.$a$ = new $mr$cloud$discovery$SinkCache$$(this.$h$.bind(this), $sinkDiscoveryCallbacks$jscomp$3$$, 2E4);
  this.$b$ = new Map;
  $mr$PersistentDataManager$register$$(this);
}, $mr$cloud$discovery$HangoutSinkDiscoveryService$handleLogRecord_$$ = function($record$jscomp$9$$) {
  $mr$Logger$logRecord$$({$logger$:$record$jscomp$9$$.$f$, level:$mr$Logger$numberToLevel$$($record$jscomp$9$$.$b$.value), time:$record$jscomp$9$$.$h$, message:$record$jscomp$9$$.getMessage(), $exception$:$record$jscomp$9$$.$a$});
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinks$ = function() {
  return this.$a$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinks$();
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinkById$ = function($id$jscomp$64$$) {
  return this.$a$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinkById$($id$jscomp$64$$);
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$h$ = function() {
  var $$jscomp$this$jscomp$114$$ = this;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Fetching hangouts");
  return $mr$PromiseUtils$allSettled$$([$JSCompiler_StaticMethods_findActiveHangouts$$(this.$g$), $JSCompiler_StaticMethods_findProximalHangouts$$(this.$f$)]).then(function($hangoutLists$$) {
    var $allHangouts$$ = Array.from($$jscomp$this$jscomp$114$$.$b$.values());
    $hangoutLists$$.forEach(function($hangoutLists$$) {
      $hangoutLists$$.$fulfilled$ ? $allHangouts$$ = $allHangouts$$.concat($hangoutLists$$.value) : $$jscomp$this$jscomp$114$$.$logger_$.error("Error discovering Hangouts", $hangoutLists$$.reason);
    });
    var $combinedHangouts$$ = $allHangouts$$.reduce(function($$jscomp$this$jscomp$114$$, $hangoutLists$$) {
      var $allHangouts$$ = $$jscomp$this$jscomp$114$$[$hangoutLists$$.getId()];
      $allHangouts$$ ? $allHangouts$$.merge($hangoutLists$$) : $allHangouts$$ = $hangoutLists$$;
      $$jscomp$this$jscomp$114$$[$allHangouts$$.getId()] = $allHangouts$$;
      return $$jscomp$this$jscomp$114$$;
    }, {});
    return Object.keys($combinedHangouts$$).map(function($$jscomp$this$jscomp$114$$) {
      $$jscomp$this$jscomp$114$$ = $combinedHangouts$$[$$jscomp$this$jscomp$114$$];
      $mr$Analytics$recordEvent$$("MediaRouter.Cloud.Hangout.Sink.Discovered");
      return new $mr$cloud$HangoutCloudSink$$($$jscomp$this$jscomp$114$$);
    });
  });
};
var $JSCompiler_StaticMethods_addManualSink$$ = function($JSCompiler_StaticMethods_addManualSink$self$$, $searchCriteria$jscomp$4$$) {
  return $mr$Module$load$$("mr.mirror.hangouts.MeetingsService").then(function($JSCompiler_StaticMethods_addManualSink$self$$) {
    return $JSCompiler_StaticMethods_addManualSink$self$$.$getMeetingCode$($searchCriteria$jscomp$4$$);
  }).then(function($searchCriteria$jscomp$4$$) {
    return $JSCompiler_StaticMethods_doAddManualSink_$$($JSCompiler_StaticMethods_addManualSink$self$$, $searchCriteria$jscomp$4$$);
  }, function() {
    return $searchCriteria$jscomp$4$$.input.match(/^#/) ? Promise.reject(Error("Failed to resolve meeting alias.")) : $JSCompiler_StaticMethods_doAddManualSink_$$($JSCompiler_StaticMethods_addManualSink$self$$, $searchCriteria$jscomp$4$$.input, $searchCriteria$jscomp$4$$.domain);
  });
}, $JSCompiler_StaticMethods_doAddManualSink_$$ = function($JSCompiler_StaticMethods_doAddManualSink_$self$$, $cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$, $domain$jscomp$inline_1315_opt_domain$jscomp$3$$) {
  $domain$jscomp$inline_1315_opt_domain$jscomp$3$$ = $domain$jscomp$inline_1315_opt_domain$jscomp$3$$ || void 0;
  $cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$ = $mr$cloud$mesi$HangoutInfo$fromKeyAndService$$(!$domain$jscomp$inline_1315_opt_domain$jscomp$3$$, $cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$, $domain$jscomp$inline_1315_opt_domain$jscomp$3$$, $domain$jscomp$inline_1315_opt_domain$jscomp$3$$, $cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$);
  $JSCompiler_StaticMethods_doAddManualSink_$self$$.$b$.set($cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$.getId(), $cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$);
  $cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$ = new $mr$cloud$HangoutCloudSink$$($cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$);
  $JSCompiler_StaticMethods_doAddManualSink_$self$$.$a$.$a$.set($cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$.$mrSink$.id, $cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$);
  return $cloudSink$jscomp$5_hangout$jscomp$inline_1316_input$jscomp$16$$.$mrSink$;
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$getStorageKey$ = function() {
  return "HangoutSinkDiscoveryService";
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  for (var $manualHangoutsObject$$ = {}, $$jscomp$iter$16$$ = $$jscomp$makeIterator$$(this.$b$.entries()), $$jscomp$key$$jscomp$destructuring$var12_name$jscomp$159$$ = $$jscomp$iter$16$$.next(); !$$jscomp$key$$jscomp$destructuring$var12_name$jscomp$159$$.done; $$jscomp$key$$jscomp$destructuring$var12_name$jscomp$159$$ = $$jscomp$iter$16$$.next()) {
    var $$jscomp$destructuring$var13_info$jscomp$7$$ = $$jscomp$makeIterator$$($$jscomp$key$$jscomp$destructuring$var12_name$jscomp$159$$.value), $$jscomp$key$$jscomp$destructuring$var12_name$jscomp$159$$ = $$jscomp$destructuring$var13_info$jscomp$7$$.next().value, $$jscomp$destructuring$var13_info$jscomp$7$$ = $$jscomp$destructuring$var13_info$jscomp$7$$.next().value;
    $manualHangoutsObject$$[$$jscomp$key$$jscomp$destructuring$var12_name$jscomp$159$$] = $$jscomp$destructuring$var13_info$jscomp$7$$;
  }
  return [{cache:$JSCompiler_StaticMethods_mr_cloud_discovery_SinkCache_prototype$toObject$$(this.$a$), manualHangouts:$manualHangoutsObject$$}];
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$15$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$15$$) {
    $JSCompiler_StaticMethods_loadFromObject$$(this.$a$, $savedData$jscomp$15$$.cache);
    for (var $hangoutId$$ in $savedData$jscomp$15$$.manualHangouts) {
      var $hangout$jscomp$7$$ = $savedData$jscomp$15$$.manualHangouts[$hangoutId$$];
      this.$b$.set($hangoutId$$, new $mr$cloud$mesi$HangoutInfo$$($hangout$jscomp$7$$.$isMeeting_$, $hangout$jscomp$7$$.$id_$, $hangout$jscomp$7$$.$domain_$, $hangout$jscomp$7$$.$meetingName_$, $hangout$jscomp$7$$.$title_$, $hangout$jscomp$7$$.$resolvedId_$));
    }
  }
};
$mr$cloud$discovery$HangoutSinkDiscoveryService$$.prototype.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.discovery.HangoutSinkDiscoveryService");
var $$jscomp$scope$isClosureLoggingConfigured$$ = !1;
var $goog$dom$BrowserFeature$CAN_USE_CHILDREN_ATTRIBUTE$$ = !$goog$userAgent$GECKO$$ && !$goog$userAgent$IE$$ || $goog$userAgent$IE$$ && 9 <= Number($JSCompiler_inline_result$jscomp$101$$) || $goog$userAgent$GECKO$$ && $goog$userAgent$isVersionOrHigher$$("1.9.1");
$goog$userAgent$IE$$ && $goog$userAgent$isVersionOrHigher$$("9");
var $goog$dom$safe$setScriptSrc$$ = function($script$jscomp$10$$) {
  var $url$jscomp$90$$ = $apps$apiary$ApiaryClient$GAPI_URI_$$;
  var $JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$ = ($JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$ = $script$jscomp$10$$ && $script$jscomp$10$$.ownerDocument) && ($JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$.defaultView || $JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$.parentWindow) || window;
  if ("undefined" != typeof $JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$.HTMLScriptElement && "undefined" != typeof $JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$.Element) {
    $JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$ = $script$jscomp$10$$ && ($script$jscomp$10$$ instanceof $JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$.HTMLScriptElement || !($script$jscomp$10$$ instanceof $JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$.Element));
    var $JSCompiler_inline_result$jscomp$4158$$ = $goog$isObject$$($script$jscomp$10$$) ? $script$jscomp$10$$.constructor.displayName || $script$jscomp$10$$.constructor.name || Object.prototype.toString.call($script$jscomp$10$$) : void 0 === $script$jscomp$10$$ ? "undefined" : null === $script$jscomp$10$$ ? "null" : typeof $script$jscomp$10$$;
    $goog$asserts$assert$$($JSCompiler_temp_const$jscomp$4157_doc$jscomp$inline_4400_win$jscomp$inline_1319$$, "Argument is not a HTMLScriptElement (or a non-Element mock); got: %s", $JSCompiler_inline_result$jscomp$4158$$);
  }
  $script$jscomp$10$$.src = $goog$html$TrustedResourceUrl$unwrap$$($url$jscomp$90$$);
};
var $goog$math$Size$$ = function($width$jscomp$14$$, $height$jscomp$13$$) {
  this.width = $width$jscomp$14$$;
  this.height = $height$jscomp$13$$;
};
$JSCompiler_prototypeAlias$$ = $goog$math$Size$$.prototype;
$JSCompiler_prototypeAlias$$.clone = function() {
  return new $goog$math$Size$$(this.width, this.height);
};
$JSCompiler_prototypeAlias$$.toString = function() {
  return "(" + this.width + " x " + this.height + ")";
};
$JSCompiler_prototypeAlias$$.$area$ = function() {
  return this.width * this.height;
};
$JSCompiler_prototypeAlias$$.$isEmpty$ = function() {
  return !this.$area$();
};
$JSCompiler_prototypeAlias$$.ceil = function() {
  this.width = Math.ceil(this.width);
  this.height = Math.ceil(this.height);
  return this;
};
$JSCompiler_prototypeAlias$$.floor = function() {
  this.width = Math.floor(this.width);
  this.height = Math.floor(this.height);
  return this;
};
$JSCompiler_prototypeAlias$$.round = function() {
  this.width = Math.round(this.width);
  this.height = Math.round(this.height);
  return this;
};
var $goog$dom$DIRECT_ATTRIBUTE_MAP_$$ = {cellpadding:"cellPadding", cellspacing:"cellSpacing", colspan:"colSpan", frameborder:"frameBorder", height:"height", maxlength:"maxLength", nonce:"nonce", role:"role", rowspan:"rowSpan", type:"type", usemap:"useMap", valign:"vAlign", width:"width"}, $goog$dom$getViewportSize_$$ = function($doc$jscomp$16_el$jscomp$2_win$jscomp$14$$) {
  $doc$jscomp$16_el$jscomp$2_win$jscomp$14$$ = $doc$jscomp$16_el$jscomp$2_win$jscomp$14$$.document;
  $doc$jscomp$16_el$jscomp$2_win$jscomp$14$$ = "CSS1Compat" == $doc$jscomp$16_el$jscomp$2_win$jscomp$14$$.compatMode ? $doc$jscomp$16_el$jscomp$2_win$jscomp$14$$.documentElement : $doc$jscomp$16_el$jscomp$2_win$jscomp$14$$.body;
  return new $goog$math$Size$$($doc$jscomp$16_el$jscomp$2_win$jscomp$14$$.clientWidth, $doc$jscomp$16_el$jscomp$2_win$jscomp$14$$.clientHeight);
}, $goog$dom$getWindow$$ = function($opt_doc$$) {
  return $opt_doc$$ ? $opt_doc$$.parentWindow || $opt_doc$$.defaultView : window;
}, $goog$dom$getOwnerDocument$$ = function($node$jscomp$17$$) {
  $goog$asserts$assert$$($node$jscomp$17$$, "Node cannot be null or undefined.");
  return 9 == $node$jscomp$17$$.nodeType ? $node$jscomp$17$$ : $node$jscomp$17$$.ownerDocument || $node$jscomp$17$$.document;
}, $goog$dom$setTextContent$$ = function($node$jscomp$18$$, $text$jscomp$19$$) {
  $goog$asserts$assert$$(null != $node$jscomp$18$$, "goog.dom.setTextContent expects a non-null value for node");
  if ("textContent" in $node$jscomp$18$$) {
    $node$jscomp$18$$.textContent = $text$jscomp$19$$;
  } else {
    if (3 == $node$jscomp$18$$.nodeType) {
      $node$jscomp$18$$.data = $text$jscomp$19$$;
    } else {
      if ($node$jscomp$18$$.firstChild && 3 == $node$jscomp$18$$.firstChild.nodeType) {
        for (; $node$jscomp$18$$.lastChild != $node$jscomp$18$$.firstChild;) {
          $node$jscomp$18$$.removeChild($node$jscomp$18$$.lastChild);
        }
        $node$jscomp$18$$.firstChild.data = $text$jscomp$19$$;
      } else {
        for (var $child$jscomp$inline_1322_doc$jscomp$29$$; $child$jscomp$inline_1322_doc$jscomp$29$$ = $node$jscomp$18$$.firstChild;) {
          $node$jscomp$18$$.removeChild($child$jscomp$inline_1322_doc$jscomp$29$$);
        }
        $child$jscomp$inline_1322_doc$jscomp$29$$ = $goog$dom$getOwnerDocument$$($node$jscomp$18$$);
        $node$jscomp$18$$.appendChild($child$jscomp$inline_1322_doc$jscomp$29$$.createTextNode(String($text$jscomp$19$$)));
      }
    }
  }
}, $goog$dom$DomHelper$$ = function($opt_document$jscomp$1$$) {
  this.$a$ = $opt_document$jscomp$1$$ || $goog$global$$.document || document;
};
$goog$dom$DomHelper$$.prototype.setProperties = function($element$jscomp$36$$, $properties$jscomp$4$$) {
  $goog$object$forEach$$($properties$jscomp$4$$, function($properties$jscomp$4$$, $key$jscomp$134$$) {
    $properties$jscomp$4$$ && $properties$jscomp$4$$.$implementsGoogStringTypedString$ && ($properties$jscomp$4$$ = $properties$jscomp$4$$.$getTypedStringValue$());
    "style" == $key$jscomp$134$$ ? $element$jscomp$36$$.style.cssText = $properties$jscomp$4$$ : "class" == $key$jscomp$134$$ ? $element$jscomp$36$$.className = $properties$jscomp$4$$ : "for" == $key$jscomp$134$$ ? $element$jscomp$36$$.htmlFor = $properties$jscomp$4$$ : $goog$dom$DIRECT_ATTRIBUTE_MAP_$$.hasOwnProperty($key$jscomp$134$$) ? $element$jscomp$36$$.setAttribute($goog$dom$DIRECT_ATTRIBUTE_MAP_$$[$key$jscomp$134$$], $properties$jscomp$4$$) : 0 == $key$jscomp$134$$.lastIndexOf("aria-", 0) || 
    0 == $key$jscomp$134$$.lastIndexOf("data-", 0) ? $element$jscomp$36$$.setAttribute($key$jscomp$134$$, $properties$jscomp$4$$) : $element$jscomp$36$$[$key$jscomp$134$$] = $properties$jscomp$4$$;
  });
};
$goog$dom$DomHelper$$.prototype.getChildren = function($element$jscomp$39$$) {
  return $goog$dom$BrowserFeature$CAN_USE_CHILDREN_ATTRIBUTE$$ && void 0 != $element$jscomp$39$$.children ? $element$jscomp$39$$.children : $goog$array$filter$$($element$jscomp$39$$.childNodes, function($element$jscomp$39$$) {
    return 1 == $element$jscomp$39$$.nodeType;
  });
};
$goog$dom$DomHelper$$.prototype.isElement = function($obj$jscomp$100$$) {
  return $goog$isObject$$($obj$jscomp$100$$) && 1 == $obj$jscomp$100$$.nodeType;
};
$goog$dom$DomHelper$$.prototype.contains = function($parent$jscomp$22$$, $descendant$$) {
  if (!$parent$jscomp$22$$ || !$descendant$$) {
    return !1;
  }
  if ($parent$jscomp$22$$.contains && 1 == $descendant$$.nodeType) {
    return $parent$jscomp$22$$ == $descendant$$ || $parent$jscomp$22$$.contains($descendant$$);
  }
  if ("undefined" != typeof $parent$jscomp$22$$.compareDocumentPosition) {
    return $parent$jscomp$22$$ == $descendant$$ || !!($parent$jscomp$22$$.compareDocumentPosition($descendant$$) & 16);
  }
  for (; $descendant$$ && $parent$jscomp$22$$ != $descendant$$;) {
    $descendant$$ = $descendant$$.parentNode;
  }
  return $descendant$$ == $parent$jscomp$22$$;
};
var $apps$apiary$ApiaryClient$$ = function($opt_apiKey$jscomp$1$$, $opt_gaiaSessionId$$, $opt_apiRoot$$, $opt_unauthenticated$$, $opt_enableCors$$, $opt_oauthAccessToken$$, $opt_useV2Headers$$, $opt_gapiConfig$$) {
  this.$A$ = null;
  this.$D$ = !1;
  this.$B$ = $goog$Promise$withResolver$$();
  this.$f$ = [];
  this.$b$ = $opt_apiKey$jscomp$1$$ ? encodeURIComponent(String($opt_apiKey$jscomp$1$$)) : null;
  this.$l$ = null;
  !$opt_unauthenticated$$ && $opt_gaiaSessionId$$ && (this.$l$ = $opt_gaiaSessionId$$);
  this.$I$ = $opt_apiRoot$$ || null;
  this.$g$ = !$opt_unauthenticated$$;
  this.$j$ = null != $opt_enableCors$$ ? $opt_enableCors$$ : null;
  this.$a$ = $opt_oauthAccessToken$$ || null;
  this.$w$ = !!$opt_useV2Headers$$;
  this.$F$ = $opt_gapiConfig$$ || null;
  $opt_unauthenticated$$ ? ($goog$asserts$assert$$(this.$b$, "Unauthed requests must have an API key"), $goog$asserts$assert$$(!this.$a$, "Unauthed requests should not have an OAuth token"), $goog$asserts$assert$$(!this.$w$, "Unauthed requests should not use v2 Auth headers")) : this.$a$ ? ($goog$asserts$assert$$(!this.$b$, "OAuth'd requests should not have an API key"), $goog$asserts$assert$$(!this.$l$, "OAuth'd requests should not have an Gaia session index"), $goog$asserts$assert$$(!this.$w$, 
  "OAuth'd requests should not use v2 Auth headers")) : ($goog$asserts$assert$$(this.$b$, "first party auth requests must have an API key"), $goog$asserts$assert$$(this.$l$, "first party auth requests must have a session ID"));
};
$goog$inherits$$($apps$apiary$ApiaryClient$$, $goog$Disposable$$);
var $JSCompiler_inline_result$jscomp$4161$$;
var $stringConst$jscomp$inline_4404$$ = $goog$string$Const$create__googStringSecurityPrivate_$$("https://apis.google.com/js/client.js");
$stringConst$jscomp$inline_4404$$ instanceof $goog$string$Const$$ && $stringConst$jscomp$inline_4404$$.constructor === $goog$string$Const$$ && $stringConst$jscomp$inline_4404$$.$b$ === $goog$string$Const$TYPE_MARKER_$$ ? $JSCompiler_inline_result$jscomp$4161$$ = $stringConst$jscomp$inline_4404$$.$a$ : ($goog$asserts$fail$$("expected object of type Const, got '" + $stringConst$jscomp$inline_4404$$ + "'"), $JSCompiler_inline_result$jscomp$4161$$ = "type_error:Const");
var $trustedResourceUrl$jscomp$inline_4407$$ = new $goog$html$TrustedResourceUrl$$;
$trustedResourceUrl$jscomp$inline_4407$$.$a$ = $JSCompiler_inline_result$jscomp$4161$$;
var $apps$apiary$ApiaryClient$GAPI_URI_$$ = $trustedResourceUrl$jscomp$inline_4407$$;
$apps$apiary$ApiaryClient$$.prototype.init = function() {
  var $loadCallback$$ = $goog$bind$$(function($loadCallback$$) {
    this.$A$ = $loadCallback$$;
    var $win$jscomp$21$$ = $goog$getObjectByName$$("client.request", $loadCallback$$), $gapi$jscomp$1$$ = $goog$getObjectByName$$("auth", $loadCallback$$);
    $win$jscomp$21$$ && $gapi$jscomp$1$$ ? this.$H$() : $loadCallback$$.load("client", $goog$bind$$(this.$H$, this));
  }, this), $win$jscomp$21$$ = $JSCompiler_StaticMethods_findWindowObject_$$("gapi");
  $win$jscomp$21$$ ? $loadCallback$$($win$jscomp$21$$.gapi) : $JSCompiler_StaticMethods_loadGapi_$$(this, $loadCallback$$);
  return this.$B$.$a$;
};
var $JSCompiler_StaticMethods_findWindowObject_$$ = function($name$jscomp$163$$) {
  for (var $win$jscomp$22$$ = window, $field$$ = $goog$getObjectByName$$($name$jscomp$163$$, $win$jscomp$22$$); !$field$$ && $win$jscomp$22$$ != window.top && $JSCompiler_StaticMethods_canAccessWindowProperty_$$($win$jscomp$22$$.parent, $name$jscomp$163$$);) {
    $win$jscomp$22$$ = $win$jscomp$22$$.parent, $field$$ = $goog$getObjectByName$$($name$jscomp$163$$, $win$jscomp$22$$);
  }
  return $field$$ ? $win$jscomp$22$$ : null;
}, $JSCompiler_StaticMethods_canAccessWindowProperty_$$ = function($win$jscomp$23$$, $property$jscomp$5$$) {
  try {
    return !!$win$jscomp$23$$ && null != $win$jscomp$23$$.location.href && $goog$reflect$canAccessProperty$$($win$jscomp$23$$, $property$jscomp$5$$);
  } catch ($err$jscomp$31$$) {
    return !1;
  }
}, $JSCompiler_StaticMethods_loadGapi_$$ = function($JSCompiler_StaticMethods_loadGapi_$self$$, $loadCallback$jscomp$1$$) {
  var $win$jscomp$24$$ = $JSCompiler_StaticMethods_findWindowObject_$$("gapi_onload");
  if ($win$jscomp$24$$) {
    var $gapiLoadCallback$$ = $win$jscomp$24$$.gapi_onload;
    $win$jscomp$24$$.gapi_onload = function() {
      $gapiLoadCallback$$();
      $loadCallback$jscomp$1$$($win$jscomp$24$$.gapi);
    };
  } else {
    window.gapi_onload = function() {
      $loadCallback$jscomp$1$$(window.gapi);
    };
    var $scriptEl$jscomp$1$$ = document.createElement("script");
    $goog$dom$safe$setScriptSrc$$($scriptEl$jscomp$1$$);
    $JSCompiler_StaticMethods_loadGapi_$self$$.$F$ && $goog$dom$setTextContent$$($scriptEl$jscomp$1$$, $goog$json$serialize$$($JSCompiler_StaticMethods_loadGapi_$self$$.$F$));
    document.getElementsByTagName("head")[0].appendChild($scriptEl$jscomp$1$$);
  }
}, $JSCompiler_StaticMethods_getGapi$$ = function($JSCompiler_StaticMethods_getGapi$self$$) {
  return $goog$asserts$assert$$($JSCompiler_StaticMethods_getGapi$self$$.$A$, "Missing gapi instance!");
};
$apps$apiary$ApiaryClient$$.prototype.$H$ = function() {
  for (var $i$jscomp$158$$ = 0; $i$jscomp$158$$ < this.$f$.length; $i$jscomp$158$$++) {
    this.$f$[$i$jscomp$158$$].$resolver$.resolve($JSCompiler_StaticMethods_sendRequestInternal_$$(this, this.$f$[$i$jscomp$158$$].$requestData$));
  }
  this.$D$ = !0;
  this.$B$.resolve($JSCompiler_StaticMethods_getGapi$$(this));
};
$apps$apiary$ApiaryClient$$.prototype.sendRequest = function($requestData$$) {
  if (this.$D$) {
    return $JSCompiler_StaticMethods_sendRequestInternal_$$(this, $requestData$$);
  }
  var $resolver$jscomp$17$$ = $goog$Promise$withResolver$$();
  this.$f$.push({$requestData$:$requestData$$, $resolver$:$resolver$jscomp$17$$});
  return $resolver$jscomp$17$$.$a$;
};
var $JSCompiler_StaticMethods_sendRequestInternal_$$ = function($JSCompiler_StaticMethods_sendRequestInternal_$self$$, $requestData$jscomp$1$$) {
  var $cors$$, $configGetFn$$ = $goog$getObjectByName$$("config.get", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$));
  if (!$JSCompiler_StaticMethods_sendRequestInternal_$self$$.$g$) {
    var $firstPartyAuth$$ = $configGetFn$$("googleapis.config/auth/useFirstPartyAuth");
    var $originToken$$ = $configGetFn$$("googleapis.config/auth/useOriginToken");
  }
  null != $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$j$ && ($cors$$ = $configGetFn$$("client/cors"));
  try {
    var $configUpdateFn$$ = $goog$getObjectByName$$("config.update", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$));
    $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$g$ || ($configUpdateFn$$("googleapis.config/auth/useFirstPartyAuth", !1), $configUpdateFn$$("googleapis.config/auth/useOriginToken", !1));
    null != $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$j$ && $configUpdateFn$$("client/cors", $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$j$);
    var $requestFn$$ = $goog$getObjectByName$$("client.request", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$)), $requestHeaders$$ = $JSCompiler_StaticMethods_getAuthHeaders_$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$);
    $requestData$jscomp$1$$.headers && $goog$object$extend$$($requestHeaders$$, $requestData$jscomp$1$$.headers);
    var $request$jscomp$40$$ = {headers:$requestHeaders$$, root:$JSCompiler_StaticMethods_sendRequestInternal_$self$$.$I$, path:$requestData$jscomp$1$$.path, method:$requestData$jscomp$1$$.method, body:$requestData$jscomp$1$$.body}, $params$jscomp$20$$ = $requestData$jscomp$1$$.params || {};
    $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$b$ && !$JSCompiler_StaticMethods_sendRequestInternal_$self$$.$a$ ? $goog$object$extend$$($params$jscomp$20$$, {key:$JSCompiler_StaticMethods_sendRequestInternal_$self$$.$b$}) : $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$a$ && $goog$object$extend$$($params$jscomp$20$$, {key:null});
    $goog$object$isEmpty$$($params$jscomp$20$$) || ($request$jscomp$40$$.params = $params$jscomp$20$$);
    var $promise$jscomp$19$$ = $goog$Promise$resolve$$($requestFn$$($request$jscomp$40$$));
    $requestData$jscomp$1$$.callback && $promise$jscomp$19$$.then(function($JSCompiler_StaticMethods_sendRequestInternal_$self$$) {
      $requestData$jscomp$1$$.callback.apply(null, [$JSCompiler_StaticMethods_sendRequestInternal_$self$$.result, $JSCompiler_StaticMethods_sendRequestInternal_$self$$]);
    }, function($JSCompiler_StaticMethods_sendRequestInternal_$self$$) {
      $requestData$jscomp$1$$.callback.apply(null, [$JSCompiler_StaticMethods_sendRequestInternal_$self$$.result, $JSCompiler_StaticMethods_sendRequestInternal_$self$$]);
    });
    return $promise$jscomp$19$$;
  } finally {
    $configUpdateFn$$ = $goog$getObjectByName$$("config.update", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_sendRequestInternal_$self$$)), $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$g$ || ($configUpdateFn$$("googleapis.config/auth/useFirstPartyAuth", $firstPartyAuth$$), $configUpdateFn$$("googleapis.config/auth/useOriginToken", $originToken$$)), null != $JSCompiler_StaticMethods_sendRequestInternal_$self$$.$j$ && $configUpdateFn$$("client/cors", $cors$$);
  }
}, $JSCompiler_StaticMethods_getAuthHeaders_$$ = function($JSCompiler_StaticMethods_getAuthHeaders_$self$$) {
  if ($JSCompiler_StaticMethods_getAuthHeaders_$self$$.$g$) {
    if ($JSCompiler_StaticMethods_getAuthHeaders_$self$$.$a$) {
      return {Authorization:"Bearer " + $JSCompiler_StaticMethods_getAuthHeaders_$self$$.$a$};
    }
    var $firstPartyAuthFn$$ = $goog$getObjectByName$$("auth.getAuthHeaderValueForFirstParty", $JSCompiler_StaticMethods_getGapi$$($JSCompiler_StaticMethods_getAuthHeaders_$self$$));
    return {Authorization:$JSCompiler_StaticMethods_getAuthHeaders_$self$$.$w$ ? $firstPartyAuthFn$$([]) : $firstPartyAuthFn$$(), "X-Goog-AuthUser":$JSCompiler_StaticMethods_getAuthHeaders_$self$$.$l$};
  }
  return {};
};
var $mr$cloud$gapi$GapiService$$ = function($identityService$jscomp$1$$) {
  this.$a$ = $identityService$jscomp$1$$;
}, $JSCompiler_StaticMethods_formUri$$ = function($base$jscomp$4_uri$jscomp$51$$, $pathParts$$, $opt_queryParams_queryData$jscomp$11$$) {
  var $path$jscomp$29$$ = "";
  $pathParts$$.forEach(function($base$jscomp$4_uri$jscomp$51$$) {
    $path$jscomp$29$$ += "/" + encodeURIComponent($base$jscomp$4_uri$jscomp$51$$);
  });
  $base$jscomp$4_uri$jscomp$51$$ = new $goog$Uri$$($base$jscomp$4_uri$jscomp$51$$ + $path$jscomp$29$$);
  $opt_queryParams_queryData$jscomp$11$$ && ($opt_queryParams_queryData$jscomp$11$$ = $goog$Uri$QueryData$createFromMap$$($opt_queryParams_queryData$jscomp$11$$), $JSCompiler_StaticMethods_setQueryData$$($base$jscomp$4_uri$jscomp$51$$, $opt_queryParams_queryData$jscomp$11$$));
  return $base$jscomp$4_uri$jscomp$51$$;
}, $JSCompiler_StaticMethods_callWithAuth$$ = function($JSCompiler_StaticMethods_callWithAuth$self$$, $uri$jscomp$53$$, $method$jscomp$14$$, $opt_body$jscomp$2$$) {
  return $JSCompiler_StaticMethods_callWithAuth$self$$.$a$.getAuthToken().then(function($token$jscomp$7$$) {
    var $client$jscomp$2$$ = $JSCompiler_StaticMethods_getAuthenticatedClient_$$($token$jscomp$7$$);
    return $JSCompiler_StaticMethods_callApi_$$($client$jscomp$2$$, $uri$jscomp$53$$, $method$jscomp$14$$, $opt_body$jscomp$2$$).catch(function($client$jscomp$2$$) {
      if ("INVALID_ACCESS_ERROR" == $client$jscomp$2$$) {
        return $JSCompiler_StaticMethods_expireTokenAndRetry_$$($JSCompiler_StaticMethods_callWithAuth$self$$, $token$jscomp$7$$, $uri$jscomp$53$$, $method$jscomp$14$$, $opt_body$jscomp$2$$);
      }
      throw $client$jscomp$2$$;
    });
  });
}, $JSCompiler_StaticMethods_expireTokenAndRetry_$$ = function($JSCompiler_StaticMethods_expireTokenAndRetry_$self$$, $tokenToExpire$$, $uri$jscomp$54$$, $method$jscomp$15$$, $opt_body$jscomp$3$$) {
  return $JSCompiler_StaticMethods_expireAuthToken$$($tokenToExpire$$).then(function() {
    return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_expireTokenAndRetry_$self$$, $uri$jscomp$54$$, $method$jscomp$15$$, $opt_body$jscomp$3$$);
  });
}, $JSCompiler_StaticMethods_callApi_$$ = function($client$jscomp$3$$, $uri$jscomp$56$$, $method$jscomp$17$$, $opt_body$jscomp$5$$) {
  return new Promise(function($resolve$jscomp$34$$, $reject$jscomp$34$$) {
    var $request$jscomp$41$$ = $JSCompiler_StaticMethods_formRequest_$$($uri$jscomp$56$$, $method$jscomp$17$$, function($client$jscomp$3$$) {
      $client$jscomp$3$$ && !$client$jscomp$3$$.error ? $resolve$jscomp$34$$($client$jscomp$3$$) : $client$jscomp$3$$ && 401 == $client$jscomp$3$$.error.code ? $reject$jscomp$34$$("INVALID_ACCESS_ERROR") : $reject$jscomp$34$$($client$jscomp$3$$ && $client$jscomp$3$$.error ? $client$jscomp$3$$.error.errors ? $client$jscomp$3$$.error.errors[0] : $client$jscomp$3$$ : Error($client$jscomp$3$$));
    }, $opt_body$jscomp$5$$);
    $client$jscomp$3$$.sendRequest($request$jscomp$41$$);
  });
}, $JSCompiler_StaticMethods_getAuthenticatedClient_$$ = function($authToken$jscomp$1_client$jscomp$5$$) {
  $authToken$jscomp$1_client$jscomp$5$$ = new $apps$apiary$ApiaryClient$$(void 0, void 0, void 0, !1, !1, $authToken$jscomp$1_client$jscomp$5$$);
  $authToken$jscomp$1_client$jscomp$5$$.init();
  return $authToken$jscomp$1_client$jscomp$5$$;
}, $JSCompiler_StaticMethods_formRequest_$$ = function($request$jscomp$42_uri$jscomp$57$$, $method$jscomp$18$$, $callback$jscomp$427$$, $opt_body$jscomp$6$$) {
  $request$jscomp$42_uri$jscomp$57$$ = {callback:$callback$jscomp$427$$, method:$method$jscomp$18$$, path:$request$jscomp$42_uri$jscomp$57$$.toString()};
  $opt_body$jscomp$6$$ && ($request$jscomp$42_uri$jscomp$57$$.body = $opt_body$jscomp$6$$);
  return $request$jscomp$42_uri$jscomp$57$$;
};
var $mr$cloud$identity$IdentityService$$ = function() {
  this.$a$ = !1;
  this.$b$ = null;
  this.$f$ = !1;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.identity.IdentityService");
  $mr$PersistentDataManager$register$$(this);
  $JSCompiler_StaticMethods_listenToSignInChange_$$(this);
  $JSCompiler_StaticMethods_setSignInAndEmail_$$(this);
};
$mr$cloud$identity$IdentityService$$.prototype.getAuthToken = function() {
  return chrome.identity ? new Promise(function($resolve$jscomp$35$$, $reject$jscomp$35$$) {
    chrome.identity.getAuthToken({interactive:!1}, function($token$jscomp$8$$) {
      chrome.runtime.lastError ? $reject$jscomp$35$$(Error("Unable to get user auth token: " + chrome.runtime.lastError.message)) : null == $token$jscomp$8$$ ? $reject$jscomp$35$$(Error("User is not logged in (no token found)")) : $resolve$jscomp$35$$($token$jscomp$8$$);
    });
  }) : Promise.reject(Error("chrome.identity permission required for auth."));
};
var $JSCompiler_StaticMethods_expireAuthToken$$ = function($token$jscomp$9$$) {
  return new Promise(function($resolve$jscomp$36$$) {
    chrome.identity.removeCachedAuthToken({token:$token$jscomp$9$$}, function() {
      $resolve$jscomp$36$$();
    });
  });
}, $JSCompiler_StaticMethods_setSignInAndEmail_$$ = function($JSCompiler_StaticMethods_setSignInAndEmail_$self$$) {
  $JSCompiler_StaticMethods_setSignInAndEmail_$self$$.getAuthToken().then(function($token$jscomp$10$$) {
    chrome.identity.getProfileUserInfo(function($userInfo$jscomp$1$$) {
      $JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$a$ = !!$userInfo$jscomp$1$$.email || !!$userInfo$jscomp$1$$.id;
      $JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$b$ = $userInfo$jscomp$1$$.email || null;
      $token$jscomp$10$$ && !$JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$a$ && ($JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$f$ = !0);
    });
  }, function($error$jscomp$49$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$($JSCompiler_StaticMethods_setSignInAndEmail_$self$$.$logger_$, "Unable to set sign in and email.", $error$jscomp$49$$);
  });
}, $JSCompiler_StaticMethods_listenToSignInChange_$$ = function($JSCompiler_StaticMethods_listenToSignInChange_$self$$) {
  chrome.identity.onSignInChanged.addListener(function($account$$, $signedIn$$) {
    $mr$EventAnalytics$recordEvent$$(6);
    $JSCompiler_StaticMethods_listenToSignInChange_$self$$.$a$ = $signedIn$$;
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_listenToSignInChange_$self$$.$logger_$, "Signed in change: " + $JSCompiler_StaticMethods_listenToSignInChange_$self$$.$a$);
    $JSCompiler_StaticMethods_listenToSignInChange_$self$$.$a$ ? $JSCompiler_StaticMethods_setSignInAndEmail_$$($JSCompiler_StaticMethods_listenToSignInChange_$self$$) : ($JSCompiler_StaticMethods_listenToSignInChange_$self$$.$b$ = null, $JSCompiler_StaticMethods_listenToSignInChange_$self$$.$f$ = !1);
  });
}, $JSCompiler_StaticMethods_refreshGapiToken$$ = function($JSCompiler_StaticMethods_refreshGapiToken$self$$) {
  return $JSCompiler_StaticMethods_refreshGapiToken$self$$.getAuthToken().then(function($token$jscomp$11$$) {
    var $gapi$jscomp$2$$ = window.gapi;
    if (!$gapi$jscomp$2$$) {
      return $JSCompiler_StaticMethods_refreshGapiToken$self$$.$logger_$.error("gapi not loaded."), !1;
    }
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_refreshGapiToken$self$$.$logger_$, "Setting gapi auth token");
    $gapi$jscomp$2$$.auth.setToken({access_token:$token$jscomp$11$$});
    return !0;
  });
};
$mr$cloud$identity$IdentityService$$.prototype.$getStorageKey$ = function() {
  return "IdentityService";
};
$mr$cloud$identity$IdentityService$$.prototype.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [null, {signedIn:this.$a$, userEmail:this.$b$, kioskAuth:this.$f$}];
};
$mr$cloud$identity$IdentityService$$.prototype.$loadSavedData$ = function() {
  var $savedData$jscomp$16$$ = $mr$PersistentDataManager$getPersistentData$$(this);
  $savedData$jscomp$16$$ && ($savedData$jscomp$16$$.signedIn && (this.$a$ = $savedData$jscomp$16$$.signedIn), $savedData$jscomp$16$$.userEmail && (this.$b$ = $savedData$jscomp$16$$.userEmail), $savedData$jscomp$16$$.kioskAuth && (this.$f$ = $savedData$jscomp$16$$.kioskAuth));
};
var $goog$i18n$CompactNumberFormatSymbols_en$$ = {$COMPACT_DECIMAL_SHORT_PATTERN$:{1E3:{other:"0K"}, 1E4:{other:"00K"}, 1E5:{other:"000K"}, 1E6:{other:"0M"}, 1E7:{other:"00M"}, 1E8:{other:"000M"}, 1E9:{other:"0B"}, 1E10:{other:"00B"}, 1E11:{other:"000B"}, 1E12:{other:"0T"}, 1E13:{other:"00T"}, 1E14:{other:"000T"}}, $COMPACT_DECIMAL_LONG_PATTERN$:{1E3:{other:"0 thousand"}, 1E4:{other:"00 thousand"}, 1E5:{other:"000 thousand"}, 1E6:{other:"0 million"}, 1E7:{other:"00 million"}, 1E8:{other:"000 million"}, 
1E9:{other:"0 billion"}, 1E10:{other:"00 billion"}, 1E11:{other:"000 billion"}, 1E12:{other:"0 trillion"}, 1E13:{other:"00 trillion"}, 1E14:{other:"000 trillion"}}}, $goog$i18n$CompactNumberFormatSymbols$$ = $goog$i18n$CompactNumberFormatSymbols_en$$, $goog$i18n$CompactNumberFormatSymbols$$ = $goog$i18n$CompactNumberFormatSymbols_en$$;
var $goog$i18n$currency$CurrencyInfo$$ = {AED:[2, "dh", "\u062f.\u0625.", "DH"], ALL:[0, "Lek", "Lek"], AUD:[2, "$", "AU$"], BDT:[2, "\u09f3", "Tk"], BGN:[2, "lev", "lev"], BRL:[2, "R$", "R$"], CAD:[2, "$", "C$"], CDF:[2, "FrCD", "CDF"], CHF:[2, "CHF", "CHF"], CLP:[0, "$", "CL$"], CNY:[2, "\u00a5", "RMB\u00a5"], COP:[32, "$", "COL$"], CRC:[0, "\u20a1", "CR\u20a1"], CZK:[50, "K\u010d", "K\u010d"], DKK:[50, "kr.", "kr."], DOP:[2, "RD$", "RD$"], EGP:[2, "\u00a3", "LE"], ETB:[2, "Birr", "Birr"], EUR:[2, 
"\u20ac", "\u20ac"], GBP:[2, "\u00a3", "GB\u00a3"], HKD:[2, "$", "HK$"], HRK:[2, "kn", "kn"], HUF:[34, "Ft", "Ft"], IDR:[0, "Rp", "Rp"], ILS:[34, "\u20aa", "IL\u20aa"], INR:[2, "\u20b9", "Rs"], IRR:[0, "Rial", "IRR"], ISK:[0, "kr", "kr"], JMD:[2, "$", "JA$"], JPY:[0, "\u00a5", "JP\u00a5"], KRW:[0, "\u20a9", "KR\u20a9"], LKR:[2, "Rs", "SLRs"], LTL:[2, "Lt", "Lt"], MNT:[0, "\u20ae", "MN\u20ae"], MVR:[2, "Rf", "MVR"], MXN:[2, "$", "Mex$"], MYR:[2, "RM", "RM"], NOK:[50, "kr", "NOkr"], PAB:[2, "B/.", 
"B/."], PEN:[2, "S/.", "S/."], PHP:[2, "\u20b1", "PHP"], PKR:[0, "Rs", "PKRs."], PLN:[50, "z\u0142", "z\u0142"], RON:[2, "RON", "RON"], RSD:[0, "din", "RSD"], RUB:[50, "\u20bd", "RUB"], SAR:[2, "Rial", "Rial"], SEK:[50, "kr", "kr"], SGD:[2, "$", "S$"], THB:[2, "\u0e3f", "THB"], TRY:[2, "TL", "YTL"], TWD:[2, "NT$", "NT$"], TZS:[0, "TSh", "TSh"], UAH:[2, "\u0433\u0440\u043d.", "UAH"], USD:[2, "$", "US$"], UYU:[2, "$", "$U"], VND:[48, "\u20ab", "VN\u20ab"], YER:[0, "Rial", "Rial"], ZAR:[2, "R", "ZAR"]};
var $goog$i18n$NumberFormatSymbols_en$$ = {$DECIMAL_SEP$:".", $GROUP_SEP$:",", $PERCENT$:"%", $ZERO_DIGIT$:"0", $PLUS_SIGN$:"+", $MINUS_SIGN$:"-", $EXP_SYMBOL$:"E", $PERMILL$:"\u2030", $INFINITY$:"\u221e", $NAN$:"NaN", $DECIMAL_PATTERN$:"#,##0.###", $SCIENTIFIC_PATTERN$:"#E0", $PERCENT_PATTERN$:"#,##0%", $CURRENCY_PATTERN$:"\u00a4#,##0.00", $DEF_CURRENCY_CODE$:"USD"}, $goog$i18n$NumberFormatSymbols$$ = $goog$i18n$NumberFormatSymbols_en$$, $goog$i18n$NumberFormatSymbols$$ = $goog$i18n$NumberFormatSymbols_en$$;
var $goog$i18n$NumberFormat$$ = function($JSCompiler_inline_result$jscomp$4163_pattern$jscomp$3_pattern$jscomp$inline_4410$$, $opt_currency_strParts$jscomp$inline_4411$$, $opt_currencyStyle_precision$jscomp$inline_4412$$) {
  this.$B$ = $opt_currency_strParts$jscomp$inline_4411$$ || $goog$i18n$NumberFormatSymbols$$.$DEF_CURRENCY_CODE$;
  this.$M$ = $opt_currencyStyle_precision$jscomp$inline_4412$$ || 0;
  this.$F$ = 40;
  this.$b$ = 1;
  this.$I$ = 0;
  this.$g$ = 3;
  this.$H$ = this.$f$ = 0;
  this.$L$ = !1;
  this.$D$ = this.$o$ = "";
  this.$h$ = "-";
  this.$w$ = "";
  this.$a$ = 1;
  this.$l$ = !1;
  this.$j$ = [];
  this.$J$ = this.$K$ = !1;
  this.$A$ = 0;
  if ("number" == typeof $JSCompiler_inline_result$jscomp$4163_pattern$jscomp$3_pattern$jscomp$inline_4410$$) {
    switch($JSCompiler_inline_result$jscomp$4163_pattern$jscomp$3_pattern$jscomp$inline_4410$$) {
      case 1:
        $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$$(this, $goog$i18n$NumberFormatSymbols$$.$DECIMAL_PATTERN$);
        break;
      case 2:
        $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$$(this, $goog$i18n$NumberFormatSymbols$$.$SCIENTIFIC_PATTERN$);
        break;
      case 3:
        $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$$(this, $goog$i18n$NumberFormatSymbols$$.$PERCENT_PATTERN$);
        break;
      case 4:
        $JSCompiler_inline_result$jscomp$4163_pattern$jscomp$3_pattern$jscomp$inline_4410$$ = $goog$i18n$NumberFormatSymbols$$.$CURRENCY_PATTERN$;
        $opt_currency_strParts$jscomp$inline_4411$$ = ["0"];
        $opt_currencyStyle_precision$jscomp$inline_4412$$ = $goog$i18n$currency$CurrencyInfo$$[this.$B$][0] & 7;
        if (0 < $opt_currencyStyle_precision$jscomp$inline_4412$$) {
          $opt_currency_strParts$jscomp$inline_4411$$.push(".");
          for (var $i$jscomp$inline_4413$$ = 0; $i$jscomp$inline_4413$$ < $opt_currencyStyle_precision$jscomp$inline_4412$$; $i$jscomp$inline_4413$$++) {
            $opt_currency_strParts$jscomp$inline_4411$$.push("0");
          }
        }
        $JSCompiler_inline_result$jscomp$4163_pattern$jscomp$3_pattern$jscomp$inline_4410$$ = $JSCompiler_inline_result$jscomp$4163_pattern$jscomp$3_pattern$jscomp$inline_4410$$.replace(/0.00/g, $opt_currency_strParts$jscomp$inline_4411$$.join(""));
        $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$$(this, $JSCompiler_inline_result$jscomp$4163_pattern$jscomp$3_pattern$jscomp$inline_4410$$);
        break;
      case 5:
        $JSCompiler_StaticMethods_applyCompactStyle_$$(this, 1);
        break;
      case 6:
        $JSCompiler_StaticMethods_applyCompactStyle_$$(this, 2);
        break;
      default:
        throw Error("Unsupported pattern type.");
    }
  } else {
    $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$$(this, $JSCompiler_inline_result$jscomp$4163_pattern$jscomp$3_pattern$jscomp$inline_4410$$);
  }
}, $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$$ = function($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$, $pattern$jscomp$4$$) {
  $pattern$jscomp$4$$.replace(/ /g, "\u00a0");
  var $pos$jscomp$4$$ = [0];
  $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$o$ = $JSCompiler_StaticMethods_parseAffix_$$($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$, $pattern$jscomp$4$$, $pos$jscomp$4$$);
  for (var $trunkLen_trunkStart$$ = $pos$jscomp$4$$[0], $decimalPos$jscomp$inline_1330$$ = -1, $digitLeftCount$jscomp$inline_1331$$ = 0, $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ = 0, $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$ = 0, $groupingCount$jscomp$inline_1334$$ = -1, $len$jscomp$inline_1335$$ = $pattern$jscomp$4$$.length, $loop$jscomp$inline_1336$$ = !0; $pos$jscomp$4$$[0] < $len$jscomp$inline_1335$$ && $loop$jscomp$inline_1336$$; $pos$jscomp$4$$[0]++) {
    switch($pattern$jscomp$4$$.charAt($pos$jscomp$4$$[0])) {
      case "#":
        0 < $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ ? $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$++ : $digitLeftCount$jscomp$inline_1331$$++;
        0 <= $groupingCount$jscomp$inline_1334$$ && 0 > $decimalPos$jscomp$inline_1330$$ && $groupingCount$jscomp$inline_1334$$++;
        break;
      case "0":
        if (0 < $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$) {
          throw Error('Unexpected "0" in pattern "' + $pattern$jscomp$4$$ + '"');
        }
        $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$++;
        0 <= $groupingCount$jscomp$inline_1334$$ && 0 > $decimalPos$jscomp$inline_1330$$ && $groupingCount$jscomp$inline_1334$$++;
        break;
      case ",":
        0 < $groupingCount$jscomp$inline_1334$$ && $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$j$.push($groupingCount$jscomp$inline_1334$$);
        $groupingCount$jscomp$inline_1334$$ = 0;
        break;
      case ".":
        if (0 <= $decimalPos$jscomp$inline_1330$$) {
          throw Error('Multiple decimal separators in pattern "' + $pattern$jscomp$4$$ + '"');
        }
        $decimalPos$jscomp$inline_1330$$ = $digitLeftCount$jscomp$inline_1331$$ + $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ + $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$;
        break;
      case "E":
        if ($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$J$) {
          throw Error('Multiple exponential symbols in pattern "' + $pattern$jscomp$4$$ + '"');
        }
        $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$J$ = !0;
        $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$H$ = 0;
        $pos$jscomp$4$$[0] + 1 < $len$jscomp$inline_1335$$ && "+" == $pattern$jscomp$4$$.charAt($pos$jscomp$4$$[0] + 1) && ($pos$jscomp$4$$[0]++, $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$L$ = !0);
        for (; $pos$jscomp$4$$[0] + 1 < $len$jscomp$inline_1335$$ && "0" == $pattern$jscomp$4$$.charAt($pos$jscomp$4$$[0] + 1);) {
          $pos$jscomp$4$$[0]++, $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$H$++;
        }
        if (1 > $digitLeftCount$jscomp$inline_1331$$ + $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ || 1 > $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$H$) {
          throw Error('Malformed exponential pattern "' + $pattern$jscomp$4$$ + '"');
        }
        $loop$jscomp$inline_1336$$ = !1;
        break;
      default:
        $pos$jscomp$4$$[0]--, $loop$jscomp$inline_1336$$ = !1;
    }
  }
  0 == $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ && 0 < $digitLeftCount$jscomp$inline_1331$$ && 0 <= $decimalPos$jscomp$inline_1330$$ && ($n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ = $decimalPos$jscomp$inline_1330$$, 0 == $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ && $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$++, $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$ = $digitLeftCount$jscomp$inline_1331$$ - $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$, 
  $digitLeftCount$jscomp$inline_1331$$ = $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ - 1, $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ = 1);
  if (0 > $decimalPos$jscomp$inline_1330$$ && 0 < $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$ || 0 <= $decimalPos$jscomp$inline_1330$$ && ($decimalPos$jscomp$inline_1330$$ < $digitLeftCount$jscomp$inline_1331$$ || $decimalPos$jscomp$inline_1330$$ > $digitLeftCount$jscomp$inline_1331$$ + $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$) || 0 == $groupingCount$jscomp$inline_1334$$) {
    throw Error('Malformed pattern "' + $pattern$jscomp$4$$ + '"');
  }
  $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$ = $digitLeftCount$jscomp$inline_1331$$ + $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ + $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$;
  $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$g$ = 0 <= $decimalPos$jscomp$inline_1330$$ ? $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$ - $decimalPos$jscomp$inline_1330$$ : 0;
  0 <= $decimalPos$jscomp$inline_1330$$ && ($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$f$ = $digitLeftCount$jscomp$inline_1331$$ + $n$jscomp$inline_1337_zeroDigitCount$jscomp$inline_1332$$ - $decimalPos$jscomp$inline_1330$$, 0 > $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$f$ && ($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$f$ = 0));
  $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$b$ = (0 <= $decimalPos$jscomp$inline_1330$$ ? $decimalPos$jscomp$inline_1330$$ : $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$) - $digitLeftCount$jscomp$inline_1331$$;
  $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$J$ && ($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$F$ = $digitLeftCount$jscomp$inline_1331$$ + $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$b$, 0 == $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$g$ && 0 == $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$b$ && ($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$b$ = 
  1));
  $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$j$.push(Math.max(0, $groupingCount$jscomp$inline_1334$$));
  $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$K$ = 0 == $decimalPos$jscomp$inline_1330$$ || $decimalPos$jscomp$inline_1330$$ == $digitRightCount$jscomp$inline_1333_totalDigits$jscomp$inline_1338$$;
  $trunkLen_trunkStart$$ = $pos$jscomp$4$$[0] - $trunkLen_trunkStart$$;
  $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$D$ = $JSCompiler_StaticMethods_parseAffix_$$($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$, $pattern$jscomp$4$$, $pos$jscomp$4$$);
  $pos$jscomp$4$$[0] < $pattern$jscomp$4$$.length && ";" == $pattern$jscomp$4$$.charAt($pos$jscomp$4$$[0]) ? ($pos$jscomp$4$$[0]++, 1 != $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$a$ && ($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$l$ = !0), $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$h$ = $JSCompiler_StaticMethods_parseAffix_$$($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$, 
  $pattern$jscomp$4$$, $pos$jscomp$4$$), $pos$jscomp$4$$[0] += $trunkLen_trunkStart$$, $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$w$ = $JSCompiler_StaticMethods_parseAffix_$$($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$, $pattern$jscomp$4$$, $pos$jscomp$4$$)) : ($JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$h$ += $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$o$, 
  $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$w$ += $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$self$$.$D$);
}, $JSCompiler_StaticMethods_applyCompactStyle_$$ = function($JSCompiler_StaticMethods_applyCompactStyle_$self$$, $style$jscomp$12$$) {
  $JSCompiler_StaticMethods_applyCompactStyle_$self$$.$A$ = $style$jscomp$12$$;
  $JSCompiler_StaticMethods_goog_i18n_NumberFormat_prototype$applyPattern_$$($JSCompiler_StaticMethods_applyCompactStyle_$self$$, $goog$i18n$NumberFormatSymbols$$.$DECIMAL_PATTERN$);
  $JSCompiler_StaticMethods_applyCompactStyle_$self$$.$f$ = 0;
  $JSCompiler_StaticMethods_applyCompactStyle_$self$$.$g$ = 2;
  if (0 < $JSCompiler_StaticMethods_applyCompactStyle_$self$$.$f$) {
    throw Error("Can't combine significant digits and minimum fraction digits");
  }
  $JSCompiler_StaticMethods_applyCompactStyle_$self$$.$I$ = 2;
};
$goog$i18n$NumberFormat$$.prototype.parse = function($text$jscomp$21$$, $opt_pos_pos$jscomp$5$$) {
  $opt_pos_pos$jscomp$5$$ = $opt_pos_pos$jscomp$5$$ || [0];
  if (0 != this.$A$) {
    throw Error("Parsing of compact numbers is unimplemented");
  }
  $text$jscomp$21$$ = $text$jscomp$21$$.replace(/ /g, "\u00a0");
  var $gotPositive$$ = $text$jscomp$21$$.indexOf(this.$o$, $opt_pos_pos$jscomp$5$$[0]) == $opt_pos_pos$jscomp$5$$[0], $gotNegative$$ = $text$jscomp$21$$.indexOf(this.$h$, $opt_pos_pos$jscomp$5$$[0]) == $opt_pos_pos$jscomp$5$$[0];
  $gotPositive$$ && $gotNegative$$ && (this.$o$.length > this.$h$.length ? $gotNegative$$ = !1 : this.$o$.length < this.$h$.length && ($gotPositive$$ = !1));
  $gotPositive$$ ? $opt_pos_pos$jscomp$5$$[0] += this.$o$.length : $gotNegative$$ && ($opt_pos_pos$jscomp$5$$[0] += this.$h$.length);
  if ($text$jscomp$21$$.indexOf($goog$i18n$NumberFormatSymbols$$.$INFINITY$, $opt_pos_pos$jscomp$5$$[0]) == $opt_pos_pos$jscomp$5$$[0]) {
    $opt_pos_pos$jscomp$5$$[0] += $goog$i18n$NumberFormatSymbols$$.$INFINITY$.length;
    var $ret$jscomp$4_text$jscomp$inline_1350$$ = Infinity;
  } else {
    $ret$jscomp$4_text$jscomp$inline_1350$$ = $text$jscomp$21$$;
    var $sawDecimal$jscomp$inline_1352$$ = !1, $sawExponent$jscomp$inline_1353$$ = !1, $sawDigit$jscomp$inline_1354$$ = !1, $exponentPos$jscomp$inline_1355$$ = -1, $scale$jscomp$inline_1356$$ = 1, $decimal$jscomp$inline_1357$$ = $goog$i18n$NumberFormatSymbols$$.$DECIMAL_SEP$, $grouping$jscomp$inline_1358$$ = $goog$i18n$NumberFormatSymbols$$.$GROUP_SEP$, $exponentChar$jscomp$inline_1359$$ = $goog$i18n$NumberFormatSymbols$$.$EXP_SYMBOL$;
    if (0 != this.$A$) {
      throw Error("Parsing of compact style numbers is not implemented");
    }
    for (var $normalizedText$jscomp$inline_1360$$ = ""; $opt_pos_pos$jscomp$5$$[0] < $ret$jscomp$4_text$jscomp$inline_1350$$.length; $opt_pos_pos$jscomp$5$$[0]++) {
      var $ch$jscomp$inline_1361$$ = $ret$jscomp$4_text$jscomp$inline_1350$$.charAt($opt_pos_pos$jscomp$5$$[0]), $digit$jscomp$inline_1362$$ = $JSCompiler_StaticMethods_getDigit_$$($ch$jscomp$inline_1361$$);
      if (0 <= $digit$jscomp$inline_1362$$ && 9 >= $digit$jscomp$inline_1362$$) {
        $normalizedText$jscomp$inline_1360$$ += $digit$jscomp$inline_1362$$, $sawDigit$jscomp$inline_1354$$ = !0;
      } else {
        if ($ch$jscomp$inline_1361$$ == $decimal$jscomp$inline_1357$$.charAt(0)) {
          if ($sawDecimal$jscomp$inline_1352$$ || $sawExponent$jscomp$inline_1353$$) {
            break;
          }
          $normalizedText$jscomp$inline_1360$$ += ".";
          $sawDecimal$jscomp$inline_1352$$ = !0;
        } else {
          if ($ch$jscomp$inline_1361$$ == $grouping$jscomp$inline_1358$$.charAt(0) && ("\u00a0" != $grouping$jscomp$inline_1358$$.charAt(0) || $opt_pos_pos$jscomp$5$$[0] + 1 < $ret$jscomp$4_text$jscomp$inline_1350$$.length && 0 <= $JSCompiler_StaticMethods_getDigit_$$($ret$jscomp$4_text$jscomp$inline_1350$$.charAt($opt_pos_pos$jscomp$5$$[0] + 1)))) {
            if ($sawDecimal$jscomp$inline_1352$$ || $sawExponent$jscomp$inline_1353$$) {
              break;
            }
          } else {
            if ($ch$jscomp$inline_1361$$ == $exponentChar$jscomp$inline_1359$$.charAt(0)) {
              if ($sawExponent$jscomp$inline_1353$$) {
                break;
              }
              $normalizedText$jscomp$inline_1360$$ += "E";
              $sawExponent$jscomp$inline_1353$$ = !0;
              $exponentPos$jscomp$inline_1355$$ = $opt_pos_pos$jscomp$5$$[0];
            } else {
              if ("+" == $ch$jscomp$inline_1361$$ || "-" == $ch$jscomp$inline_1361$$) {
                if ($sawDigit$jscomp$inline_1354$$ && $exponentPos$jscomp$inline_1355$$ != $opt_pos_pos$jscomp$5$$[0] - 1) {
                  break;
                }
                $normalizedText$jscomp$inline_1360$$ += $ch$jscomp$inline_1361$$;
              } else {
                if (1 == this.$a$ && $ch$jscomp$inline_1361$$ == $goog$i18n$NumberFormatSymbols$$.$PERCENT$.charAt(0)) {
                  if (1 != $scale$jscomp$inline_1356$$) {
                    break;
                  }
                  $scale$jscomp$inline_1356$$ = 100;
                  if ($sawDigit$jscomp$inline_1354$$) {
                    $opt_pos_pos$jscomp$5$$[0]++;
                    break;
                  }
                } else {
                  if (1 == this.$a$ && $ch$jscomp$inline_1361$$ == $goog$i18n$NumberFormatSymbols$$.$PERMILL$.charAt(0)) {
                    if (1 != $scale$jscomp$inline_1356$$) {
                      break;
                    }
                    $scale$jscomp$inline_1356$$ = 1000;
                    if ($sawDigit$jscomp$inline_1354$$) {
                      $opt_pos_pos$jscomp$5$$[0]++;
                      break;
                    }
                  } else {
                    break;
                  }
                }
              }
            }
          }
        }
      }
    }
    1 != this.$a$ && ($scale$jscomp$inline_1356$$ = this.$a$);
    $ret$jscomp$4_text$jscomp$inline_1350$$ = parseFloat($normalizedText$jscomp$inline_1360$$) / $scale$jscomp$inline_1356$$;
  }
  if ($gotPositive$$) {
    if ($text$jscomp$21$$.indexOf(this.$D$, $opt_pos_pos$jscomp$5$$[0]) != $opt_pos_pos$jscomp$5$$[0]) {
      return NaN;
    }
    $opt_pos_pos$jscomp$5$$[0] += this.$D$.length;
  } else {
    if ($gotNegative$$) {
      if ($text$jscomp$21$$.indexOf(this.$w$, $opt_pos_pos$jscomp$5$$[0]) != $opt_pos_pos$jscomp$5$$[0]) {
        return NaN;
      }
      $opt_pos_pos$jscomp$5$$[0] += this.$w$.length;
    }
  }
  return $gotNegative$$ ? -$ret$jscomp$4_text$jscomp$inline_1350$$ : $ret$jscomp$4_text$jscomp$inline_1350$$;
};
$goog$i18n$NumberFormat$$.prototype.format = function($number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$) {
  if (isNaN($number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$)) {
    return $goog$i18n$NumberFormatSymbols$$.$NAN$;
  }
  var $parts$jscomp$9$$ = [];
  var $formattingNumber$jscomp$inline_1365_unit$$ = $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$;
  if (0 == this.$A$) {
    $formattingNumber$jscomp$inline_1365_unit$$ = $goog$i18n$NumberFormat$NULL_UNIT_$$;
  } else {
    $formattingNumber$jscomp$inline_1365_unit$$ = Math.abs($formattingNumber$jscomp$inline_1365_unit$$);
    var $initialDivisor$jscomp$inline_1367_isNegative$$ = $JSCompiler_StaticMethods_getUnitFor_$$(this, 1 >= $formattingNumber$jscomp$inline_1365_unit$$ ? 0 : $JSCompiler_StaticMethods_intLog10_$$($formattingNumber$jscomp$inline_1365_unit$$)).$divisorBase$;
    $formattingNumber$jscomp$inline_1365_unit$$ = $JSCompiler_StaticMethods_getUnitFor_$$(this, $initialDivisor$jscomp$inline_1367_isNegative$$ + $JSCompiler_StaticMethods_intLog10_$$($JSCompiler_StaticMethods_roundNumber_$$(this, $formattingNumber$jscomp$inline_1365_unit$$ / Math.pow(10, $initialDivisor$jscomp$inline_1367_isNegative$$)).$intValue$));
  }
  $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ /= Math.pow(10, $formattingNumber$jscomp$inline_1365_unit$$.$divisorBase$);
  $parts$jscomp$9$$.push($formattingNumber$jscomp$inline_1365_unit$$.prefix);
  $initialDivisor$jscomp$inline_1367_isNegative$$ = 0.0 > $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ || 0.0 == $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ && 0.0 > 1 / $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$;
  $parts$jscomp$9$$.push($initialDivisor$jscomp$inline_1367_isNegative$$ ? this.$h$ : this.$o$);
  if (isFinite($number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$)) {
    if ($number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ = $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ * ($initialDivisor$jscomp$inline_1367_isNegative$$ ? -1 : 1) * this.$a$, this.$J$) {
      if (0.0 == $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$) {
        $JSCompiler_StaticMethods_subformatFixed_$$(this, $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$, this.$b$, $parts$jscomp$9$$), $JSCompiler_StaticMethods_addExponentPart_$$(this, 0, $parts$jscomp$9$$);
      } else {
        var $exponent$jscomp$inline_1373_num$jscomp$inline_4415$$ = Math.log($number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$) / Math.log(10);
        $goog$asserts$assert$$(!$goog$isDef$$(void 0) || !1);
        $exponent$jscomp$inline_1373_num$jscomp$inline_4415$$ = Math.floor($exponent$jscomp$inline_1373_num$jscomp$inline_4415$$ + 2e-15);
        var $divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$ = Math.pow(10, $exponent$jscomp$inline_1373_num$jscomp$inline_4415$$);
        isFinite($divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$) && 0 !== $divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$ ? $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ /= $divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$ : ($divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$ = Math.pow(10, Math.floor($exponent$jscomp$inline_1373_num$jscomp$inline_4415$$ / 2)), $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ = 
        $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ / $divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$ / $divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$, 1 == $exponent$jscomp$inline_1373_num$jscomp$inline_4415$$ % 2 && ($number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ = 0 < $exponent$jscomp$inline_1373_num$jscomp$inline_4415$$ ? $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ / 10 : 10 * $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$));
        $divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$ = this.$b$;
        if (1 < this.$F$ && this.$F$ > this.$b$) {
          for (; 0 != $exponent$jscomp$inline_1373_num$jscomp$inline_4415$$ % this.$F$;) {
            $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ *= 10, $exponent$jscomp$inline_1373_num$jscomp$inline_4415$$--;
          }
          $divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$ = 1;
        } else {
          1 > this.$b$ ? ($exponent$jscomp$inline_1373_num$jscomp$inline_4415$$++, $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ /= 10) : ($exponent$jscomp$inline_1373_num$jscomp$inline_4415$$ -= this.$b$ - 1, $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$ *= Math.pow(10, this.$b$ - 1));
        }
        $JSCompiler_StaticMethods_subformatFixed_$$(this, $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$, $divisor$jscomp$inline_4419_minIntDigits$jscomp$inline_1374$$, $parts$jscomp$9$$);
        $JSCompiler_StaticMethods_addExponentPart_$$(this, $exponent$jscomp$inline_1373_num$jscomp$inline_4415$$, $parts$jscomp$9$$);
      }
    } else {
      $JSCompiler_StaticMethods_subformatFixed_$$(this, $number$jscomp$1_number$jscomp$inline_1371_result$jscomp$inline_4420$$, this.$b$, $parts$jscomp$9$$);
    }
  } else {
    $parts$jscomp$9$$.push($goog$i18n$NumberFormatSymbols$$.$INFINITY$);
  }
  $parts$jscomp$9$$.push($initialDivisor$jscomp$inline_1367_isNegative$$ ? this.$w$ : this.$D$);
  $parts$jscomp$9$$.push($formattingNumber$jscomp$inline_1365_unit$$.$suffix$);
  return $parts$jscomp$9$$.join("");
};
var $JSCompiler_StaticMethods_roundNumber_$$ = function($JSCompiler_StaticMethods_roundNumber_$self_shiftedNumber$$, $intValue_number$jscomp$2$$) {
  var $fracValue_power$$ = Math.pow(10, $JSCompiler_StaticMethods_roundNumber_$self_shiftedNumber$$.$g$);
  $JSCompiler_StaticMethods_roundNumber_$self_shiftedNumber$$ = 0 >= $JSCompiler_StaticMethods_roundNumber_$self_shiftedNumber$$.$I$ ? Math.round($intValue_number$jscomp$2$$ * $fracValue_power$$) : Math.round($JSCompiler_StaticMethods_roundToSignificantDigits_$$($intValue_number$jscomp$2$$ * $fracValue_power$$, $JSCompiler_StaticMethods_roundNumber_$self_shiftedNumber$$.$I$, $JSCompiler_StaticMethods_roundNumber_$self_shiftedNumber$$.$g$));
  isFinite($JSCompiler_StaticMethods_roundNumber_$self_shiftedNumber$$) ? ($intValue_number$jscomp$2$$ = Math.floor($JSCompiler_StaticMethods_roundNumber_$self_shiftedNumber$$ / $fracValue_power$$), $fracValue_power$$ = Math.floor($JSCompiler_StaticMethods_roundNumber_$self_shiftedNumber$$ - $intValue_number$jscomp$2$$ * $fracValue_power$$)) : $fracValue_power$$ = 0;
  return {$intValue$:$intValue_number$jscomp$2$$, $fracValue$:$fracValue_power$$};
}, $JSCompiler_StaticMethods_subformatFixed_$$ = function($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$, $minimumFractionDigits_number$jscomp$3_rounded$$, $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$, $JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$) {
  if ($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$f$ > $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$g$) {
    throw Error("Min value must be less than max value");
  }
  $JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$ || ($JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$ = []);
  $minimumFractionDigits_number$jscomp$3_rounded$$ = $JSCompiler_StaticMethods_roundNumber_$$($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$, $minimumFractionDigits_number$jscomp$3_rounded$$);
  var $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$ = $minimumFractionDigits_number$jscomp$3_rounded$$.$intValue$, $fracPart_fracValue$jscomp$1$$ = $minimumFractionDigits_number$jscomp$3_rounded$$.$fracValue$, $fracPartSplit_fractionPresent$$ = 0 < $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$f$ || 0 < $fracPart_fracValue$jscomp$1$$ || !1;
  $minimumFractionDigits_number$jscomp$3_rounded$$ = $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$f$;
  $fracPartSplit_fractionPresent$$ && ($minimumFractionDigits_number$jscomp$3_rounded$$ = $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$f$);
  for (var $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$ = "", $translatableInt_zeroCode$jscomp$2$$ = $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$; 1E20 < $translatableInt_zeroCode$jscomp$2$$;) {
    $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$ = "0" + $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$, $translatableInt_zeroCode$jscomp$2$$ = Math.round($translatableInt_zeroCode$jscomp$2$$ / 10);
  }
  var $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$ = $translatableInt_zeroCode$jscomp$2$$ + $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$, $decimal$jscomp$1$$ = $goog$i18n$NumberFormatSymbols$$.$DECIMAL_SEP$, $translatableInt_zeroCode$jscomp$2$$ = $goog$i18n$NumberFormatSymbols$$.$ZERO_DIGIT$.charCodeAt(0), $currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$ = $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$.length, 
  $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$ = 0;
  if (0 < $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$ || 0 < $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$) {
    for ($grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$ = $currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$; $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$ < $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$; $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$++) {
      $JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$.push(String.fromCharCode($translatableInt_zeroCode$jscomp$2$$));
    }
    if (2 <= $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$j$.length) {
      for ($intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$ = 1; $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$ < $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$j$.length; $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$++) {
        $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$ += $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$j$[$intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$];
      }
    }
    $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$ = $currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$ - $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$;
    if (0 < $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$) {
      for (var $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$ = $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$j$, $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$ = $currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$ = 0, $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$, $grouping$jscomp$inline_1384_rightToLeftParts$jscomp$inline_1397$$ = 
      $goog$i18n$NumberFormatSymbols$$.$GROUP_SEP$, $digitLen$jscomp$inline_1385_rightDigitIndex$jscomp$inline_1398$$ = $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$.length, $i$jscomp$inline_1386$$ = 0; $i$jscomp$inline_1386$$ < $digitLen$jscomp$inline_1385_rightDigitIndex$jscomp$inline_1398$$; $i$jscomp$inline_1386$$++) {
        if ($JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$.push(String.fromCharCode($translatableInt_zeroCode$jscomp$2$$ + 1 * Number($groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$.charAt($i$jscomp$inline_1386$$)))), 1 < $digitLen$jscomp$inline_1385_rightDigitIndex$jscomp$inline_1398$$ - $i$jscomp$inline_1386$$) {
          if ($currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$ = $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$[$currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$], $i$jscomp$inline_1386$$ < $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$) {
            var $repeatedDigitIndex$jscomp$inline_1387$$ = $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$ - $i$jscomp$inline_1386$$;
            (1 === $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$ || 0 < $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$ && 1 === $repeatedDigitIndex$jscomp$inline_1387$$ % $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$) && $JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$.push($grouping$jscomp$inline_1384_rightToLeftParts$jscomp$inline_1397$$);
          } else {
            $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$ < $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$.length && ($i$jscomp$inline_1386$$ === $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$ ? $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$ += 1 : $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$ === 
            $i$jscomp$inline_1386$$ - $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$ - $currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$ + 1 && ($JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$.push($grouping$jscomp$inline_1384_rightToLeftParts$jscomp$inline_1397$$), $currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$ += 
            $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$, $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$ += 1));
          }
        }
      }
    } else {
      $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$ = $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$;
      $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$ = $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$j$;
      $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$ = $goog$i18n$NumberFormatSymbols$$.$GROUP_SEP$;
      $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$ = $intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$.length;
      $grouping$jscomp$inline_1384_rightToLeftParts$jscomp$inline_1397$$ = [];
      for ($currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$ = $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$.length - 1; 0 <= $currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$ && 0 < $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$; $currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$--) {
        $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$ = $groupingArray$jscomp$inline_1392_intPart$jscomp$2_intPart$jscomp$inline_1378$$[$currentGroupSizeIndex$jscomp$inline_1394_digitLen$jscomp$1_nonRepeatedGroupCompleteCount$jscomp$inline_1381$$];
        for ($digitLen$jscomp$inline_1385_rightDigitIndex$jscomp$inline_1398$$ = 0; $digitLen$jscomp$inline_1385_rightDigitIndex$jscomp$inline_1398$$ < $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$ && 0 <= $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$ - $digitLen$jscomp$inline_1385_rightDigitIndex$jscomp$inline_1398$$ - 1; $digitLen$jscomp$inline_1385_rightDigitIndex$jscomp$inline_1398$$++) {
          $grouping$jscomp$inline_1384_rightToLeftParts$jscomp$inline_1397$$.push(String.fromCharCode($translatableInt_zeroCode$jscomp$2$$ + 1 * Number($intPart$jscomp$inline_1391_j$jscomp$13_minIntDigits_repeatedDigitLen$jscomp$1$$.charAt($currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$ - $digitLen$jscomp$inline_1385_rightDigitIndex$jscomp$inline_1398$$ - 1))));
        }
        $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$ -= $currentGroupSize$jscomp$inline_1395_currentGroupSizeIndex$jscomp$inline_1382_nonRepeatedGroupCount$$;
        0 < $currentGroupSize$jscomp$inline_1383_digitLenLeft$jscomp$inline_1396$$ && $grouping$jscomp$inline_1384_rightToLeftParts$jscomp$inline_1397$$.push($grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$);
      }
      $JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$.push.apply($JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$, $grouping$jscomp$inline_1384_rightToLeftParts$jscomp$inline_1397$$.reverse());
    }
  } else {
    $fracPartSplit_fractionPresent$$ || $JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$.push(String.fromCharCode($translatableInt_zeroCode$jscomp$2$$));
  }
  ($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$K$ || $fracPartSplit_fractionPresent$$) && $JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$.push($decimal$jscomp$1$$);
  $fracPart_fracValue$jscomp$1$$ = String($fracPart_fracValue$jscomp$1$$);
  $fracPartSplit_fractionPresent$$ = $fracPart_fracValue$jscomp$1$$.split("e+");
  2 == $fracPartSplit_fractionPresent$$.length && ($fracPart_fracValue$jscomp$1$$ = String($JSCompiler_StaticMethods_roundToSignificantDigits_$$(parseFloat($fracPartSplit_fractionPresent$$[0]), $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$I$, 1)), $fracPart_fracValue$jscomp$1$$ = $fracPart_fracValue$jscomp$1$$.replace(".", ""), $fracPart_fracValue$jscomp$1$$ += $goog$string$repeat$$("0", parseInt($fracPartSplit_fractionPresent$$[1], 10) - $fracPart_fracValue$jscomp$1$$.length + 1));
  $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$g$ + 1 > $fracPart_fracValue$jscomp$1$$.length && ($fracPart_fracValue$jscomp$1$$ = "1" + $goog$string$repeat$$("0", $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$.$g$ - $fracPart_fracValue$jscomp$1$$.length) + $fracPart_fracValue$jscomp$1$$);
  for ($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$ = $fracPart_fracValue$jscomp$1$$.length; "0" == $fracPart_fracValue$jscomp$1$$.charAt($JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$ - 1) && $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$ > $minimumFractionDigits_number$jscomp$3_rounded$$ + 1;) {
    $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$--;
  }
  for ($grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$ = 1; $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$ < $JSCompiler_StaticMethods_subformatFixed_$self_fracLen$$; $grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$++) {
    $JSCompiler_temp$jscomp$183_parts$jscomp$12_parts$jscomp$inline_1376_parts$jscomp$inline_1389$$.push(String.fromCharCode($translatableInt_zeroCode$jscomp$2$$ + 1 * Number($fracPart_fracValue$jscomp$1$$.charAt($grouping$jscomp$inline_1393_groupingArray$jscomp$inline_1379_i$jscomp$162_intValue$jscomp$1$$))));
  }
}, $JSCompiler_StaticMethods_addExponentPart_$$ = function($JSCompiler_StaticMethods_addExponentPart_$self$$, $exponent_exponentDigits$$, $parts$jscomp$13$$) {
  $parts$jscomp$13$$.push($goog$i18n$NumberFormatSymbols$$.$EXP_SYMBOL$);
  0 > $exponent_exponentDigits$$ ? ($exponent_exponentDigits$$ = -$exponent_exponentDigits$$, $parts$jscomp$13$$.push($goog$i18n$NumberFormatSymbols$$.$MINUS_SIGN$)) : $JSCompiler_StaticMethods_addExponentPart_$self$$.$L$ && $parts$jscomp$13$$.push($goog$i18n$NumberFormatSymbols$$.$PLUS_SIGN$);
  $exponent_exponentDigits$$ = "" + $exponent_exponentDigits$$;
  for (var $zeroChar$$ = $goog$i18n$NumberFormatSymbols$$.$ZERO_DIGIT$, $i$jscomp$163$$ = $exponent_exponentDigits$$.length; $i$jscomp$163$$ < $JSCompiler_StaticMethods_addExponentPart_$self$$.$H$; $i$jscomp$163$$++) {
    $parts$jscomp$13$$.push($zeroChar$$);
  }
  $parts$jscomp$13$$.push($exponent_exponentDigits$$);
}, $JSCompiler_StaticMethods_getDigit_$$ = function($ch$jscomp$6_code$jscomp$6$$) {
  $ch$jscomp$6_code$jscomp$6$$ = $ch$jscomp$6_code$jscomp$6$$.charCodeAt(0);
  if (48 <= $ch$jscomp$6_code$jscomp$6$$ && 58 > $ch$jscomp$6_code$jscomp$6$$) {
    return $ch$jscomp$6_code$jscomp$6$$ - 48;
  }
  var $zeroCode$jscomp$3$$ = $goog$i18n$NumberFormatSymbols$$.$ZERO_DIGIT$.charCodeAt(0);
  return $zeroCode$jscomp$3$$ <= $ch$jscomp$6_code$jscomp$6$$ && $ch$jscomp$6_code$jscomp$6$$ < $zeroCode$jscomp$3$$ + 10 ? $ch$jscomp$6_code$jscomp$6$$ - $zeroCode$jscomp$3$$ : -1;
}, $JSCompiler_StaticMethods_parseAffix_$$ = function($JSCompiler_StaticMethods_parseAffix_$self$$, $pattern$jscomp$5$$, $pos$jscomp$7$$) {
  for (var $affix$$ = "", $inQuote$$ = !1, $len$jscomp$2$$ = $pattern$jscomp$5$$.length; $pos$jscomp$7$$[0] < $len$jscomp$2$$; $pos$jscomp$7$$[0]++) {
    var $ch$jscomp$7_currencyCode$jscomp$inline_1400$$ = $pattern$jscomp$5$$.charAt($pos$jscomp$7$$[0]);
    if ("'" == $ch$jscomp$7_currencyCode$jscomp$inline_1400$$) {
      $pos$jscomp$7$$[0] + 1 < $len$jscomp$2$$ && "'" == $pattern$jscomp$5$$.charAt($pos$jscomp$7$$[0] + 1) ? ($pos$jscomp$7$$[0]++, $affix$$ += "'") : $inQuote$$ = !$inQuote$$;
    } else {
      if ($inQuote$$) {
        $affix$$ += $ch$jscomp$7_currencyCode$jscomp$inline_1400$$;
      } else {
        switch($ch$jscomp$7_currencyCode$jscomp$inline_1400$$) {
          case "#":
          case "0":
          case ",":
          case ".":
          case ";":
            return $affix$$;
          case "\u00a4":
            if ($pos$jscomp$7$$[0] + 1 < $len$jscomp$2$$ && "\u00a4" == $pattern$jscomp$5$$.charAt($pos$jscomp$7$$[0] + 1)) {
              $pos$jscomp$7$$[0]++, $affix$$ += $JSCompiler_StaticMethods_parseAffix_$self$$.$B$;
            } else {
              switch($JSCompiler_StaticMethods_parseAffix_$self$$.$M$) {
                case 0:
                  $affix$$ += $goog$i18n$currency$CurrencyInfo$$[$JSCompiler_StaticMethods_parseAffix_$self$$.$B$][1];
                  break;
                case 2:
                  var $ch$jscomp$7_currencyCode$jscomp$inline_1400$$ = $JSCompiler_StaticMethods_parseAffix_$self$$.$B$, $info$jscomp$inline_1401$$ = $goog$i18n$currency$CurrencyInfo$$[$ch$jscomp$7_currencyCode$jscomp$inline_1400$$], $affix$$ = $affix$$ + ($ch$jscomp$7_currencyCode$jscomp$inline_1400$$ == $info$jscomp$inline_1401$$[1] ? $ch$jscomp$7_currencyCode$jscomp$inline_1400$$ : $ch$jscomp$7_currencyCode$jscomp$inline_1400$$ + " " + $info$jscomp$inline_1401$$[1]);
                  break;
                case 1:
                  $affix$$ += $goog$i18n$currency$CurrencyInfo$$[$JSCompiler_StaticMethods_parseAffix_$self$$.$B$][2];
              }
            }
            break;
          case "%":
            if (!$JSCompiler_StaticMethods_parseAffix_$self$$.$l$ && 1 != $JSCompiler_StaticMethods_parseAffix_$self$$.$a$) {
              throw Error("Too many percent/permill");
            }
            if ($JSCompiler_StaticMethods_parseAffix_$self$$.$l$ && 100 != $JSCompiler_StaticMethods_parseAffix_$self$$.$a$) {
              throw Error("Inconsistent use of percent/permill characters");
            }
            $JSCompiler_StaticMethods_parseAffix_$self$$.$a$ = 100;
            $JSCompiler_StaticMethods_parseAffix_$self$$.$l$ = !1;
            $affix$$ += $goog$i18n$NumberFormatSymbols$$.$PERCENT$;
            break;
          case "\u2030":
            if (!$JSCompiler_StaticMethods_parseAffix_$self$$.$l$ && 1 != $JSCompiler_StaticMethods_parseAffix_$self$$.$a$) {
              throw Error("Too many percent/permill");
            }
            if ($JSCompiler_StaticMethods_parseAffix_$self$$.$l$ && 1000 != $JSCompiler_StaticMethods_parseAffix_$self$$.$a$) {
              throw Error("Inconsistent use of percent/permill characters");
            }
            $JSCompiler_StaticMethods_parseAffix_$self$$.$a$ = 1000;
            $JSCompiler_StaticMethods_parseAffix_$self$$.$l$ = !1;
            $affix$$ += $goog$i18n$NumberFormatSymbols$$.$PERMILL$;
            break;
          default:
            $affix$$ += $ch$jscomp$7_currencyCode$jscomp$inline_1400$$;
        }
      }
    }
  }
  return $affix$$;
}, $goog$i18n$NumberFormat$NULL_UNIT_$$ = {prefix:"", $suffix$:"", $divisorBase$:0}, $JSCompiler_StaticMethods_getUnitFor_$$ = function($JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$, $base$jscomp$5_previousNonNullBase$$) {
  $JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$ = 1 == $JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$.$A$ ? $goog$i18n$CompactNumberFormatSymbols$$.$COMPACT_DECIMAL_SHORT_PATTERN$ : $goog$i18n$CompactNumberFormatSymbols$$.$COMPACT_DECIMAL_LONG_PATTERN$;
  null == $JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$ && ($JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$ = $goog$i18n$CompactNumberFormatSymbols$$.$COMPACT_DECIMAL_SHORT_PATTERN$);
  if (3 > $base$jscomp$5_previousNonNullBase$$) {
    return $goog$i18n$NumberFormat$NULL_UNIT_$$;
  }
  $base$jscomp$5_previousNonNullBase$$ = Math.min(14, $base$jscomp$5_previousNonNullBase$$);
  var $patterns$$ = $JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$[Math.pow(10, $base$jscomp$5_previousNonNullBase$$)];
  for (--$base$jscomp$5_previousNonNullBase$$; !$patterns$$ && 3 <= $base$jscomp$5_previousNonNullBase$$;) {
    $patterns$$ = $JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$[Math.pow(10, $base$jscomp$5_previousNonNullBase$$)], $base$jscomp$5_previousNonNullBase$$--;
  }
  if (!$patterns$$) {
    return $goog$i18n$NumberFormat$NULL_UNIT_$$;
  }
  $JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$ = $patterns$$.other;
  return $JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$ && "0" != $JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$ ? ($JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$ = /([^0]*)(0+)(.*)/.exec($JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$)) ? {prefix:$JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$[1], 
  $suffix$:$JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$[3], $divisorBase$:$base$jscomp$5_previousNonNullBase$$ + 1 - ($JSCompiler_StaticMethods_getUnitFor_$self_parts$jscomp$15_pattern$jscomp$7_table$jscomp$1$$[2].length - 1)} : $goog$i18n$NumberFormat$NULL_UNIT_$$ : $goog$i18n$NumberFormat$NULL_UNIT_$$;
}, $JSCompiler_StaticMethods_intLog10_$$ = function($number$jscomp$5$$) {
  if (!isFinite($number$jscomp$5$$)) {
    return 0 < $number$jscomp$5$$ ? $number$jscomp$5$$ : 0;
  }
  for (var $i$jscomp$164$$ = 0; 1 <= ($number$jscomp$5$$ /= 10);) {
    $i$jscomp$164$$++;
  }
  return $i$jscomp$164$$;
}, $JSCompiler_StaticMethods_roundToSignificantDigits_$$ = function($number$jscomp$6$$, $magnitude_significantDigits$$, $point_power$jscomp$1_scale$jscomp$3$$) {
  if (!$number$jscomp$6$$) {
    return $number$jscomp$6$$;
  }
  $magnitude_significantDigits$$ = $magnitude_significantDigits$$ - $JSCompiler_StaticMethods_intLog10_$$($number$jscomp$6$$) - 1;
  if ($magnitude_significantDigits$$ < -$point_power$jscomp$1_scale$jscomp$3$$) {
    return $point_power$jscomp$1_scale$jscomp$3$$ = Math.pow(10, $point_power$jscomp$1_scale$jscomp$3$$), Math.round($number$jscomp$6$$ / $point_power$jscomp$1_scale$jscomp$3$$) * $point_power$jscomp$1_scale$jscomp$3$$;
  }
  $point_power$jscomp$1_scale$jscomp$3$$ = Math.pow(10, $magnitude_significantDigits$$);
  return Math.round($number$jscomp$6$$ * $point_power$jscomp$1_scale$jscomp$3$$) / $point_power$jscomp$1_scale$jscomp$3$$;
};
var $goog$i18n$ordinalRules$enSelect_$$ = function($n$jscomp$17$$) {
  return 1 == $n$jscomp$17$$ % 10 && 11 != $n$jscomp$17$$ % 100 ? "one" : 2 == $n$jscomp$17$$ % 10 && 12 != $n$jscomp$17$$ % 100 ? "two" : 3 == $n$jscomp$17$$ % 10 && 13 != $n$jscomp$17$$ % 100 ? "few" : "other";
}, $goog$i18n$ordinalRules$select$$ = $goog$i18n$ordinalRules$enSelect_$$, $goog$i18n$ordinalRules$select$$ = $goog$i18n$ordinalRules$enSelect_$$;
var $goog$i18n$pluralRules$enSelect_$$ = function($n$jscomp$69$$, $JSCompiler_temp$jscomp$4164_opt_precision$jscomp$56_str$jscomp$inline_4423$$) {
  if (void 0 === $JSCompiler_temp$jscomp$4164_opt_precision$jscomp$56_str$jscomp$inline_4423$$) {
    $JSCompiler_temp$jscomp$4164_opt_precision$jscomp$56_str$jscomp$inline_4423$$ = $n$jscomp$69$$ + "";
    var $result$jscomp$inline_4424$$ = $JSCompiler_temp$jscomp$4164_opt_precision$jscomp$56_str$jscomp$inline_4423$$.indexOf(".");
    $JSCompiler_temp$jscomp$4164_opt_precision$jscomp$56_str$jscomp$inline_4423$$ = Math.min(-1 == $result$jscomp$inline_4424$$ ? 0 : $JSCompiler_temp$jscomp$4164_opt_precision$jscomp$56_str$jscomp$inline_4423$$.length - $result$jscomp$inline_4424$$ - 1, 3);
  }
  return 1 == ($n$jscomp$69$$ | 0) && 0 == $JSCompiler_temp$jscomp$4164_opt_precision$jscomp$56_str$jscomp$inline_4423$$ ? "one" : "other";
}, $goog$i18n$pluralRules$select$$ = $goog$i18n$pluralRules$enSelect_$$, $goog$i18n$pluralRules$select$$ = $goog$i18n$pluralRules$enSelect_$$;
var $goog$i18n$MessageFormat$$ = function($currentSymbols$jscomp$inline_1408_pattern$jscomp$8$$) {
  this.$g$ = $currentSymbols$jscomp$inline_1408_pattern$jscomp$8$$;
  this.$b$ = this.$a$ = this.$h$ = null;
  $currentSymbols$jscomp$inline_1408_pattern$jscomp$8$$ = $goog$i18n$NumberFormatSymbols$$;
  var $currentCompactSymbols$jscomp$inline_1409$$ = $goog$i18n$CompactNumberFormatSymbols$$;
  if ($goog$i18n$MessageFormat$numberFormatterSymbols_$$ !== $currentSymbols$jscomp$inline_1408_pattern$jscomp$8$$ || $goog$i18n$MessageFormat$compactNumberFormatterSymbols_$$ !== $currentCompactSymbols$jscomp$inline_1409$$) {
    $goog$i18n$MessageFormat$numberFormatterSymbols_$$ = $currentSymbols$jscomp$inline_1408_pattern$jscomp$8$$, $goog$i18n$MessageFormat$compactNumberFormatterSymbols_$$ = $currentCompactSymbols$jscomp$inline_1409$$, $goog$i18n$MessageFormat$numberFormatter_$$ = new $goog$i18n$NumberFormat$$(1);
  }
  this.$j$ = $goog$i18n$MessageFormat$numberFormatter_$$;
}, $goog$i18n$MessageFormat$numberFormatterSymbols_$$ = null, $goog$i18n$MessageFormat$compactNumberFormatterSymbols_$$ = null, $goog$i18n$MessageFormat$numberFormatter_$$ = null, $goog$i18n$MessageFormat$REGEX_LITERAL_$$ = /'([{}#].*?)'/g, $goog$i18n$MessageFormat$REGEX_DOUBLE_APOSTROPHE_$$ = /''/g;
$goog$i18n$MessageFormat$$.prototype.format = function($JSCompiler_inline_result$jscomp$186_message$jscomp$inline_1415_namedParameters$$) {
  if (this.$g$) {
    this.$h$ = [];
    var $pattern$jscomp$inline_4427_result$jscomp$inline_1414$$ = $JSCompiler_StaticMethods_insertPlaceholders_$$(this, this.$g$);
    this.$b$ = $JSCompiler_StaticMethods_parseBlock_$$(this, $pattern$jscomp$inline_4427_result$jscomp$inline_1414$$);
    this.$g$ = null;
  }
  if (this.$b$ && 0 != this.$b$.length) {
    for (this.$a$ = $goog$array$toArray$$(this.$h$), $pattern$jscomp$inline_4427_result$jscomp$inline_1414$$ = [], $JSCompiler_StaticMethods_formatBlock_$$(this, this.$b$, $JSCompiler_inline_result$jscomp$186_message$jscomp$inline_1415_namedParameters$$, !1, $pattern$jscomp$inline_4427_result$jscomp$inline_1414$$), $JSCompiler_inline_result$jscomp$186_message$jscomp$inline_1415_namedParameters$$ = $pattern$jscomp$inline_4427_result$jscomp$inline_1414$$.join(""), $goog$asserts$assert$$(-1 == $JSCompiler_inline_result$jscomp$186_message$jscomp$inline_1415_namedParameters$$.search("#"), 
    "Not all # were replaced."); 0 < this.$a$.length;) {
      $JSCompiler_inline_result$jscomp$186_message$jscomp$inline_1415_namedParameters$$ = $JSCompiler_inline_result$jscomp$186_message$jscomp$inline_1415_namedParameters$$.replace(this.$f$(this.$a$), this.$a$.pop());
    }
  } else {
    $JSCompiler_inline_result$jscomp$186_message$jscomp$inline_1415_namedParameters$$ = "";
  }
  return $JSCompiler_inline_result$jscomp$186_message$jscomp$inline_1415_namedParameters$$;
};
var $JSCompiler_StaticMethods_formatBlock_$$ = function($JSCompiler_StaticMethods_formatBlock_$self$$, $parsedPattern$$, $namedParameters$jscomp$3$$, $ignorePound$jscomp$1$$, $result$jscomp$50$$) {
  for (var $i$jscomp$188$$ = 0; $i$jscomp$188$$ < $parsedPattern$$.length; $i$jscomp$188$$++) {
    switch($parsedPattern$$[$i$jscomp$188$$].type) {
      case 4:
        $result$jscomp$50$$.push($parsedPattern$$[$i$jscomp$188$$].value);
        break;
      case 3:
        var $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$ = $parsedPattern$$[$i$jscomp$188$$].value, $JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_1423_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_1417$$ = $JSCompiler_StaticMethods_formatBlock_$self$$, $namedParameters$jscomp$inline_1425_result$jscomp$inline_1420$$ = $result$jscomp$50$$, $ignorePound$jscomp$inline_1426_value$jscomp$inline_1421$$ = $namedParameters$jscomp$3$$[$parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$];
        $goog$isDef$$($ignorePound$jscomp$inline_1426_value$jscomp$inline_1421$$) ? ($JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_1423_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_1417$$.$a$.push($ignorePound$jscomp$inline_1426_value$jscomp$inline_1421$$), $namedParameters$jscomp$inline_1425_result$jscomp$inline_1420$$.push($JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_1423_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_1417$$.$f$($JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_1423_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_1417$$.$a$))) : 
        $namedParameters$jscomp$inline_1425_result$jscomp$inline_1420$$.push("Undefined parameter - " + $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$);
        break;
      case 2:
        var $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$ = $parsedPattern$$[$i$jscomp$188$$].value, $JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_1423_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_1417$$ = $JSCompiler_StaticMethods_formatBlock_$self$$, $namedParameters$jscomp$inline_1425_result$jscomp$inline_1420$$ = $namedParameters$jscomp$3$$, $ignorePound$jscomp$inline_1426_value$jscomp$inline_1421$$ = $ignorePound$jscomp$1$$, $result$jscomp$inline_1427$$ = 
        $result$jscomp$50$$, $argumentIndex$jscomp$inline_1428_option$jscomp$inline_1429$$ = $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$.$argumentIndex$;
        $goog$isDef$$($namedParameters$jscomp$inline_1425_result$jscomp$inline_1420$$[$argumentIndex$jscomp$inline_1428_option$jscomp$inline_1429$$]) ? ($argumentIndex$jscomp$inline_1428_option$jscomp$inline_1429$$ = $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$[$namedParameters$jscomp$inline_1425_result$jscomp$inline_1420$$[$argumentIndex$jscomp$inline_1428_option$jscomp$inline_1429$$]], $goog$isDef$$($argumentIndex$jscomp$inline_1428_option$jscomp$inline_1429$$) || ($argumentIndex$jscomp$inline_1428_option$jscomp$inline_1429$$ = 
        $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$.other, $goog$asserts$assertArray$$($argumentIndex$jscomp$inline_1428_option$jscomp$inline_1429$$, "Invalid option or missing other option for select block.")), $JSCompiler_StaticMethods_formatBlock_$$($JSCompiler_StaticMethods_formatSelectBlock_$self$jscomp$inline_1423_JSCompiler_StaticMethods_formatSimplePlaceholder_$self$jscomp$inline_1417$$, $argumentIndex$jscomp$inline_1428_option$jscomp$inline_1429$$, $namedParameters$jscomp$inline_1425_result$jscomp$inline_1420$$, 
        $ignorePound$jscomp$inline_1426_value$jscomp$inline_1421$$, $result$jscomp$inline_1427$$)) : $result$jscomp$inline_1427$$.push("Undefined parameter - " + $argumentIndex$jscomp$inline_1428_option$jscomp$inline_1429$$);
        break;
      case 0:
        $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$ = $parsedPattern$$[$i$jscomp$188$$].value;
        $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$$($JSCompiler_StaticMethods_formatBlock_$self$$, $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$, $namedParameters$jscomp$3$$, $goog$i18n$pluralRules$select$$, $ignorePound$jscomp$1$$, $result$jscomp$50$$);
        break;
      case 1:
        $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$ = $parsedPattern$$[$i$jscomp$188$$].value;
        $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$$($JSCompiler_StaticMethods_formatBlock_$self$$, $parsedPattern$jscomp$inline_1418_pattern$jscomp$9$$, $namedParameters$jscomp$3$$, $goog$i18n$ordinalRules$select$$, $ignorePound$jscomp$1$$, $result$jscomp$50$$);
        break;
      default:
        $goog$asserts$fail$$("Unrecognized block type: " + $parsedPattern$$[$i$jscomp$188$$].type);
    }
  }
}, $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$$ = function($JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$, $parsedPattern$jscomp$3_pluralResult$$, $namedParameters$jscomp$6_plural$$, $item$jscomp$12_pluralSelector$$, $ignorePound$jscomp$3$$, $result$jscomp$53$$) {
  var $argumentIndex$jscomp$1_option$jscomp$1$$ = $parsedPattern$jscomp$3_pluralResult$$.$argumentIndex$, $argumentOffset_diff$$ = $parsedPattern$jscomp$3_pluralResult$$.$argumentOffset$, $pluralValue$$ = +$namedParameters$jscomp$6_plural$$[$argumentIndex$jscomp$1_option$jscomp$1$$];
  isNaN($pluralValue$$) ? $result$jscomp$53$$.push("Undefined or invalid parameter - " + $argumentIndex$jscomp$1_option$jscomp$1$$) : ($argumentOffset_diff$$ = $pluralValue$$ - $argumentOffset_diff$$, $argumentIndex$jscomp$1_option$jscomp$1$$ = $parsedPattern$jscomp$3_pluralResult$$[$namedParameters$jscomp$6_plural$$[$argumentIndex$jscomp$1_option$jscomp$1$$]], $goog$isDef$$($argumentIndex$jscomp$1_option$jscomp$1$$) || ($goog$asserts$assert$$(0 <= $argumentOffset_diff$$, "Argument index smaller than offset."), 
  $item$jscomp$12_pluralSelector$$ = $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$.$j$.$N$ ? $item$jscomp$12_pluralSelector$$($argumentOffset_diff$$, $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$.$j$.$N$()) : $item$jscomp$12_pluralSelector$$($argumentOffset_diff$$), $goog$asserts$assertString$$($item$jscomp$12_pluralSelector$$, "Invalid plural key."), $argumentIndex$jscomp$1_option$jscomp$1$$ = $parsedPattern$jscomp$3_pluralResult$$[$item$jscomp$12_pluralSelector$$], 
  $goog$isDef$$($argumentIndex$jscomp$1_option$jscomp$1$$) || ($argumentIndex$jscomp$1_option$jscomp$1$$ = $parsedPattern$jscomp$3_pluralResult$$.other), $goog$asserts$assertArray$$($argumentIndex$jscomp$1_option$jscomp$1$$, "Invalid option or missing other option for plural block.")), $parsedPattern$jscomp$3_pluralResult$$ = [], $JSCompiler_StaticMethods_formatBlock_$$($JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$, $argumentIndex$jscomp$1_option$jscomp$1$$, $namedParameters$jscomp$6_plural$$, 
  $ignorePound$jscomp$3$$, $parsedPattern$jscomp$3_pluralResult$$), $namedParameters$jscomp$6_plural$$ = $parsedPattern$jscomp$3_pluralResult$$.join(""), $goog$asserts$assertString$$($namedParameters$jscomp$6_plural$$, "Empty block in plural."), $ignorePound$jscomp$3$$ ? $result$jscomp$53$$.push($namedParameters$jscomp$6_plural$$) : ($JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$ = $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$.$j$.format($argumentOffset_diff$$), 
  $result$jscomp$53$$.push($namedParameters$jscomp$6_plural$$.replace(/#/g, $JSCompiler_StaticMethods_formatPluralOrdinalBlock_$self_localeAwareDiff$$))));
}, $JSCompiler_StaticMethods_insertPlaceholders_$$ = function($JSCompiler_StaticMethods_insertPlaceholders_$self$$, $pattern$jscomp$11$$) {
  var $literals$$ = $JSCompiler_StaticMethods_insertPlaceholders_$self$$.$h$, $buildPlaceholder$$ = $goog$bind$$($JSCompiler_StaticMethods_insertPlaceholders_$self$$.$f$, $JSCompiler_StaticMethods_insertPlaceholders_$self$$);
  $pattern$jscomp$11$$ = $pattern$jscomp$11$$.replace($goog$i18n$MessageFormat$REGEX_DOUBLE_APOSTROPHE_$$, function() {
    $literals$$.push("'");
    return $buildPlaceholder$$($literals$$);
  });
  return $pattern$jscomp$11$$ = $pattern$jscomp$11$$.replace($goog$i18n$MessageFormat$REGEX_LITERAL_$$, function($JSCompiler_StaticMethods_insertPlaceholders_$self$$, $pattern$jscomp$11$$) {
    $literals$$.push($pattern$jscomp$11$$);
    return $buildPlaceholder$$($literals$$);
  });
}, $JSCompiler_StaticMethods_extractParts_$$ = function($pattern$jscomp$12$$) {
  var $prevPos_substring$$ = 0;
  var $braceStack$$ = [], $results$jscomp$1$$ = [], $braces$$ = /[{}]/g;
  $braces$$.lastIndex = 0;
  for (var $brace_match$jscomp$10_part$jscomp$3$$; $brace_match$jscomp$10_part$jscomp$3$$ = $braces$$.exec($pattern$jscomp$12$$);) {
    var $pos$jscomp$9$$ = $brace_match$jscomp$10_part$jscomp$3$$.index;
    "}" == $brace_match$jscomp$10_part$jscomp$3$$[0] ? ($brace_match$jscomp$10_part$jscomp$3$$ = $braceStack$$.pop(), $goog$asserts$assert$$($goog$isDef$$($brace_match$jscomp$10_part$jscomp$3$$) && "{" == $brace_match$jscomp$10_part$jscomp$3$$, "No matching { for }."), 0 == $braceStack$$.length && ($brace_match$jscomp$10_part$jscomp$3$$ = {type:1}, $brace_match$jscomp$10_part$jscomp$3$$.value = $pattern$jscomp$12$$.substring($prevPos_substring$$, $pos$jscomp$9$$), $results$jscomp$1$$.push($brace_match$jscomp$10_part$jscomp$3$$), 
    $prevPos_substring$$ = $pos$jscomp$9$$ + 1)) : (0 == $braceStack$$.length && ($prevPos_substring$$ = $pattern$jscomp$12$$.substring($prevPos_substring$$, $pos$jscomp$9$$), "" != $prevPos_substring$$ && $results$jscomp$1$$.push({type:0, value:$prevPos_substring$$}), $prevPos_substring$$ = $pos$jscomp$9$$ + 1), $braceStack$$.push("{"));
  }
  $goog$asserts$assert$$(0 == $braceStack$$.length, "There are mismatched { or } in the pattern.");
  $prevPos_substring$$ = $pattern$jscomp$12$$.substring($prevPos_substring$$);
  "" != $prevPos_substring$$ && $results$jscomp$1$$.push({type:0, value:$prevPos_substring$$});
  return $results$jscomp$1$$;
}, $goog$i18n$MessageFormat$PLURAL_BLOCK_RE_$$ = /^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/, $goog$i18n$MessageFormat$ORDINAL_BLOCK_RE_$$ = /^\s*(\w+)\s*,\s*selectordinal\s*,/, $goog$i18n$MessageFormat$SELECT_BLOCK_RE_$$ = /^\s*(\w+)\s*,\s*select\s*,/, $JSCompiler_StaticMethods_parseBlock_$$ = function($JSCompiler_StaticMethods_parseBlock_$self$$, $parts$jscomp$16_pattern$jscomp$14$$) {
  var $result$jscomp$54$$ = [];
  $parts$jscomp$16_pattern$jscomp$14$$ = $JSCompiler_StaticMethods_extractParts_$$($parts$jscomp$16_pattern$jscomp$14$$);
  for (var $i$jscomp$189$$ = 0; $i$jscomp$189$$ < $parts$jscomp$16_pattern$jscomp$14$$.length; $i$jscomp$189$$++) {
    var $block$$ = {};
    if (0 == $parts$jscomp$16_pattern$jscomp$14$$[$i$jscomp$189$$].type) {
      $block$$.type = 4, $block$$.value = $parts$jscomp$16_pattern$jscomp$14$$[$i$jscomp$189$$].value;
    } else {
      if (1 == $parts$jscomp$16_pattern$jscomp$14$$[$i$jscomp$189$$].type) {
        var $pattern$jscomp$inline_1431$$ = $parts$jscomp$16_pattern$jscomp$14$$[$i$jscomp$189$$].value;
        switch($goog$i18n$MessageFormat$PLURAL_BLOCK_RE_$$.test($pattern$jscomp$inline_1431$$) ? 0 : $goog$i18n$MessageFormat$ORDINAL_BLOCK_RE_$$.test($pattern$jscomp$inline_1431$$) ? 1 : $goog$i18n$MessageFormat$SELECT_BLOCK_RE_$$.test($pattern$jscomp$inline_1431$$) ? 2 : /^\s*\w+\s*/.test($pattern$jscomp$inline_1431$$) ? 3 : 5) {
          case 2:
            $block$$.type = 2;
            $block$$.value = $JSCompiler_StaticMethods_parseSelectBlock_$$($JSCompiler_StaticMethods_parseBlock_$self$$, $parts$jscomp$16_pattern$jscomp$14$$[$i$jscomp$189$$].value);
            break;
          case 0:
            $block$$.type = 0;
            $block$$.value = $JSCompiler_StaticMethods_parsePluralBlock_$$($JSCompiler_StaticMethods_parseBlock_$self$$, $parts$jscomp$16_pattern$jscomp$14$$[$i$jscomp$189$$].value);
            break;
          case 1:
            $block$$.type = 1;
            $block$$.value = $JSCompiler_StaticMethods_parseOrdinalBlock_$$($JSCompiler_StaticMethods_parseBlock_$self$$, $parts$jscomp$16_pattern$jscomp$14$$[$i$jscomp$189$$].value);
            break;
          case 3:
            $block$$.type = 3;
            $block$$.value = $parts$jscomp$16_pattern$jscomp$14$$[$i$jscomp$189$$].value;
            break;
          default:
            $goog$asserts$fail$$("Unknown block type for pattern: " + $parts$jscomp$16_pattern$jscomp$14$$[$i$jscomp$189$$].value);
        }
      } else {
        $goog$asserts$fail$$("Unknown part of the pattern.");
      }
    }
    $result$jscomp$54$$.push($block$$);
  }
  return $result$jscomp$54$$;
}, $JSCompiler_StaticMethods_parseSelectBlock_$$ = function($JSCompiler_StaticMethods_parseSelectBlock_$self$$, $parts$jscomp$17_pattern$jscomp$15$$) {
  var $value$jscomp$190$$, $argumentIndex$jscomp$2$$ = "";
  $parts$jscomp$17_pattern$jscomp$15$$ = $parts$jscomp$17_pattern$jscomp$15$$.replace($goog$i18n$MessageFormat$SELECT_BLOCK_RE_$$, function($JSCompiler_StaticMethods_parseSelectBlock_$self$$, $parts$jscomp$17_pattern$jscomp$15$$) {
    $argumentIndex$jscomp$2$$ = $parts$jscomp$17_pattern$jscomp$15$$;
    return "";
  });
  var $result$jscomp$55$$ = {};
  $result$jscomp$55$$.$argumentIndex$ = $argumentIndex$jscomp$2$$;
  $parts$jscomp$17_pattern$jscomp$15$$ = $JSCompiler_StaticMethods_extractParts_$$($parts$jscomp$17_pattern$jscomp$15$$);
  for (var $pos$jscomp$10$$ = 0; $pos$jscomp$10$$ < $parts$jscomp$17_pattern$jscomp$15$$.length;) {
    var $key$jscomp$136$$ = $parts$jscomp$17_pattern$jscomp$15$$[$pos$jscomp$10$$].value;
    $goog$asserts$assertString$$($key$jscomp$136$$, "Missing select key element.");
    $pos$jscomp$10$$++;
    $goog$asserts$assert$$($pos$jscomp$10$$ < $parts$jscomp$17_pattern$jscomp$15$$.length, "Missing or invalid select value element.");
    1 == $parts$jscomp$17_pattern$jscomp$15$$[$pos$jscomp$10$$].type ? $value$jscomp$190$$ = $JSCompiler_StaticMethods_parseBlock_$$($JSCompiler_StaticMethods_parseSelectBlock_$self$$, $parts$jscomp$17_pattern$jscomp$15$$[$pos$jscomp$10$$].value) : $goog$asserts$fail$$("Expected block type.");
    $result$jscomp$55$$[$key$jscomp$136$$.replace(/\s/g, "")] = $value$jscomp$190$$;
    $pos$jscomp$10$$++;
  }
  $goog$asserts$assertArray$$($result$jscomp$55$$.other, "Missing other key in select statement.");
  return $result$jscomp$55$$;
}, $JSCompiler_StaticMethods_parsePluralBlock_$$ = function($JSCompiler_StaticMethods_parsePluralBlock_$self$$, $parts$jscomp$18_pattern$jscomp$16$$) {
  var $value$jscomp$191$$, $argumentIndex$jscomp$3$$ = "", $argumentOffset$jscomp$1$$ = 0;
  $parts$jscomp$18_pattern$jscomp$16$$ = $parts$jscomp$18_pattern$jscomp$16$$.replace($goog$i18n$MessageFormat$PLURAL_BLOCK_RE_$$, function($JSCompiler_StaticMethods_parsePluralBlock_$self$$, $parts$jscomp$18_pattern$jscomp$16$$, $value$jscomp$191$$) {
    $argumentIndex$jscomp$3$$ = $parts$jscomp$18_pattern$jscomp$16$$;
    $value$jscomp$191$$ && ($argumentOffset$jscomp$1$$ = parseInt($value$jscomp$191$$, 10));
    return "";
  });
  var $result$jscomp$56$$ = {};
  $result$jscomp$56$$.$argumentIndex$ = $argumentIndex$jscomp$3$$;
  $result$jscomp$56$$.$argumentOffset$ = $argumentOffset$jscomp$1$$;
  $parts$jscomp$18_pattern$jscomp$16$$ = $JSCompiler_StaticMethods_extractParts_$$($parts$jscomp$18_pattern$jscomp$16$$);
  for (var $pos$jscomp$11$$ = 0; $pos$jscomp$11$$ < $parts$jscomp$18_pattern$jscomp$16$$.length;) {
    var $key$jscomp$137$$ = $parts$jscomp$18_pattern$jscomp$16$$[$pos$jscomp$11$$].value;
    $goog$asserts$assertString$$($key$jscomp$137$$, "Missing plural key element.");
    $pos$jscomp$11$$++;
    $goog$asserts$assert$$($pos$jscomp$11$$ < $parts$jscomp$18_pattern$jscomp$16$$.length, "Missing or invalid plural value element.");
    1 == $parts$jscomp$18_pattern$jscomp$16$$[$pos$jscomp$11$$].type ? $value$jscomp$191$$ = $JSCompiler_StaticMethods_parseBlock_$$($JSCompiler_StaticMethods_parsePluralBlock_$self$$, $parts$jscomp$18_pattern$jscomp$16$$[$pos$jscomp$11$$].value) : $goog$asserts$fail$$("Expected block type.");
    $result$jscomp$56$$[$key$jscomp$137$$.replace(/\s*(?:=)?(\w+)\s*/, "$1")] = $value$jscomp$191$$;
    $pos$jscomp$11$$++;
  }
  $goog$asserts$assertArray$$($result$jscomp$56$$.other, "Missing other key in plural statement.");
  return $result$jscomp$56$$;
}, $JSCompiler_StaticMethods_parseOrdinalBlock_$$ = function($JSCompiler_StaticMethods_parseOrdinalBlock_$self$$, $parts$jscomp$19_pattern$jscomp$17$$) {
  var $value$jscomp$192$$, $argumentIndex$jscomp$4$$ = "";
  $parts$jscomp$19_pattern$jscomp$17$$ = $parts$jscomp$19_pattern$jscomp$17$$.replace($goog$i18n$MessageFormat$ORDINAL_BLOCK_RE_$$, function($JSCompiler_StaticMethods_parseOrdinalBlock_$self$$, $parts$jscomp$19_pattern$jscomp$17$$) {
    $argumentIndex$jscomp$4$$ = $parts$jscomp$19_pattern$jscomp$17$$;
    return "";
  });
  var $result$jscomp$57$$ = {};
  $result$jscomp$57$$.$argumentIndex$ = $argumentIndex$jscomp$4$$;
  $result$jscomp$57$$.$argumentOffset$ = 0;
  $parts$jscomp$19_pattern$jscomp$17$$ = $JSCompiler_StaticMethods_extractParts_$$($parts$jscomp$19_pattern$jscomp$17$$);
  for (var $pos$jscomp$12$$ = 0; $pos$jscomp$12$$ < $parts$jscomp$19_pattern$jscomp$17$$.length;) {
    var $key$jscomp$138$$ = $parts$jscomp$19_pattern$jscomp$17$$[$pos$jscomp$12$$].value;
    $goog$asserts$assertString$$($key$jscomp$138$$, "Missing ordinal key element.");
    $pos$jscomp$12$$++;
    $goog$asserts$assert$$($pos$jscomp$12$$ < $parts$jscomp$19_pattern$jscomp$17$$.length, "Missing or invalid ordinal value element.");
    1 == $parts$jscomp$19_pattern$jscomp$17$$[$pos$jscomp$12$$].type ? $value$jscomp$192$$ = $JSCompiler_StaticMethods_parseBlock_$$($JSCompiler_StaticMethods_parseOrdinalBlock_$self$$, $parts$jscomp$19_pattern$jscomp$17$$[$pos$jscomp$12$$].value) : $goog$asserts$fail$$("Expected block type.");
    $result$jscomp$57$$[$key$jscomp$138$$.replace(/\s*(?:=)?(\w+)\s*/, "$1")] = $value$jscomp$192$$;
    $pos$jscomp$12$$++;
  }
  $goog$asserts$assertArray$$($result$jscomp$57$$.other, "Missing other key in selectordinal statement.");
  return $result$jscomp$57$$;
};
$goog$i18n$MessageFormat$$.prototype.$f$ = function($literals$jscomp$1$$) {
  $goog$asserts$assert$$(0 < $literals$jscomp$1$$.length, "Literal array is empty.");
  return "\ufddf_" + ($literals$jscomp$1$$.length - 1).toString(10) + "_";
};
var $mr$cloud$Messages$MSG_MR_CONNECT_FAILED$$ = chrome.i18n.getMessage("1522140683318860351"), $mr$cloud$Messages$MSG_KNOCK_DENIED$$ = chrome.i18n.getMessage("4246483347873264186"), $mr$cloud$Messages$MSG_KNOCK_TIMEOUT$$ = chrome.i18n.getMessage("5991427458288444010"), $mr$cloud$Messages$MSG_MR_HANGOUT_PRIVACY$$ = chrome.i18n.getMessage("6063910461797960050"), $mr$cloud$Messages$MSG_MR_HANGOUT_INACTIVE$$ = chrome.i18n.getMessage("7735695102441495789"), $mr$cloud$Messages$MSG_MR_HANGOUT_INVALID$$ = 
chrome.i18n.getMessage("4575332923598659024"), $mr$cloud$Messages$MSG_MR_HANGOUT_TITLE_$$ = chrome.i18n.getMessage("2297080986956220930"), $mr$cloud$Messages$MR_HANGOUT_TITLE_FMT_$$ = new $goog$i18n$MessageFormat$$($mr$cloud$Messages$MSG_MR_HANGOUT_TITLE_$$), $mr$cloud$Messages$generateHangoutTitleWithParticipants$$ = function($organizer$$, $numParticipants$$) {
  return $mr$cloud$Messages$MR_HANGOUT_TITLE_FMT_$$.format({ORGANIZER:$organizer$$, PARTICIPANTS:$numParticipants$$});
};
var $mr$cloud$mesi$MesiService$$ = function($gapiService$jscomp$2$$) {
  this.$a$ = $gapiService$jscomp$2$$;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.mesi.MesiService");
}, $JSCompiler_StaticMethods_findActiveHangouts$$ = function($JSCompiler_StaticMethods_findActiveHangouts$self$$) {
  var $configUrl_path$jscomp$30$$ = $mr$cloud$MESI_CONFIG$$.$a$, $configUrl_path$jscomp$30$$ = $configUrl_path$jscomp$30$$.replace("v1", "v1_today"), $configUrl_path$jscomp$30$$ = $JSCompiler_StaticMethods_formUri$$($configUrl_path$jscomp$30$$, ["hangouts", "search"]);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_findActiveHangouts$self$$.$logger_$, "Retrieving Hangouts from MESI: " + $configUrl_path$jscomp$30$$);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_findActiveHangouts$self$$.$a$, $configUrl_path$jscomp$30$$, "POST", $mr$cloud$mesi$MesiService$SEARCH_REQUEST_$$).then(function($JSCompiler_StaticMethods_findActiveHangouts$self$$) {
    var $configUrl_path$jscomp$30$$ = [];
    $JSCompiler_StaticMethods_findActiveHangouts$self$$.result && ($configUrl_path$jscomp$30$$ = $JSCompiler_StaticMethods_findActiveHangouts$self$$.result.map(function($JSCompiler_StaticMethods_findActiveHangouts$self$$) {
      var $configUrl_path$jscomp$30$$ = $JSCompiler_StaticMethods_findActiveHangouts$self$$.hangout, $resp$jscomp$1$$ = $configUrl_path$jscomp$30$$.meeting_room_name, $results$jscomp$2$$;
      $configUrl_path$jscomp$30$$.meeting_domain ? $results$jscomp$2$$ = $configUrl_path$jscomp$30$$.meeting_domain : "BUSINESS" == $configUrl_path$jscomp$30$$.type && $configUrl_path$jscomp$30$$.company_title && ($results$jscomp$2$$ = $configUrl_path$jscomp$30$$.company_title.toLowerCase());
      var $hangoutResult_participantList$$ = $mr$cloud$Messages$generateHangoutTitleWithParticipants$$("", 0);
      if (($JSCompiler_StaticMethods_findActiveHangouts$self$$ = $JSCompiler_StaticMethods_findActiveHangouts$self$$.participant) && 0 < $JSCompiler_StaticMethods_findActiveHangouts$self$$.length) {
        var $organizer$jscomp$1$$ = $JSCompiler_StaticMethods_findActiveHangouts$self$$[0].display_name, $hangoutResult_participantList$$ = $JSCompiler_StaticMethods_findActiveHangouts$self$$.reduce(function($JSCompiler_StaticMethods_findActiveHangouts$self$$, $configUrl_path$jscomp$30$$) {
          $JSCompiler_StaticMethods_findActiveHangouts$self$$.add($configUrl_path$jscomp$30$$.user_id);
          "ORGANIZER" == $configUrl_path$jscomp$30$$.role && ($organizer$jscomp$1$$ = $configUrl_path$jscomp$30$$.display_name);
          return $JSCompiler_StaticMethods_findActiveHangouts$self$$;
        }, new Set), $hangoutResult_participantList$$ = $mr$cloud$Messages$generateHangoutTitleWithParticipants$$($goog$asserts$assert$$($organizer$jscomp$1$$), $hangoutResult_participantList$$.size);
      }
      return $resp$jscomp$1$$ && $results$jscomp$2$$ ? $mr$cloud$mesi$HangoutInfo$fromKeyAndService$$(!1, $resp$jscomp$1$$, $results$jscomp$2$$, $results$jscomp$2$$, $resp$jscomp$1$$, $hangoutResult_participantList$$, $configUrl_path$jscomp$30$$.hangout_id) : new $mr$cloud$mesi$HangoutInfo$$(!1, $goog$asserts$assert$$($configUrl_path$jscomp$30$$.hangout_id), $results$jscomp$2$$, $resp$jscomp$1$$, $hangoutResult_participantList$$, $configUrl_path$jscomp$30$$.hangout_id);
    }));
    return $configUrl_path$jscomp$30$$;
  });
}, $mr$cloud$mesi$MesiService$SEARCH_REQUEST_$$ = {request_header:{client_version:{client_id:"39"}}, search_sources:["0"]};
var $mr$cloud$messaging$gcd$OfferResponse$$ = function($state$jscomp$12$$, $opt_type$jscomp$17$$, $opt_results$$) {
  this.state = $state$jscomp$12$$;
  this.type = null != $opt_type$jscomp$17$$ ? $opt_type$jscomp$17$$ : null;
  this.$a$ = null != $opt_results$$ ? $opt_results$$ : null;
}, $mr$cloud$messaging$gcd$MessageSender$$ = function($gapiService$jscomp$3$$) {
  this.$a$ = $gapiService$jscomp$3$$;
}, $JSCompiler_StaticMethods_sendKnockingOffer$$ = function($JSCompiler_StaticMethods_sendKnockingOffer$self$$, $deviceId$jscomp$8$$, $message$jscomp$127$$, $opt_user$jscomp$3$$) {
  return $JSCompiler_StaticMethods_sendOffer_$$($JSCompiler_StaticMethods_sendKnockingOffer$self$$, $mr$cloud$messaging$gcd$KNOCKING_START_WEBRTC_SESSION_MESSAGE_$$, $deviceId$jscomp$8$$, $message$jscomp$127$$, $opt_user$jscomp$3$$, 35000).then(function($deviceId$jscomp$8$$) {
    return $JSCompiler_StaticMethods_handleKnockingResponse_$$($JSCompiler_StaticMethods_sendKnockingOffer$self$$, $deviceId$jscomp$8$$);
  });
}, $JSCompiler_StaticMethods_sendOffer$$ = function($JSCompiler_StaticMethods_sendOffer$self$$, $deviceId$jscomp$9$$, $message$jscomp$128$$, $opt_user$jscomp$4$$) {
  return $JSCompiler_StaticMethods_sendOffer_$$($JSCompiler_StaticMethods_sendOffer$self$$, $mr$cloud$messaging$gcd$START_WEBRTC_SESSION_MESSAGE_$$, $deviceId$jscomp$9$$, $message$jscomp$128$$, $opt_user$jscomp$4$$, 23000).then(function($JSCompiler_StaticMethods_sendOffer$self$$) {
    var $deviceId$jscomp$9$$ = $JSCompiler_StaticMethods_sendOffer$self$$.state;
    return "done" == $deviceId$jscomp$9$$ ? ($JSCompiler_StaticMethods_sendOffer$self$$ = $JSCompiler_StaticMethods_parseMessageResults_$$($JSCompiler_StaticMethods_sendOffer$self$$), new $mr$cloud$messaging$gcd$OfferResponse$$($deviceId$jscomp$9$$, $JSCompiler_StaticMethods_sendOffer$self$$.type, new $mr$cloud$messaging$gcd$CloudWebRtcSessionMessage$$($JSCompiler_StaticMethods_sendOffer$self$$.sessionDescription))) : new $mr$cloud$messaging$gcd$OfferResponse$$($deviceId$jscomp$9$$);
  });
}, $JSCompiler_StaticMethods_sendOffer_$$ = function($JSCompiler_StaticMethods_sendOffer_$self$$, $offerType$$, $deviceId$jscomp$11$$, $message$jscomp$129$$, $opt_user$jscomp$5$$, $opt_commandExpirationMs$$) {
  var $gcdOfferMessage_webrtcMessage$$ = $message$jscomp$129$$.presentationUrl ? new $mr$cloud$messaging$gcd$CloudWebRtcSessionMessage$$($goog$asserts$assert$$($message$jscomp$129$$.description), null, $message$jscomp$129$$.presentationUrl) : new $mr$cloud$messaging$gcd$CloudWebRtcSessionMessage$$($goog$asserts$assert$$($message$jscomp$129$$.description));
  $gcdOfferMessage_webrtcMessage$$ = {_webrtcMessage:JSON.stringify($gcdOfferMessage_webrtcMessage$$)};
  $message$jscomp$129$$.settings && ($gcdOfferMessage_webrtcMessage$$._settings = $JSCompiler_StaticMethods_toJsonString$$($message$jscomp$129$$.settings));
  $message$jscomp$129$$.mediaConstraints && ($gcdOfferMessage_webrtcMessage$$._optMediaConstraints = JSON.stringify($message$jscomp$129$$.mediaConstraints));
  $opt_user$jscomp$5$$ && ($gcdOfferMessage_webrtcMessage$$._user = JSON.stringify($opt_user$jscomp$5$$));
  return $JSCompiler_StaticMethods_mr_cloud_messaging_gcd_MessageSender_prototype$sendMessage_$$($JSCompiler_StaticMethods_sendOffer_$self$$, $deviceId$jscomp$11$$, $offerType$$, $gcdOfferMessage_webrtcMessage$$, $opt_commandExpirationMs$$);
}, $JSCompiler_StaticMethods_handleKnockingResponse_$$ = function($JSCompiler_StaticMethods_handleKnockingResponse_$self$$, $command$jscomp$4$$) {
  var $state$jscomp$14$$ = $command$jscomp$4$$.state;
  switch($state$jscomp$14$$) {
    case "done":
      return Promise.resolve($JSCompiler_StaticMethods_parseCompletedKnockingCommand_$$($command$jscomp$4$$));
    case "queued":
    case "inProgress":
      return $JSCompiler_StaticMethods_waitForCommandCompletion_$$($JSCompiler_StaticMethods_handleKnockingResponse_$self$$, $command$jscomp$4$$).then(function($command$jscomp$4$$) {
        return $JSCompiler_StaticMethods_handleKnockingResponse_$$($JSCompiler_StaticMethods_handleKnockingResponse_$self$$, $command$jscomp$4$$);
      });
    default:
      return Promise.resolve(new $mr$cloud$messaging$gcd$OfferResponse$$($state$jscomp$14$$));
  }
}, $JSCompiler_StaticMethods_waitForCommandCompletion_$$ = function($JSCompiler_StaticMethods_waitForCommandCompletion_$self$$, $command$jscomp$5$$) {
  return new Promise(function($resolve$jscomp$37$$) {
    var $intervalId$$ = setInterval(function() {
      var $commandId$jscomp$2$$ = $goog$asserts$assert$$($command$jscomp$5$$.id);
      $JSCompiler_StaticMethods_fetchCommand_$$($JSCompiler_StaticMethods_waitForCommandCompletion_$self$$, $commandId$jscomp$2$$).then(function($JSCompiler_StaticMethods_waitForCommandCompletion_$self$$) {
        "queued" != $JSCompiler_StaticMethods_waitForCommandCompletion_$self$$.state && "inProgress" != $JSCompiler_StaticMethods_waitForCommandCompletion_$self$$.state && (clearInterval($intervalId$$), $resolve$jscomp$37$$($JSCompiler_StaticMethods_waitForCommandCompletion_$self$$));
      });
    }, 2000);
  });
}, $JSCompiler_StaticMethods_parseCompletedKnockingCommand_$$ = function($command$jscomp$6_results$jscomp$4$$) {
  $command$jscomp$6_results$jscomp$4$$ = $JSCompiler_StaticMethods_parseMessageResults_$$($command$jscomp$6_results$jscomp$4$$);
  return "__cloud_webrtc_session_message__" == $command$jscomp$6_results$jscomp$4$$.type ? new $mr$cloud$messaging$gcd$OfferResponse$$("done", "knocking_cloud_webrtc_session_message", new $mr$cloud$messaging$gcd$CloudWebRtcSessionMessage$$($command$jscomp$6_results$jscomp$4$$.sessionDescription)) : new $mr$cloud$messaging$gcd$OfferResponse$$("done", $command$jscomp$6_results$jscomp$4$$.type);
}, $JSCompiler_StaticMethods_mr_cloud_messaging_gcd_MessageSender_prototype$sendMessage_$$ = function($JSCompiler_StaticMethods_mr_cloud_messaging_gcd_MessageSender_prototype$sendMessage_$self$$, $deviceId$jscomp$12_request$jscomp$43$$, $messageType$jscomp$1_queryData$jscomp$12$$, $params$jscomp$21$$, $opt_commandExpirationMs$jscomp$1_path$jscomp$31$$) {
  $deviceId$jscomp$12_request$jscomp$43$$ = {deviceId:$deviceId$jscomp$12_request$jscomp$43$$, name:"_cloudCast." + $messageType$jscomp$1_queryData$jscomp$12$$.name, parameters:$params$jscomp$21$$, expirationTimeoutMs:$opt_commandExpirationMs$jscomp$1_path$jscomp$31$$ || 10000};
  $messageType$jscomp$1_queryData$jscomp$12$$ = {};
  $opt_commandExpirationMs$jscomp$1_path$jscomp$31$$ && ($messageType$jscomp$1_queryData$jscomp$12$$.responseAwaitMs = Math.min($opt_commandExpirationMs$jscomp$1_path$jscomp$31$$ + 5000, 25000));
  $opt_commandExpirationMs$jscomp$1_path$jscomp$31$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$GCD_CONFIG$$.$a$, ["commands"], $messageType$jscomp$1_queryData$jscomp$12$$);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_mr_cloud_messaging_gcd_MessageSender_prototype$sendMessage_$self$$.$a$, $opt_commandExpirationMs$jscomp$1_path$jscomp$31$$, "POST", $deviceId$jscomp$12_request$jscomp$43$$);
}, $JSCompiler_StaticMethods_parseMessageResults_$$ = function($message$jscomp$130$$) {
  return $message$jscomp$130$$.results && $message$jscomp$130$$.results.results ? JSON.parse($message$jscomp$130$$.results.results) : null;
}, $JSCompiler_StaticMethods_fetchCommand_$$ = function($JSCompiler_StaticMethods_fetchCommand_$self$$, $commandId$jscomp$3_path$jscomp$32$$) {
  $commandId$jscomp$3_path$jscomp$32$$ = $JSCompiler_StaticMethods_formUri$$($mr$cloud$GCD_CONFIG$$.$a$, ["commands", $commandId$jscomp$3_path$jscomp$32$$]);
  return $JSCompiler_StaticMethods_callWithAuth$$($JSCompiler_StaticMethods_fetchCommand_$self$$.$a$, $commandId$jscomp$3_path$jscomp$32$$, "GET");
};
$mr$cloud$messaging$gcd$MessageSender$$.$inject = ["gapiService"];
var $mr$cloud$messaging$CloudMessageHandler$$ = function($gcdMessageSender$$, $identityService$jscomp$2$$, $turnCredentialService$$, $provider$jscomp$18$$) {
  this.$b$ = $gcdMessageSender$$;
  this.$f$ = $identityService$jscomp$2$$;
  this.$g$ = $turnCredentialService$$;
  this.$a$ = $provider$jscomp$18$$;
}, $JSCompiler_StaticMethods_handleOffer$$ = function($JSCompiler_StaticMethods_handleOffer$self$$, $message$jscomp$131$$, $route$jscomp$53$$, $cloudSink$jscomp$7$$) {
  return $JSCompiler_StaticMethods_sendCloudOffer_$$($JSCompiler_StaticMethods_handleOffer$self$$, $message$jscomp$131$$, $cloudSink$jscomp$7$$).then(function($message$jscomp$131$$) {
    a: {
      var $cloudSink$jscomp$7$$ = $route$jscomp$53$$.id;
      if ("done" != $message$jscomp$131$$.state) {
        $cloudSink$jscomp$7$$ = Promise.reject(Error("Offer not executed by receiver. State: " + $message$jscomp$131$$.state));
      } else {
        switch($message$jscomp$131$$.type) {
          case "__cloud_webrtc_session_message__":
            $message$jscomp$131$$ = new $mr$webrtc$Message$$("ANSWER", $message$jscomp$131$$.$a$.sessionDescription);
            $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleOffer$self$$.$a$, $message$jscomp$131$$, $cloudSink$jscomp$7$$);
            break;
          case "knocking_cloud_webrtc_session_message":
            $mr$cloud$CloudAnalytics$recordKnockResult$$(0);
            $message$jscomp$131$$ = new $mr$webrtc$Message$$("KNOCK_ANSWER", $message$jscomp$131$$.$a$.sessionDescription);
            $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleOffer$self$$.$a$, $message$jscomp$131$$, $cloudSink$jscomp$7$$);
            break;
          case "knock_denied":
            $mr$cloud$CloudAnalytics$recordKnockResult$$(1);
            $JSCompiler_StaticMethods_handleKnockFailed_$$($JSCompiler_StaticMethods_handleOffer$self$$, $mr$cloud$Messages$MSG_KNOCK_DENIED$$, $cloudSink$jscomp$7$$);
            break;
          case "knock_timeout":
            $mr$cloud$CloudAnalytics$recordKnockResult$$(2);
            $JSCompiler_StaticMethods_handleKnockFailed_$$($JSCompiler_StaticMethods_handleOffer$self$$, $mr$cloud$Messages$MSG_KNOCK_TIMEOUT$$, $cloudSink$jscomp$7$$);
            break;
          default:
            $cloudSink$jscomp$7$$ = Promise.reject(Error("Invalid message type: " + $message$jscomp$131$$.type));
            break a;
        }
        $cloudSink$jscomp$7$$ = Promise.resolve();
      }
    }
    return $cloudSink$jscomp$7$$;
  });
}, $JSCompiler_StaticMethods_handleGetTurnCredentials$$ = function($JSCompiler_StaticMethods_handleGetTurnCredentials$self$$, $route$jscomp$54$$) {
  return $JSCompiler_StaticMethods_getCredentials$$($JSCompiler_StaticMethods_handleGetTurnCredentials$self$$.$g$).then(function($creds$$) {
    $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleGetTurnCredentials$self$$.$a$, new $mr$webrtc$Message$$("TURN_CREDENTIALS", {credentials:$creds$$}), $route$jscomp$54$$.id);
  });
}, $JSCompiler_StaticMethods_sendCloudOffer_$$ = function($JSCompiler_StaticMethods_sendCloudOffer_$self$$, $message$jscomp$132_messageData$$, $cloudSink$jscomp$8$$) {
  var $deviceId$jscomp$13$$ = $cloudSink$jscomp$8$$.deviceId, $email$jscomp$1_user$$ = $JSCompiler_StaticMethods_sendCloudOffer_$self$$.$f$.$b$, $email$jscomp$1_user$$ = $email$jscomp$1_user$$ ? new $mr$cloud$messaging$gcd$MessageUser$$($email$jscomp$1_user$$) : void 0;
  $message$jscomp$132_messageData$$ = $message$jscomp$132_messageData$$.data;
  switch($cloudSink$jscomp$8$$.$aclLevel$) {
    case "owner":
      $mr$cloud$CloudAnalytics$recordUserRole$$(0);
      break;
    case "manager":
      $mr$cloud$CloudAnalytics$recordUserRole$$(1);
      break;
    case "user":
      $mr$cloud$CloudAnalytics$recordUserRole$$(2);
      break;
    case "viewer":
      $mr$cloud$CloudAnalytics$recordUserRole$$(3);
  }
  return "viewer" == $cloudSink$jscomp$8$$.$aclLevel$ ? $JSCompiler_StaticMethods_sendKnockingOffer$$($JSCompiler_StaticMethods_sendCloudOffer_$self$$.$b$, $deviceId$jscomp$13$$, $message$jscomp$132_messageData$$, $email$jscomp$1_user$$) : $JSCompiler_StaticMethods_sendOffer$$($JSCompiler_StaticMethods_sendCloudOffer_$self$$.$b$, $deviceId$jscomp$13$$, $message$jscomp$132_messageData$$, $email$jscomp$1_user$$);
}, $JSCompiler_StaticMethods_handleKnockFailed_$$ = function($JSCompiler_StaticMethods_handleKnockFailed_$self$$, $issue$jscomp$1_issueMessage$$, $routeId$jscomp$80$$) {
  $issue$jscomp$1_issueMessage$$ = new $mr$Issue$$($issue$jscomp$1_issueMessage$$, "warning");
  $issue$jscomp$1_issueMessage$$.isBlocking = !0;
  $JSCompiler_StaticMethods_handleKnockFailed_$self$$.$a$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$getIssueSender$().send($issue$jscomp$1_issueMessage$$);
  $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleKnockFailed_$self$$.$a$, new $mr$webrtc$Message$$("STOP"), $routeId$jscomp$80$$);
};
var $mr$cloud$messaging$HangoutMessageHandler$$ = function($identityService$jscomp$3$$, $provider$jscomp$19$$) {
  this.$b$ = $identityService$jscomp$3$$;
  this.$a$ = $provider$jscomp$19$$;
}, $JSCompiler_StaticMethods_handleMesiMessage$$ = function($JSCompiler_StaticMethods_handleMesiMessage$self$$, $message$jscomp$133$$, $route$jscomp$56$$, $cloudSink$jscomp$9$$) {
  switch($message$jscomp$133$$.type) {
    case "REFRESH_AUTH":
      var $isMeeting$jscomp$2$$ = $cloudSink$jscomp$9$$.$isMeeting$, $hangoutId$jscomp$1$$ = $cloudSink$jscomp$9$$.deviceId, $resolvedId$jscomp$1$$ = $cloudSink$jscomp$9$$.$resolvedId$;
      return $JSCompiler_StaticMethods_refreshGapiToken$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$b$).then(function() {
        $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$a$, new $mr$webrtc$Message$$("AUTH_READY", {$isMeeting$:$isMeeting$jscomp$2$$, $hangoutId$:$hangoutId$jscomp$1$$, $resolvedId$:$resolvedId$jscomp$1$$}), $route$jscomp$56$$.id);
      });
    case "LOCAL_PRESENT":
      return $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$a$, new $mr$webrtc$Message$$("AUTH_READY", {$isMeeting$:$cloudSink$jscomp$9$$.$isMeeting$, $hangoutId$:$cloudSink$jscomp$9$$.deviceId, $resolvedId$:$cloudSink$jscomp$9$$.$resolvedId$, $conferenceMode$:!$message$jscomp$133$$.data.local}), $route$jscomp$56$$.id), Promise.resolve();
    case "STATUS_REQUEST":
      return $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$a$, $message$jscomp$133$$, $route$jscomp$56$$.id), Promise.resolve();
    case "STATUS_RESPONSE":
      return $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$a$, $message$jscomp$133$$, $route$jscomp$56$$.id, !0), $message$jscomp$133$$.data.routeDescription || $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$a$, $message$jscomp$133$$, $route$jscomp$56$$.id), Promise.resolve();
    case "HANGOUT_INACTIVE":
      return $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$a$, $route$jscomp$56$$, 4, new $mr$Issue$$($mr$cloud$Messages$MSG_MR_HANGOUT_INACTIVE$$, "warning"));
    case "HANGOUT_INVALID":
      return $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_handleMesiMessage$self$$.$a$, $route$jscomp$56$$, 3, new $mr$Issue$$($mr$cloud$Messages$MSG_MR_HANGOUT_INVALID$$, "warning"));
    default:
      return Promise.reject(Error("Unknown type: " + $message$jscomp$133$$.type));
  }
};
var $mr$cloud$messaging$MessageProcessor$$ = function($cloudMessageHandler$$, $hangoutMessageHandler$$, $provider$jscomp$20$$) {
  this.$b$ = $cloudMessageHandler$$;
  this.$f$ = $hangoutMessageHandler$$;
  this.$a$ = $provider$jscomp$20$$;
}, $JSCompiler_StaticMethods_processMessage$$ = function($JSCompiler_StaticMethods_processMessage$self$$, $channelType$jscomp$1$$, $message$jscomp$134$$, $opt_route$jscomp$2$$, $opt_cloudSink$$) {
  return new Promise(function($resolve$jscomp$38$$) {
    switch($channelType$jscomp$1$$) {
      case "cloud":
      case "mesi":
        break;
      default:
        throw Error("Unrecognized channel type");
    }
    if (!$message$jscomp$134$$.type) {
      throw Error("Message has no type");
    }
    switch($message$jscomp$134$$.type) {
      case "STOP":
        $resolve$jscomp$38$$($JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_processMessage$self$$.$a$, $goog$asserts$assert$$($opt_route$jscomp$2$$), 1, null));
        return;
      case "SESSION_START_SUCCESS":
        $mr$cloud$CloudAnalytics$recordSessionStarted$$(0);
        break;
      case "SESSION_END":
        break;
      case "SESSION_FAILURE":
        $mr$cloud$CloudAnalytics$recordSessionStarted$$(1);
        $resolve$jscomp$38$$($JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_processMessage$self$$.$a$, $goog$asserts$assert$$($opt_route$jscomp$2$$), 2, new $mr$Issue$$($mr$cloud$Messages$MSG_MR_CONNECT_FAILED$$, "warning")));
        return;
      case "__webrtc_stats__":
        break;
      case "PRESENTATION_CONNECTION_MESSAGE":
        $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_processMessage$self$$.$a$, $message$jscomp$134$$.data, $opt_route$jscomp$2$$.id, !0);
        break;
      case "OFFER":
        $goog$asserts$assert$$("cloud" == $channelType$jscomp$1$$);
        $resolve$jscomp$38$$($JSCompiler_StaticMethods_handleOffer$$($JSCompiler_StaticMethods_processMessage$self$$.$b$, $message$jscomp$134$$, $goog$asserts$assert$$($opt_route$jscomp$2$$), $goog$asserts$assert$$($opt_cloudSink$$)));
        return;
      case "GET_TURN_CREDENTIALS":
        $goog$asserts$assert$$("cloud" == $channelType$jscomp$1$$);
        $resolve$jscomp$38$$($JSCompiler_StaticMethods_handleGetTurnCredentials$$($JSCompiler_StaticMethods_processMessage$self$$.$b$, $goog$asserts$assert$$($opt_route$jscomp$2$$)));
        return;
      case "REFRESH_AUTH":
      case "LOCAL_PRESENT":
      case "MUTE":
      case "STATUS_REQUEST":
      case "STATUS_RESPONSE":
      case "HANGOUT_INACTIVE":
      case "HANGOUT_INVALID":
        $goog$asserts$assert$$("mesi" == $channelType$jscomp$1$$);
        $resolve$jscomp$38$$($JSCompiler_StaticMethods_handleMesiMessage$$($JSCompiler_StaticMethods_processMessage$self$$.$f$, $message$jscomp$134$$, $goog$asserts$assert$$($opt_route$jscomp$2$$), $goog$asserts$assert$$($opt_cloudSink$$)));
        return;
      case "new_session":
        $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_processMessage$self$$.$a$, $message$jscomp$134$$, $goog$asserts$assert$$($opt_route$jscomp$2$$).id, !0);
        break;
      case "remove_session":
        $JSCompiler_StaticMethods_sendMessageResponse$$($JSCompiler_StaticMethods_processMessage$self$$.$a$, $message$jscomp$134$$, $goog$asserts$assert$$($opt_route$jscomp$2$$).id, !0);
        $JSCompiler_StaticMethods_processMessage$self$$.$a$.terminateRoute($goog$asserts$assert$$($opt_route$jscomp$2$$).id);
        break;
      default:
        throw Error("Unknown type: " + $message$jscomp$134$$.type);
    }
    $resolve$jscomp$38$$();
  });
};
var $mr$cloud$settings$SettingsService$$ = function() {
  var $$jscomp$this$jscomp$130$$ = this;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.settings.SettingsService");
  this.$a$ = null;
  chrome.settingsPrivate.onPrefsChanged.addListener(function($$jscomp$iter$17_prefs$$) {
    $mr$EventAnalytics$recordEvent$$(13);
    if ($$jscomp$this$jscomp$130$$.$a$) {
      $$jscomp$iter$17_prefs$$ = $$jscomp$makeIterator$$($$jscomp$iter$17_prefs$$);
      for (var $$jscomp$key$pref_pref$$ = $$jscomp$iter$17_prefs$$.next(); !$$jscomp$key$pref_pref$$.done; $$jscomp$key$pref_pref$$ = $$jscomp$iter$17_prefs$$.next()) {
        if ($$jscomp$key$pref_pref$$ = $$jscomp$key$pref_pref$$.value, "media_router.cloudservices.enabled" == $$jscomp$key$pref_pref$$.key) {
          $$jscomp$this$jscomp$130$$.$a$.call(null, $$jscomp$key$pref_pref$$.value);
          break;
        }
      }
    }
  });
}, $JSCompiler_StaticMethods_setOnCloudSettingChangedCallback$$ = function($JSCompiler_StaticMethods_setOnCloudSettingChangedCallback$self$$, $callback$jscomp$428$$) {
  $JSCompiler_StaticMethods_setOnCloudSettingChangedCallback$self$$.$a$ = $callback$jscomp$428$$;
}, $JSCompiler_StaticMethods_turnOnCloudSetting$$ = function($JSCompiler_StaticMethods_turnOnCloudSetting$self$$) {
  var $logger$jscomp$13$$ = $JSCompiler_StaticMethods_turnOnCloudSetting$self$$.$logger_$;
  chrome.storage.sync.set({"mr.cloud.cloudEnabled":!0}, function() {
    chrome.runtime.lastError && $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($logger$jscomp$13$$, "Error setting cloud setting: " + JSON.stringify(chrome.runtime.lastError));
  });
}, $JSCompiler_StaticMethods_getCloudOnSetting$$ = function($JSCompiler_StaticMethods_getCloudOnSetting$self$$) {
  return $JSCompiler_StaticMethods_getCloudOnSetting_$$().catch(function() {
    return $JSCompiler_StaticMethods_getCloudOnSetting_$$().catch(function($error$jscomp$51$$) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_getCloudOnSetting$self$$.$logger_$, "Error retrieving cloud on setting.", $error$jscomp$51$$);
      return !1;
    });
  });
}, $JSCompiler_StaticMethods_getCloudOnSetting_$$ = function() {
  return $JSCompiler_StaticMethods_getItem_$$("mr.cloud.cloudEnabled").then(function($items$jscomp$2$$) {
    return !!$items$jscomp$2$$["mr.cloud.cloudEnabled"];
  });
}, $JSCompiler_StaticMethods_getItem_$$ = function($key$jscomp$139$$) {
  return new Promise(function($resolve$jscomp$39$$, $reject$jscomp$39$$) {
    chrome.storage.sync.get($key$jscomp$139$$, function($key$jscomp$139$$) {
      chrome.runtime.lastError ? $reject$jscomp$39$$(chrome.runtime.lastError) : $resolve$jscomp$39$$($key$jscomp$139$$);
    });
  });
}, $JSCompiler_StaticMethods_getCloudEnabledSetting$$ = function($JSCompiler_StaticMethods_getCloudEnabledSetting$self$$) {
  return $JSCompiler_StaticMethods_getCloudEnabledSetting_$$().catch(function() {
    return $JSCompiler_StaticMethods_getCloudEnabledSetting_$$().catch(function($error$jscomp$53$$) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_getCloudEnabledSetting$self$$.$logger_$, "Error retrieving cloud enabled setting.", $error$jscomp$53$$);
      return !1;
    });
  });
}, $JSCompiler_StaticMethods_getCloudEnabledSetting_$$ = function() {
  return $JSCompiler_StaticMethods_getPref_$$().then(function($pref$jscomp$1$$) {
    $goog$asserts$assert$$("media_router.cloudservices.enabled" == $pref$jscomp$1$$.key);
    $goog$asserts$assert$$($pref$jscomp$1$$.type == chrome.settingsPrivate.PrefType.BOOLEAN);
    return !!$pref$jscomp$1$$.value;
  });
}, $JSCompiler_StaticMethods_getPref_$$ = function() {
  return new Promise(function($resolve$jscomp$40$$, $reject$jscomp$40$$) {
    chrome.settingsPrivate.getPref("media_router.cloudservices.enabled", function($pref$jscomp$2$$) {
      chrome.runtime.lastError ? $reject$jscomp$40$$(chrome.runtime.lastError) : $resolve$jscomp$40$$($pref$jscomp$2$$);
    });
  });
}, $JSCompiler_StaticMethods_setNotifiedHangoutPrivacySetting$$ = function($JSCompiler_StaticMethods_setNotifiedHangoutPrivacySetting$self$$) {
  var $logger$jscomp$14$$ = $JSCompiler_StaticMethods_setNotifiedHangoutPrivacySetting$self$$.$logger_$;
  chrome.storage.sync.set({"mr.cloud.notifiedHangouts":!0}, function() {
    chrome.runtime.lastError && $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($logger$jscomp$14$$, "Error setting notified Hangout privacy.", chrome.runtime.lastError);
  });
}, $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting$$ = function($JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting$self$$) {
  return $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting_$$().catch(function() {
    return $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting_$$().catch(function($error$jscomp$55$$) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting$self$$.$logger_$, "Error retrieving hangouts notified setting.", $error$jscomp$55$$);
      return !1;
    });
  });
}, $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting_$$ = function() {
  return $JSCompiler_StaticMethods_getItem_$$("mr.cloud.notifiedHangouts").then(function($items$jscomp$4$$) {
    return !!$items$jscomp$4$$["mr.cloud.notifiedHangouts"];
  });
};
var $jspb$arith$UInt64$$ = function($lo$$, $hi$$) {
  this.$a$ = $lo$$;
  this.$b$ = $hi$$;
}, $JSCompiler_StaticMethods_rightShift$$ = function($JSCompiler_StaticMethods_rightShift$self$$) {
  return new $jspb$arith$UInt64$$(($JSCompiler_StaticMethods_rightShift$self$$.$a$ >>> 1 | ($JSCompiler_StaticMethods_rightShift$self$$.$b$ & 1) << 31) >>> 0, $JSCompiler_StaticMethods_rightShift$self$$.$b$ >>> 1 >>> 0);
}, $JSCompiler_StaticMethods_leftShift$$ = function($JSCompiler_StaticMethods_leftShift$self$$) {
  return new $jspb$arith$UInt64$$($JSCompiler_StaticMethods_leftShift$self$$.$a$ << 1 >>> 0, ($JSCompiler_StaticMethods_leftShift$self$$.$b$ << 1 | $JSCompiler_StaticMethods_leftShift$self$$.$a$ >>> 31) >>> 0);
};
$jspb$arith$UInt64$$.prototype.add = function($other$jscomp$7$$) {
  return new $jspb$arith$UInt64$$((this.$a$ + $other$jscomp$7$$.$a$ & 4294967295) >>> 0 >>> 0, ((this.$b$ + $other$jscomp$7$$.$b$ & 4294967295) >>> 0) + (4294967296 <= this.$a$ + $other$jscomp$7$$.$a$ ? 1 : 0) >>> 0);
};
var $JSCompiler_StaticMethods_jspb_arith_UInt64_prototype$sub$$ = function($JSCompiler_StaticMethods_jspb_arith_UInt64_prototype$sub$self$$, $other$jscomp$8$$) {
  return new $jspb$arith$UInt64$$(($JSCompiler_StaticMethods_jspb_arith_UInt64_prototype$sub$self$$.$a$ - $other$jscomp$8$$.$a$ & 4294967295) >>> 0 >>> 0, (($JSCompiler_StaticMethods_jspb_arith_UInt64_prototype$sub$self$$.$b$ - $other$jscomp$8$$.$b$ & 4294967295) >>> 0) - (0 > $JSCompiler_StaticMethods_jspb_arith_UInt64_prototype$sub$self$$.$a$ - $other$jscomp$8$$.$a$ ? 1 : 0) >>> 0);
}, $jspb$arith$UInt64$mul32x32$$ = function($a$jscomp$28_productLow$$) {
  var $aLow_productHigh$$ = $a$jscomp$28_productLow$$ & 65535, $aHigh$$ = $a$jscomp$28_productLow$$ >>> 16;
  $a$jscomp$28_productLow$$ = 10 * $aLow_productHigh$$ + 65536 * (0 * $aLow_productHigh$$ & 65535) + 65536 * (10 * $aHigh$$ & 65535);
  for ($aLow_productHigh$$ = 0 * $aHigh$$ + (0 * $aLow_productHigh$$ >>> 16) + (10 * $aHigh$$ >>> 16); 4294967296 <= $a$jscomp$28_productLow$$;) {
    $a$jscomp$28_productLow$$ -= 4294967296, $aLow_productHigh$$ += 1;
  }
  return new $jspb$arith$UInt64$$($a$jscomp$28_productLow$$ >>> 0, $aLow_productHigh$$ >>> 0);
};
$jspb$arith$UInt64$$.prototype.toString = function() {
  for (var $result$jscomp$59$$ = "", $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$ = this; 0 != $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$.$a$ || 0 != $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$.$b$;) {
    var $divResult_quotient$jscomp$inline_1443$$ = new $jspb$arith$UInt64$$(0, 0);
    for (var $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$ = new $jspb$arith$UInt64$$($num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$.$a$, $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$.$b$), $divisor$jscomp$inline_1445$$ = new $jspb$arith$UInt64$$(10, 0), $unit$jscomp$inline_1446$$ = new $jspb$arith$UInt64$$(1, 0); !($divisor$jscomp$inline_1445$$.$b$ & 2147483648);) {
      $divisor$jscomp$inline_1445$$ = $JSCompiler_StaticMethods_leftShift$$($divisor$jscomp$inline_1445$$), $unit$jscomp$inline_1446$$ = $JSCompiler_StaticMethods_leftShift$$($unit$jscomp$inline_1446$$);
    }
    for (; 0 != $unit$jscomp$inline_1446$$.$a$ || 0 != $unit$jscomp$inline_1446$$.$b$;) {
      0 >= ($divisor$jscomp$inline_1445$$.$b$ < $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$.$b$ || $divisor$jscomp$inline_1445$$.$b$ == $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$.$b$ && $divisor$jscomp$inline_1445$$.$a$ < $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$.$a$ ? -1 : $divisor$jscomp$inline_1445$$.$b$ == $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$.$b$ && $divisor$jscomp$inline_1445$$.$a$ == $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$.$a$ ? 
      0 : 1) && ($divResult_quotient$jscomp$inline_1443$$ = $divResult_quotient$jscomp$inline_1443$$.add($unit$jscomp$inline_1446$$), $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$ = $JSCompiler_StaticMethods_jspb_arith_UInt64_prototype$sub$$($num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$, $divisor$jscomp$inline_1445$$)), $divisor$jscomp$inline_1445$$ = $JSCompiler_StaticMethods_rightShift$$($divisor$jscomp$inline_1445$$), $unit$jscomp$inline_1446$$ = $JSCompiler_StaticMethods_rightShift$$($unit$jscomp$inline_1446$$);
    }
    $divResult_quotient$jscomp$inline_1443$$ = [$divResult_quotient$jscomp$inline_1443$$, $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$];
    $num$jscomp$15_quotient$jscomp$1_remainder$jscomp$inline_1444$$ = $divResult_quotient$jscomp$inline_1443$$[0];
    $result$jscomp$59$$ = $divResult_quotient$jscomp$inline_1443$$[1].$a$ + $result$jscomp$59$$;
  }
  "" == $result$jscomp$59$$ && ($result$jscomp$59$$ = "0");
  return $result$jscomp$59$$;
};
var $jspb$arith$UInt64$fromString$$ = function($s$jscomp$27$$) {
  for (var $hi$jscomp$inline_1451_result$jscomp$60$$ = new $jspb$arith$UInt64$$(0, 0), $digit64$$ = new $jspb$arith$UInt64$$(0, 0), $i$jscomp$190$$ = 0; $i$jscomp$190$$ < $s$jscomp$27$$.length; $i$jscomp$190$$++) {
    if ("0" > $s$jscomp$27$$[$i$jscomp$190$$] || "9" < $s$jscomp$27$$[$i$jscomp$190$$]) {
      return null;
    }
    $digit64$$.$a$ = parseInt($s$jscomp$27$$[$i$jscomp$190$$], 10);
    var $lo$jscomp$inline_1450$$ = $jspb$arith$UInt64$mul32x32$$($hi$jscomp$inline_1451_result$jscomp$60$$.$a$), $hi$jscomp$inline_1451_result$jscomp$60$$ = $jspb$arith$UInt64$mul32x32$$($hi$jscomp$inline_1451_result$jscomp$60$$.$b$);
    $hi$jscomp$inline_1451_result$jscomp$60$$.$b$ = $hi$jscomp$inline_1451_result$jscomp$60$$.$a$;
    $hi$jscomp$inline_1451_result$jscomp$60$$.$a$ = 0;
    $hi$jscomp$inline_1451_result$jscomp$60$$ = $lo$jscomp$inline_1450$$.add($hi$jscomp$inline_1451_result$jscomp$60$$).add($digit64$$);
  }
  return $hi$jscomp$inline_1451_result$jscomp$60$$;
};
$jspb$arith$UInt64$$.prototype.clone = function() {
  return new $jspb$arith$UInt64$$(this.$a$, this.$b$);
};
var $jspb$arith$Int64$$ = function($lo$jscomp$6$$, $hi$jscomp$6$$) {
  this.$a$ = $lo$jscomp$6$$;
  this.$b$ = $hi$jscomp$6$$;
};
$jspb$arith$Int64$$.prototype.add = function($other$jscomp$9$$) {
  return new $jspb$arith$Int64$$((this.$a$ + $other$jscomp$9$$.$a$ & 4294967295) >>> 0 >>> 0, ((this.$b$ + $other$jscomp$9$$.$b$ & 4294967295) >>> 0) + (4294967296 <= this.$a$ + $other$jscomp$9$$.$a$ ? 1 : 0) >>> 0);
};
$jspb$arith$Int64$$.prototype.clone = function() {
  return new $jspb$arith$Int64$$(this.$a$, this.$b$);
};
$jspb$arith$Int64$$.prototype.toString = function() {
  var $sign$jscomp$1$$ = 0 != (this.$b$ & 2147483648), $num$jscomp$16$$ = new $jspb$arith$UInt64$$(this.$a$, this.$b$);
  $sign$jscomp$1$$ && ($num$jscomp$16$$ = $JSCompiler_StaticMethods_jspb_arith_UInt64_prototype$sub$$(new $jspb$arith$UInt64$$(0, 0), $num$jscomp$16$$));
  return ($sign$jscomp$1$$ ? "-" : "") + $num$jscomp$16$$.toString();
};
var $jspb$utils$split64Low$$ = 0, $jspb$utils$split64High$$ = 0, $jspb$utils$splitInt64$$ = function($highBits$jscomp$1_value$jscomp$194$$) {
  var $sign$jscomp$2$$ = 0 > $highBits$jscomp$1_value$jscomp$194$$;
  $highBits$jscomp$1_value$jscomp$194$$ = Math.abs($highBits$jscomp$1_value$jscomp$194$$);
  var $lowBits$jscomp$1$$ = $highBits$jscomp$1_value$jscomp$194$$ >>> 0;
  $highBits$jscomp$1_value$jscomp$194$$ = Math.floor(($highBits$jscomp$1_value$jscomp$194$$ - $lowBits$jscomp$1$$) / 4294967296);
  $highBits$jscomp$1_value$jscomp$194$$ >>>= 0;
  $sign$jscomp$2$$ && ($highBits$jscomp$1_value$jscomp$194$$ = ~$highBits$jscomp$1_value$jscomp$194$$ >>> 0, $lowBits$jscomp$1$$ = (~$lowBits$jscomp$1$$ >>> 0) + 1, 4294967295 < $lowBits$jscomp$1$$ && ($lowBits$jscomp$1$$ = 0, $highBits$jscomp$1_value$jscomp$194$$++, 4294967295 < $highBits$jscomp$1_value$jscomp$194$$ && ($highBits$jscomp$1_value$jscomp$194$$ = 0)));
  $jspb$utils$split64Low$$ = $lowBits$jscomp$1$$;
  $jspb$utils$split64High$$ = $highBits$jscomp$1_value$jscomp$194$$;
}, $jspb$utils$byteSourceToUint8Array$$ = function($data$jscomp$63$$) {
  if ($data$jscomp$63$$.constructor === Uint8Array) {
    return $data$jscomp$63$$;
  }
  if ($data$jscomp$63$$.constructor === ArrayBuffer) {
    return new Uint8Array($data$jscomp$63$$);
  }
  if ($data$jscomp$63$$.constructor === Array) {
    return new Uint8Array($data$jscomp$63$$);
  }
  if ($data$jscomp$63$$.constructor === String) {
    return $goog$crypt$base64$decodeStringToUint8Array$$($data$jscomp$63$$);
  }
  $goog$asserts$fail$$("Type not convertible to Uint8Array.");
  return new Uint8Array(0);
};
var $jspb$BinaryDecoder$$ = function($opt_bytes$$, $opt_start$jscomp$2$$, $opt_length$jscomp$11$$) {
  this.$f$ = null;
  this.$l$ = this.$o$ = this.$a$ = this.$b$ = this.$h$ = 0;
  this.$j$ = !1;
  $opt_bytes$$ && $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$$(this, $opt_bytes$$, $opt_start$jscomp$2$$, $opt_length$jscomp$11$$);
}, $jspb$BinaryDecoder$instanceCache_$$ = [], $jspb$BinaryDecoder$alloc$$ = function($opt_bytes$jscomp$1$$, $opt_start$jscomp$3$$, $opt_length$jscomp$12$$) {
  if ($jspb$BinaryDecoder$instanceCache_$$.length) {
    var $newDecoder$$ = $jspb$BinaryDecoder$instanceCache_$$.pop();
    $opt_bytes$jscomp$1$$ && $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$$($newDecoder$$, $opt_bytes$jscomp$1$$, $opt_start$jscomp$3$$, $opt_length$jscomp$12$$);
    return $newDecoder$$;
  }
  return new $jspb$BinaryDecoder$$($opt_bytes$jscomp$1$$, $opt_start$jscomp$3$$, $opt_length$jscomp$12$$);
};
$jspb$BinaryDecoder$$.prototype.clone = function() {
  return $jspb$BinaryDecoder$alloc$$(this.$f$, this.$h$, this.$b$ - this.$h$);
};
$jspb$BinaryDecoder$$.prototype.clear = function() {
  this.$f$ = null;
  this.$a$ = this.$b$ = this.$h$ = 0;
  this.$j$ = !1;
};
var $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$$ = function($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$, $data$jscomp$64$$, $opt_start$jscomp$4$$, $opt_length$jscomp$13$$) {
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$f$ = $jspb$utils$byteSourceToUint8Array$$($data$jscomp$64$$);
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$h$ = $goog$isDef$$($opt_start$jscomp$4$$) ? $opt_start$jscomp$4$$ : 0;
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$b$ = $goog$isDef$$($opt_length$jscomp$13$$) ? $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$h$ + $opt_length$jscomp$13$$ : $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$f$.length;
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$a$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$setBlock$self$$.$h$;
};
$jspb$BinaryDecoder$$.prototype.reset = function() {
  this.$a$ = this.$h$;
};
var $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$$ = function($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$self$$, $count$jscomp$26$$) {
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$self$$.$a$ += $count$jscomp$26$$;
  $goog$asserts$assert$$($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$self$$.$a$ <= $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$self$$.$b$);
};
$jspb$BinaryDecoder$$.prototype.$g$ = function() {
  var $bytes$jscomp$4$$ = this.$f$;
  var $temp$jscomp$7$$ = $bytes$jscomp$4$$[this.$a$ + 0];
  var $x$jscomp$90$$ = $temp$jscomp$7$$ & 127;
  if (128 > $temp$jscomp$7$$) {
    return this.$a$ += 1, $goog$asserts$assert$$(this.$a$ <= this.$b$), $x$jscomp$90$$;
  }
  $temp$jscomp$7$$ = $bytes$jscomp$4$$[this.$a$ + 1];
  $x$jscomp$90$$ |= ($temp$jscomp$7$$ & 127) << 7;
  if (128 > $temp$jscomp$7$$) {
    return this.$a$ += 2, $goog$asserts$assert$$(this.$a$ <= this.$b$), $x$jscomp$90$$;
  }
  $temp$jscomp$7$$ = $bytes$jscomp$4$$[this.$a$ + 2];
  $x$jscomp$90$$ |= ($temp$jscomp$7$$ & 127) << 14;
  if (128 > $temp$jscomp$7$$) {
    return this.$a$ += 3, $goog$asserts$assert$$(this.$a$ <= this.$b$), $x$jscomp$90$$;
  }
  $temp$jscomp$7$$ = $bytes$jscomp$4$$[this.$a$ + 3];
  $x$jscomp$90$$ |= ($temp$jscomp$7$$ & 127) << 21;
  if (128 > $temp$jscomp$7$$) {
    return this.$a$ += 4, $goog$asserts$assert$$(this.$a$ <= this.$b$), $x$jscomp$90$$;
  }
  $temp$jscomp$7$$ = $bytes$jscomp$4$$[this.$a$ + 4];
  $x$jscomp$90$$ |= ($temp$jscomp$7$$ & 15) << 28;
  if (128 > $temp$jscomp$7$$) {
    return $goog$asserts$assert$$(0 == ($temp$jscomp$7$$ & 240)), this.$a$ += 5, $goog$asserts$assert$$(this.$a$ <= this.$b$), $x$jscomp$90$$ >>> 0;
  }
  $goog$asserts$assert$$(240 == ($temp$jscomp$7$$ & 240));
  $goog$asserts$assert$$(255 == $bytes$jscomp$4$$[this.$a$ + 5]);
  $goog$asserts$assert$$(255 == $bytes$jscomp$4$$[this.$a$ + 6]);
  $goog$asserts$assert$$(255 == $bytes$jscomp$4$$[this.$a$ + 7]);
  $goog$asserts$assert$$(255 == $bytes$jscomp$4$$[this.$a$ + 8]);
  $goog$asserts$assert$$(1 == $bytes$jscomp$4$$[this.$a$ + 9]);
  this.$a$ += 10;
  $goog$asserts$assert$$(this.$a$ <= this.$b$);
  return $x$jscomp$90$$;
};
$jspb$BinaryDecoder$$.prototype.$A$ = $jspb$BinaryDecoder$$.prototype.$g$;
$jspb$BinaryDecoder$$.prototype.$w$ = function() {
  return this.$A$();
};
var $jspb$BinaryEncoder$$ = function() {
  this.$a$ = [];
};
$jspb$BinaryEncoder$$.prototype.length = function() {
  return this.$a$.length;
};
var $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$end$$ = function($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$end$self$$) {
  var $buffer$jscomp$22$$ = $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$end$self$$.$a$;
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$end$self$$.$a$ = [];
  return $buffer$jscomp$22$$;
}, $JSCompiler_StaticMethods_writeSplitVarint64$$ = function($JSCompiler_StaticMethods_writeSplitVarint64$self$$, $lowBits$jscomp$4$$, $highBits$jscomp$4$$) {
  $goog$asserts$assert$$($lowBits$jscomp$4$$ == Math.floor($lowBits$jscomp$4$$));
  $goog$asserts$assert$$($highBits$jscomp$4$$ == Math.floor($highBits$jscomp$4$$));
  $goog$asserts$assert$$(0 <= $lowBits$jscomp$4$$ && 4294967296 > $lowBits$jscomp$4$$);
  for ($goog$asserts$assert$$(0 <= $highBits$jscomp$4$$ && 4294967296 > $highBits$jscomp$4$$); 0 < $highBits$jscomp$4$$ || 127 < $lowBits$jscomp$4$$;) {
    $JSCompiler_StaticMethods_writeSplitVarint64$self$$.$a$.push($lowBits$jscomp$4$$ & 127 | 128), $lowBits$jscomp$4$$ = ($lowBits$jscomp$4$$ >>> 7 | $highBits$jscomp$4$$ << 25) >>> 0, $highBits$jscomp$4$$ >>>= 7;
  }
  $JSCompiler_StaticMethods_writeSplitVarint64$self$$.$a$.push($lowBits$jscomp$4$$);
}, $JSCompiler_StaticMethods_writeUnsignedVarint32$$ = function($JSCompiler_StaticMethods_writeUnsignedVarint32$self$$, $value$jscomp$204$$) {
  $goog$asserts$assert$$($value$jscomp$204$$ == Math.floor($value$jscomp$204$$));
  for ($goog$asserts$assert$$(0 <= $value$jscomp$204$$ && 4294967296 > $value$jscomp$204$$); 127 < $value$jscomp$204$$;) {
    $JSCompiler_StaticMethods_writeUnsignedVarint32$self$$.$a$.push($value$jscomp$204$$ & 127 | 128), $value$jscomp$204$$ >>>= 7;
  }
  $JSCompiler_StaticMethods_writeUnsignedVarint32$self$$.$a$.push($value$jscomp$204$$);
}, $JSCompiler_StaticMethods_writeSignedVarint32$$ = function($JSCompiler_StaticMethods_writeSignedVarint32$self$$, $value$jscomp$205$$) {
  $goog$asserts$assert$$($value$jscomp$205$$ == Math.floor($value$jscomp$205$$));
  $goog$asserts$assert$$(-2147483648 <= $value$jscomp$205$$ && 2147483648 > $value$jscomp$205$$);
  if (0 <= $value$jscomp$205$$) {
    $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_writeSignedVarint32$self$$, $value$jscomp$205$$);
  } else {
    for (var $i$jscomp$202$$ = 0; 9 > $i$jscomp$202$$; $i$jscomp$202$$++) {
      $JSCompiler_StaticMethods_writeSignedVarint32$self$$.$a$.push($value$jscomp$205$$ & 127 | 128), $value$jscomp$205$$ >>= 7;
    }
    $JSCompiler_StaticMethods_writeSignedVarint32$self$$.$a$.push(1);
  }
}, $JSCompiler_StaticMethods_writeSignedVarint64$$ = function($JSCompiler_StaticMethods_writeSignedVarint64$self$$, $value$jscomp$207$$) {
  $goog$asserts$assert$$($value$jscomp$207$$ == Math.floor($value$jscomp$207$$));
  $goog$asserts$assert$$(-9223372036854775808 <= $value$jscomp$207$$ && 9223372036854775808 > $value$jscomp$207$$);
  $jspb$utils$splitInt64$$($value$jscomp$207$$);
  $JSCompiler_StaticMethods_writeSplitVarint64$$($JSCompiler_StaticMethods_writeSignedVarint64$self$$, $jspb$utils$split64Low$$, $jspb$utils$split64High$$);
}, $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$$ = function($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$, $value$jscomp$213$$) {
  $goog$asserts$assert$$($value$jscomp$213$$ == Math.floor($value$jscomp$213$$));
  $goog$asserts$assert$$(0 <= $value$jscomp$213$$ && 4294967296 > $value$jscomp$213$$);
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$.$a$.push($value$jscomp$213$$ >>> 0 & 255);
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$.$a$.push($value$jscomp$213$$ >>> 8 & 255);
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$.$a$.push($value$jscomp$213$$ >>> 16 & 255);
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$self$$.$a$.push($value$jscomp$213$$ >>> 24 & 255);
};
var $jspb$BinaryReader$$ = function($opt_bytes$jscomp$2$$, $opt_start$jscomp$5$$, $opt_length$jscomp$14$$) {
  this.$b$ = $jspb$BinaryDecoder$alloc$$($opt_bytes$jscomp$2$$, $opt_start$jscomp$5$$, $opt_length$jscomp$14$$);
  this.$a$ = this.$f$ = -1;
  this.$g$ = !1;
};
$jspb$BinaryReader$$.prototype.reset = function() {
  this.$b$.reset();
  this.$a$ = this.$f$ = -1;
};
var $JSCompiler_StaticMethods_nextField$$ = function($JSCompiler_StaticMethods_nextField$self$$) {
  var $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$ = $JSCompiler_StaticMethods_nextField$self$$.$b$;
  if ($JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$.$a$ == $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$.$b$) {
    return !1;
  }
  ($JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$ = $JSCompiler_StaticMethods_nextField$self$$.$g$) || ($JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$ = $JSCompiler_StaticMethods_nextField$self$$.$b$, $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$ = 
  $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$.$j$ || 0 > $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$.$a$ || $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$.$a$ > 
  $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$.$b$);
  if ($JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$) {
    return $goog$asserts$fail$$("Decoder hit an error"), !1;
  }
  var $header$jscomp$6_nextWireType$$ = $JSCompiler_StaticMethods_nextField$self$$.$b$.$g$(), $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$ = $header$jscomp$6_nextWireType$$ >>> 3, $header$jscomp$6_nextWireType$$ = $header$jscomp$6_nextWireType$$ & 7;
  if (0 != $header$jscomp$6_nextWireType$$ && 5 != $header$jscomp$6_nextWireType$$ && 1 != $header$jscomp$6_nextWireType$$ && 2 != $header$jscomp$6_nextWireType$$ && 3 != $header$jscomp$6_nextWireType$$ && 4 != $header$jscomp$6_nextWireType$$) {
    return $goog$asserts$fail$$("Invalid wire type"), $JSCompiler_StaticMethods_nextField$self$$.$g$ = !0, !1;
  }
  $JSCompiler_StaticMethods_nextField$self$$.$f$ = $JSCompiler_StaticMethods_atEnd$self$jscomp$inline_1453_JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$getError$self$jscomp$inline_4429_JSCompiler_temp$jscomp$4167_nextField$$;
  $JSCompiler_StaticMethods_nextField$self$$.$a$ = $header$jscomp$6_nextWireType$$;
  return !0;
}, $JSCompiler_StaticMethods_skipField$$ = function($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$) {
  switch($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$) {
    case 0:
      if (0 != $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$) {
        $goog$asserts$fail$$("Invalid wire type for skipVarintField"), $JSCompiler_StaticMethods_skipField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$);
      } else {
        for ($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$ = $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$b$; $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$f$[$JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$] & 128;) {
          $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$++;
        }
        $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$++;
      }
      break;
    case 1:
      1 != $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$ ? ($goog$asserts$fail$$("Invalid wire type for skipFixed64Field"), $JSCompiler_StaticMethods_skipField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$)) : $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$b$, 
      8);
      break;
    case 2:
      if (2 != $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$) {
        $goog$asserts$fail$$("Invalid wire type for skipDelimitedField"), $JSCompiler_StaticMethods_skipField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$);
      } else {
        var $length$jscomp$inline_1460_nestedGroups$jscomp$inline_1465$$ = $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$b$.$g$();
        $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$b$, $length$jscomp$inline_1460_nestedGroups$jscomp$inline_1465$$);
      }
      break;
    case 5:
      5 != $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$ ? ($goog$asserts$fail$$("Invalid wire type for skipFixed32Field"), $JSCompiler_StaticMethods_skipField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$)) : $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$advance$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$b$, 
      4);
      break;
    case 3:
      $length$jscomp$inline_1460_nestedGroups$jscomp$inline_1465$$ = [$JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$f$];
      do {
        if (!$JSCompiler_StaticMethods_nextField$$($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$)) {
          $goog$asserts$fail$$("Unmatched start-group tag: stream EOF");
          $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$g$ = !0;
          break;
        }
        if (3 == $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$) {
          $length$jscomp$inline_1460_nestedGroups$jscomp$inline_1465$$.push($JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$f$);
        } else {
          if (4 == $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$a$ && $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$f$ != $length$jscomp$inline_1460_nestedGroups$jscomp$inline_1465$$.pop()) {
            $goog$asserts$fail$$("Unmatched end-group tag");
            $JSCompiler_StaticMethods_skipField$self_JSCompiler_StaticMethods_skipVarint$self$jscomp$inline_4431$$.$g$ = !0;
            break;
          }
        }
      } while (0 < $length$jscomp$inline_1460_nestedGroups$jscomp$inline_1465$$.length);
      break;
    default:
      $goog$asserts$fail$$("Invalid wire encoding for field.");
  }
}, $JSCompiler_StaticMethods_readMessage$$ = function($JSCompiler_StaticMethods_readMessage$self$$, $message$jscomp$135$$, $reader$jscomp$1$$) {
  $goog$asserts$assert$$(2 == $JSCompiler_StaticMethods_readMessage$self$$.$a$);
  var $oldEnd$$ = $JSCompiler_StaticMethods_readMessage$self$$.$b$.$b$, $length$jscomp$35_newEnd$$ = $JSCompiler_StaticMethods_readMessage$self$$.$b$.$g$(), $length$jscomp$35_newEnd$$ = $JSCompiler_StaticMethods_readMessage$self$$.$b$.$a$ + $length$jscomp$35_newEnd$$;
  $JSCompiler_StaticMethods_readMessage$self$$.$b$.$b$ = $length$jscomp$35_newEnd$$;
  $reader$jscomp$1$$($message$jscomp$135$$, $JSCompiler_StaticMethods_readMessage$self$$);
  $JSCompiler_StaticMethods_readMessage$self$$.$b$.$a$ = $length$jscomp$35_newEnd$$;
  $JSCompiler_StaticMethods_readMessage$self$$.$b$.$b$ = $oldEnd$$;
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt32$$ = function($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt32$self$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt32$self$$.$a$);
  return $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readInt32$self$$.$b$.$A$();
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readBool$$ = function($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readBool$self$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readBool$self$$.$a$);
  return !!$JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readBool$self$$.$b$.$g$();
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$$ = function($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$a$);
  $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$b$;
  a: {
    for (var $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$, $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ = 0, $highBits$jscomp$inline_4436$$, $i$jscomp$inline_4437$$ = 0; 4 > $i$jscomp$inline_4437$$; $i$jscomp$inline_4437$$++) {
      if ($bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$f$[$JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$a$++], $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ |= ($bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ & 
      127) << 7 * $i$jscomp$inline_4437$$, 128 > $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$) {
        $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$o$ = $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ >>> 0;
        $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$l$ = 0;
        break a;
      }
    }
    $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$f$[$JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$a$++];
    $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ |= ($bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ & 127) << 28;
    $highBits$jscomp$inline_4436$$ = 0 | ($bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ & 127) >> 4;
    if (128 > $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$) {
      $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$o$ = $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ >>> 0, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$l$ = $highBits$jscomp$inline_4436$$ >>> 0;
    } else {
      for ($i$jscomp$inline_4437$$ = 0; 5 > $i$jscomp$inline_4437$$; $i$jscomp$inline_4437$$++) {
        if ($bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$f$[$JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$a$++], $highBits$jscomp$inline_4436$$ |= ($bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ & 
        127) << 7 * $i$jscomp$inline_4437$$ + 3, 128 > $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$) {
          $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$o$ = $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ >>> 0;
          $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$l$ = $highBits$jscomp$inline_4436$$ >>> 0;
          break a;
        }
      }
      $goog$asserts$fail$$("Failed to read varint, encoding is invalid.");
      $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$j$ = !0;
    }
  }
  $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$o$;
  $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ = $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$.$l$;
  if ($JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$ = $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ & 2147483648) {
    $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ = ~$bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ + 1 >>> 0, $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ = ~$bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ >>> 0, 0 == $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ && ($bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ = $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ + 
    1 >>> 0);
  }
  $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ = 4294967296 * $bitsHigh$jscomp$inline_4440_lowBits$jscomp$inline_4435$$ + $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$;
  return $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readEnum$self_JSCompiler_StaticMethods_readSignedVarint64$self$jscomp$inline_1476_sign$jscomp$inline_4441$$ ? -$bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$ : $bitsLow$jscomp$inline_4439_result$jscomp$inline_4442_temp$jscomp$inline_4434$$;
}, $JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$$ = function($JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1478_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$) {
  $goog$asserts$assert$$(2 == $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1478_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$a$);
  var $end$jscomp$inline_1484_length$jscomp$37$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1478_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$b$.$g$();
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1478_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1478_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$b$;
  for (var $c3$jscomp$inline_1480_codepoint$jscomp$inline_1489$$, $c2$jscomp$inline_1481$$, $bytes$jscomp$inline_1482$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1478_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$f$, $cursor$jscomp$inline_1483$$ = $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1478_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$a$, $end$jscomp$inline_1484_length$jscomp$37$$ = 
  $cursor$jscomp$inline_1483$$ + $end$jscomp$inline_1484_length$jscomp$37$$, $codeUnits$jscomp$inline_1485$$ = [], $result$jscomp$inline_1486$$ = ""; $cursor$jscomp$inline_1483$$ < $end$jscomp$inline_1484_length$jscomp$37$$;) {
    var $c$jscomp$inline_1487$$ = $bytes$jscomp$inline_1482$$[$cursor$jscomp$inline_1483$$++];
    if (128 > $c$jscomp$inline_1487$$) {
      $codeUnits$jscomp$inline_1485$$.push($c$jscomp$inline_1487$$);
    } else {
      if (192 > $c$jscomp$inline_1487$$) {
        continue;
      } else {
        if (224 > $c$jscomp$inline_1487$$) {
          $c2$jscomp$inline_1481$$ = $bytes$jscomp$inline_1482$$[$cursor$jscomp$inline_1483$$++], $codeUnits$jscomp$inline_1485$$.push(($c$jscomp$inline_1487$$ & 31) << 6 | $c2$jscomp$inline_1481$$ & 63);
        } else {
          if (240 > $c$jscomp$inline_1487$$) {
            $c2$jscomp$inline_1481$$ = $bytes$jscomp$inline_1482$$[$cursor$jscomp$inline_1483$$++], $c3$jscomp$inline_1480_codepoint$jscomp$inline_1489$$ = $bytes$jscomp$inline_1482$$[$cursor$jscomp$inline_1483$$++], $codeUnits$jscomp$inline_1485$$.push(($c$jscomp$inline_1487$$ & 15) << 12 | ($c2$jscomp$inline_1481$$ & 63) << 6 | $c3$jscomp$inline_1480_codepoint$jscomp$inline_1489$$ & 63);
          } else {
            if (248 > $c$jscomp$inline_1487$$) {
              $c2$jscomp$inline_1481$$ = $bytes$jscomp$inline_1482$$[$cursor$jscomp$inline_1483$$++];
              $c3$jscomp$inline_1480_codepoint$jscomp$inline_1489$$ = $bytes$jscomp$inline_1482$$[$cursor$jscomp$inline_1483$$++];
              var $c4$jscomp$inline_1488$$ = $bytes$jscomp$inline_1482$$[$cursor$jscomp$inline_1483$$++];
              $c3$jscomp$inline_1480_codepoint$jscomp$inline_1489$$ = ($c$jscomp$inline_1487$$ & 7) << 18 | ($c2$jscomp$inline_1481$$ & 63) << 12 | ($c3$jscomp$inline_1480_codepoint$jscomp$inline_1489$$ & 63) << 6 | $c4$jscomp$inline_1488$$ & 63;
              $c3$jscomp$inline_1480_codepoint$jscomp$inline_1489$$ -= 65536;
              $codeUnits$jscomp$inline_1485$$.push(($c3$jscomp$inline_1480_codepoint$jscomp$inline_1489$$ >> 10 & 1023) + 55296, ($c3$jscomp$inline_1480_codepoint$jscomp$inline_1489$$ & 1023) + 56320);
            }
          }
        }
      }
    }
    8192 <= $codeUnits$jscomp$inline_1485$$.length && ($result$jscomp$inline_1486$$ += String.fromCharCode.apply(null, $codeUnits$jscomp$inline_1485$$), $codeUnits$jscomp$inline_1485$$.length = 0);
  }
  $result$jscomp$inline_1486$$ += String.fromCharCode.apply(null, $codeUnits$jscomp$inline_1485$$);
  $JSCompiler_StaticMethods_jspb_BinaryDecoder_prototype$readString$self$jscomp$inline_1478_JSCompiler_StaticMethods_jspb_BinaryReader_prototype$readString$self$$.$a$ = $cursor$jscomp$inline_1483$$;
  return $result$jscomp$inline_1486$$;
}, $JSCompiler_StaticMethods_readPackedField_$$ = function($JSCompiler_StaticMethods_readPackedField_$self$$, $decodeMethod$$) {
  $goog$asserts$assert$$(2 == $JSCompiler_StaticMethods_readPackedField_$self$$.$a$);
  for (var $end$jscomp$15_length$jscomp$39$$ = $JSCompiler_StaticMethods_readPackedField_$self$$.$b$.$g$(), $end$jscomp$15_length$jscomp$39$$ = $JSCompiler_StaticMethods_readPackedField_$self$$.$b$.$a$ + $end$jscomp$15_length$jscomp$39$$, $result$jscomp$71$$ = []; $JSCompiler_StaticMethods_readPackedField_$self$$.$b$.$a$ < $end$jscomp$15_length$jscomp$39$$;) {
    $result$jscomp$71$$.push($decodeMethod$$.call($JSCompiler_StaticMethods_readPackedField_$self$$.$b$));
  }
  return $result$jscomp$71$$;
};
var $jspb$BinaryWriter$$ = function() {
  this.$f$ = [];
  this.$b$ = 0;
  this.$a$ = new $jspb$BinaryEncoder$$;
  this.$g$ = [];
}, $JSCompiler_StaticMethods_beginDelimited_$$ = function($JSCompiler_StaticMethods_beginDelimited_$self$$, $bookmark$jscomp$1_field$jscomp$7$$) {
  $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_beginDelimited_$self$$, $bookmark$jscomp$1_field$jscomp$7$$, 2);
  $bookmark$jscomp$1_field$jscomp$7$$ = $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$end$$($JSCompiler_StaticMethods_beginDelimited_$self$$.$a$);
  $JSCompiler_StaticMethods_beginDelimited_$self$$.$f$.push($bookmark$jscomp$1_field$jscomp$7$$);
  $JSCompiler_StaticMethods_beginDelimited_$self$$.$b$ += $bookmark$jscomp$1_field$jscomp$7$$.length;
  $bookmark$jscomp$1_field$jscomp$7$$.push($JSCompiler_StaticMethods_beginDelimited_$self$$.$b$);
  return $bookmark$jscomp$1_field$jscomp$7$$;
}, $JSCompiler_StaticMethods_endDelimited_$$ = function($JSCompiler_StaticMethods_endDelimited_$self$$, $bookmark$jscomp$2$$) {
  var $messageLength_oldLength$jscomp$1$$ = $bookmark$jscomp$2$$.pop(), $messageLength_oldLength$jscomp$1$$ = $JSCompiler_StaticMethods_endDelimited_$self$$.$b$ + $JSCompiler_StaticMethods_endDelimited_$self$$.$a$.length() - $messageLength_oldLength$jscomp$1$$;
  for ($goog$asserts$assert$$(0 <= $messageLength_oldLength$jscomp$1$$); 127 < $messageLength_oldLength$jscomp$1$$;) {
    $bookmark$jscomp$2$$.push($messageLength_oldLength$jscomp$1$$ & 127 | 128), $messageLength_oldLength$jscomp$1$$ >>>= 7, $JSCompiler_StaticMethods_endDelimited_$self$$.$b$++;
  }
  $bookmark$jscomp$2$$.push($messageLength_oldLength$jscomp$1$$);
  $JSCompiler_StaticMethods_endDelimited_$self$$.$b$++;
};
$jspb$BinaryWriter$$.prototype.reset = function() {
  this.$f$ = [];
  $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$end$$(this.$a$);
  this.$b$ = 0;
  this.$g$ = [];
};
var $JSCompiler_StaticMethods_getResultBuffer$$ = function($JSCompiler_StaticMethods_getResultBuffer$self$$) {
  $goog$asserts$assert$$(0 == $JSCompiler_StaticMethods_getResultBuffer$self$$.$g$.length);
  for (var $flat$$ = new Uint8Array($JSCompiler_StaticMethods_getResultBuffer$self$$.$b$ + $JSCompiler_StaticMethods_getResultBuffer$self$$.$a$.length()), $blocks_tail$jscomp$1$$ = $JSCompiler_StaticMethods_getResultBuffer$self$$.$f$, $blockCount$$ = $blocks_tail$jscomp$1$$.length, $offset$jscomp$17$$ = 0, $i$jscomp$204$$ = 0; $i$jscomp$204$$ < $blockCount$$; $i$jscomp$204$$++) {
    var $block$jscomp$1$$ = $blocks_tail$jscomp$1$$[$i$jscomp$204$$];
    $flat$$.set($block$jscomp$1$$, $offset$jscomp$17$$);
    $offset$jscomp$17$$ += $block$jscomp$1$$.length;
  }
  $blocks_tail$jscomp$1$$ = $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$end$$($JSCompiler_StaticMethods_getResultBuffer$self$$.$a$);
  $flat$$.set($blocks_tail$jscomp$1$$, $offset$jscomp$17$$);
  $offset$jscomp$17$$ += $blocks_tail$jscomp$1$$.length;
  $goog$asserts$assert$$($offset$jscomp$17$$ == $flat$$.length);
  $JSCompiler_StaticMethods_getResultBuffer$self$$.$f$ = [$flat$$];
  return $flat$$;
}, $JSCompiler_StaticMethods_writeFieldHeader_$$ = function($JSCompiler_StaticMethods_writeFieldHeader_$self$$, $field$jscomp$9$$, $wireType$$) {
  $goog$asserts$assert$$(1 <= $field$jscomp$9$$ && $field$jscomp$9$$ == Math.floor($field$jscomp$9$$));
  $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_writeFieldHeader_$self$$.$a$, 8 * $field$jscomp$9$$ + $wireType$$);
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt32$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt32$self$$, $field$jscomp$18$$, $value$jscomp$233$$) {
  null != $value$jscomp$233$$ && ($goog$asserts$assert$$(-2147483648 <= $value$jscomp$233$$ && 2147483648 > $value$jscomp$233$$), null != $value$jscomp$233$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt32$self$$, $field$jscomp$18$$, 0), $JSCompiler_StaticMethods_writeSignedVarint32$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt32$self$$.$a$, $value$jscomp$233$$)));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$self$$, $field$jscomp$20$$, $value$jscomp$235$$) {
  null != $value$jscomp$235$$ && ($goog$asserts$assert$$(-9223372036854775808 <= $value$jscomp$235$$ && 9223372036854775808 > $value$jscomp$235$$), null != $value$jscomp$235$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$self$$, $field$jscomp$20$$, 0), $JSCompiler_StaticMethods_writeSignedVarint64$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$self$$.$a$, $value$jscomp$235$$)));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64String$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64String$self$$, $field$jscomp$21$$, $hasNegative$jscomp$inline_1500_num$jscomp$18_value$jscomp$236$$) {
  if (null != $hasNegative$jscomp$inline_1500_num$jscomp$18_value$jscomp$236$$) {
    var $num$jscomp$inline_1501_s$jscomp$inline_1499$$ = $hasNegative$jscomp$inline_1500_num$jscomp$18_value$jscomp$236$$;
    ($hasNegative$jscomp$inline_1500_num$jscomp$18_value$jscomp$236$$ = 0 < $num$jscomp$inline_1501_s$jscomp$inline_1499$$.length && "-" == $num$jscomp$inline_1501_s$jscomp$inline_1499$$[0]) && ($num$jscomp$inline_1501_s$jscomp$inline_1499$$ = $num$jscomp$inline_1501_s$jscomp$inline_1499$$.substring(1));
    $num$jscomp$inline_1501_s$jscomp$inline_1499$$ = $jspb$arith$UInt64$fromString$$($num$jscomp$inline_1501_s$jscomp$inline_1499$$);
    null === $num$jscomp$inline_1501_s$jscomp$inline_1499$$ ? $hasNegative$jscomp$inline_1500_num$jscomp$18_value$jscomp$236$$ = null : ($hasNegative$jscomp$inline_1500_num$jscomp$18_value$jscomp$236$$ && ($num$jscomp$inline_1501_s$jscomp$inline_1499$$ = $JSCompiler_StaticMethods_jspb_arith_UInt64_prototype$sub$$(new $jspb$arith$UInt64$$(0, 0), $num$jscomp$inline_1501_s$jscomp$inline_1499$$)), $hasNegative$jscomp$inline_1500_num$jscomp$18_value$jscomp$236$$ = new $jspb$arith$Int64$$($num$jscomp$inline_1501_s$jscomp$inline_1499$$.$a$, 
    $num$jscomp$inline_1501_s$jscomp$inline_1499$$.$b$));
    $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64String$self$$, $field$jscomp$21$$, 0);
    $JSCompiler_StaticMethods_writeSplitVarint64$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64String$self$$.$a$, $hasNegative$jscomp$inline_1500_num$jscomp$18_value$jscomp$236$$.$a$, $hasNegative$jscomp$inline_1500_num$jscomp$18_value$jscomp$236$$.$b$);
  }
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint32$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint32$self$$, $field$jscomp$22$$, $value$jscomp$237$$) {
  null != $value$jscomp$237$$ && ($goog$asserts$assert$$(0 <= $value$jscomp$237$$ && 4294967296 > $value$jscomp$237$$), null != $value$jscomp$237$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint32$self$$, $field$jscomp$22$$, 0), $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint32$self$$.$a$, $value$jscomp$237$$)));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_4444$$, $field$jscomp$24$$, $value$jscomp$239$$) {
  null != $value$jscomp$239$$ && ($goog$asserts$assert$$(0 <= $value$jscomp$239$$ && 18446744073709551616 > $value$jscomp$239$$), null != $value$jscomp$239$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_4444$$, $field$jscomp$24$$, 0), $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_4444$$ = 
  $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_4444$$.$a$, $goog$asserts$assert$$($value$jscomp$239$$ == Math.floor($value$jscomp$239$$)), $goog$asserts$assert$$(0 <= $value$jscomp$239$$ && 18446744073709551616 > $value$jscomp$239$$), $jspb$utils$splitInt64$$($value$jscomp$239$$), $JSCompiler_StaticMethods_writeSplitVarint64$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeUint64$self_JSCompiler_StaticMethods_writeUnsignedVarint64$self$jscomp$inline_4444$$, 
  $jspb$utils$split64Low$$, $jspb$utils$split64High$$)));
}, $JSCompiler_StaticMethods_writeUint64String$$ = function($JSCompiler_StaticMethods_writeUint64String$self$$, $field$jscomp$25$$, $num$jscomp$19_value$jscomp$240$$) {
  null != $num$jscomp$19_value$jscomp$240$$ && ($num$jscomp$19_value$jscomp$240$$ = $jspb$arith$UInt64$fromString$$($num$jscomp$19_value$jscomp$240$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeUint64String$self$$, $field$jscomp$25$$, 0), $JSCompiler_StaticMethods_writeSplitVarint64$$($JSCompiler_StaticMethods_writeUint64String$self$$.$a$, $num$jscomp$19_value$jscomp$240$$.$a$, $num$jscomp$19_value$jscomp$240$$.$b$));
}, $JSCompiler_StaticMethods_writeFixed32$$ = function($JSCompiler_StaticMethods_writeFixed32$self$$, $field$jscomp$29$$, $value$jscomp$244$$) {
  null != $value$jscomp$244$$ && ($goog$asserts$assert$$(0 <= $value$jscomp$244$$ && 4294967296 > $value$jscomp$244$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeFixed32$self$$, $field$jscomp$29$$, 5), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$$($JSCompiler_StaticMethods_writeFixed32$self$$.$a$, $value$jscomp$244$$));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$$ = function($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$self$jscomp$inline_1511_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$self$$, $exp$jscomp$inline_4449_field$jscomp$35$$, $sign$jscomp$inline_4448_value$jscomp$250$$) {
  if (null != $sign$jscomp$inline_4448_value$jscomp$250$$) {
    $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$self$jscomp$inline_1511_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$self$$, $exp$jscomp$inline_4449_field$jscomp$35$$, 5);
    $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$self$jscomp$inline_1511_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$self$$ = $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$self$jscomp$inline_1511_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$self$$.$a$;
    $goog$asserts$assert$$(-3.4028234663852886E38 <= $sign$jscomp$inline_4448_value$jscomp$250$$ && 3.4028234663852886e+38 >= $sign$jscomp$inline_4448_value$jscomp$250$$);
    var $mant$jscomp$inline_4450_value$jscomp$inline_4447$$ = $sign$jscomp$inline_4448_value$jscomp$250$$, $mant$jscomp$inline_4450_value$jscomp$inline_4447$$ = ($sign$jscomp$inline_4448_value$jscomp$250$$ = 0 > $mant$jscomp$inline_4450_value$jscomp$inline_4447$$ ? 1 : 0) ? -$mant$jscomp$inline_4450_value$jscomp$inline_4447$$ : $mant$jscomp$inline_4450_value$jscomp$inline_4447$$;
    0 === $mant$jscomp$inline_4450_value$jscomp$inline_4447$$ ? 0 < 1 / $mant$jscomp$inline_4450_value$jscomp$inline_4447$$ ? $jspb$utils$split64Low$$ = $jspb$utils$split64High$$ = 0 : ($jspb$utils$split64High$$ = 0, $jspb$utils$split64Low$$ = 2147483648) : isNaN($mant$jscomp$inline_4450_value$jscomp$inline_4447$$) ? ($jspb$utils$split64High$$ = 0, $jspb$utils$split64Low$$ = 2147483647) : 3.4028234663852886e+38 < $mant$jscomp$inline_4450_value$jscomp$inline_4447$$ ? ($jspb$utils$split64High$$ = 0, 
    $jspb$utils$split64Low$$ = ($sign$jscomp$inline_4448_value$jscomp$250$$ << 31 | 2139095040) >>> 0) : 1.1754943508222875e-38 > $mant$jscomp$inline_4450_value$jscomp$inline_4447$$ ? ($mant$jscomp$inline_4450_value$jscomp$inline_4447$$ = Math.round($mant$jscomp$inline_4450_value$jscomp$inline_4447$$ / Math.pow(2, -149)), $jspb$utils$split64High$$ = 0, $jspb$utils$split64Low$$ = ($sign$jscomp$inline_4448_value$jscomp$250$$ << 31 | $mant$jscomp$inline_4450_value$jscomp$inline_4447$$) >>> 0) : ($exp$jscomp$inline_4449_field$jscomp$35$$ = 
    Math.floor(Math.log($mant$jscomp$inline_4450_value$jscomp$inline_4447$$) / Math.LN2), $mant$jscomp$inline_4450_value$jscomp$inline_4447$$ *= Math.pow(2, -$exp$jscomp$inline_4449_field$jscomp$35$$), $mant$jscomp$inline_4450_value$jscomp$inline_4447$$ = Math.round(8388608 * $mant$jscomp$inline_4450_value$jscomp$inline_4447$$) & 8388607, $jspb$utils$split64High$$ = 0, $jspb$utils$split64Low$$ = ($sign$jscomp$inline_4448_value$jscomp$250$$ << 31 | $exp$jscomp$inline_4449_field$jscomp$35$$ + 127 << 
    23 | $mant$jscomp$inline_4450_value$jscomp$inline_4447$$) >>> 0);
    $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeUint32$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeFloat$self$jscomp$inline_1511_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeFloat$self$$, $jspb$utils$split64Low$$);
  }
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$$ = function($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1514_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$, $field$jscomp$37$$, $value$jscomp$252$$) {
  null != $value$jscomp$252$$ && ($goog$asserts$assert$$($goog$isBoolean$$($value$jscomp$252$$)), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1514_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$, $field$jscomp$37$$, 0), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1514_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$ = $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1514_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$.$a$, 
  $goog$asserts$assert$$($goog$isBoolean$$($value$jscomp$252$$)), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeBool$self$jscomp$inline_1514_JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBool$self$$.$a$.push($value$jscomp$252$$ ? 1 : 0));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$self$$, $field$jscomp$38$$, $value$jscomp$253$$) {
  null != $value$jscomp$253$$ && ($goog$asserts$assert$$(-2147483648 <= $value$jscomp$253$$ && 2147483648 > $value$jscomp$253$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$self$$, $field$jscomp$38$$, 0), $JSCompiler_StaticMethods_writeSignedVarint32$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$self$$.$a$, $value$jscomp$253$$));
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$self$$, $bookmark$jscomp$3_field$jscomp$39$$, $value$jscomp$254$$) {
  if (null != $value$jscomp$254$$) {
    $bookmark$jscomp$3_field$jscomp$39$$ = $JSCompiler_StaticMethods_beginDelimited_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$self$$, $bookmark$jscomp$3_field$jscomp$39$$);
    for (var $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$ = $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$self$$.$a$, $i$jscomp$inline_1519$$ = 0; $i$jscomp$inline_1519$$ < $value$jscomp$254$$.length; $i$jscomp$inline_1519$$++) {
      var $c$jscomp$inline_1520$$ = $value$jscomp$254$$.charCodeAt($i$jscomp$inline_1519$$);
      if (128 > $c$jscomp$inline_1520$$) {
        $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$);
      } else {
        if (2048 > $c$jscomp$inline_1520$$) {
          $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$ >> 6 | 192), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$ & 63 | 128);
        } else {
          if (65536 > $c$jscomp$inline_1520$$) {
            if (55296 <= $c$jscomp$inline_1520$$ && 56319 >= $c$jscomp$inline_1520$$ && $i$jscomp$inline_1519$$ + 1 < $value$jscomp$254$$.length) {
              var $second$jscomp$inline_1521$$ = $value$jscomp$254$$.charCodeAt($i$jscomp$inline_1519$$ + 1);
              56320 <= $second$jscomp$inline_1521$$ && 57343 >= $second$jscomp$inline_1521$$ && ($c$jscomp$inline_1520$$ = 1024 * ($c$jscomp$inline_1520$$ - 55296) + $second$jscomp$inline_1521$$ - 56320 + 65536, $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$ >> 18 | 240), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$ >> 12 & 63 | 128), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$ >> 
              6 & 63 | 128), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$ & 63 | 128), $i$jscomp$inline_1519$$++);
            } else {
              $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$ >> 12 | 224), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$ >> 6 & 63 | 128), $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeString$self$jscomp$inline_1517$$.$a$.push($c$jscomp$inline_1520$$ & 63 | 128);
            }
          }
        }
      }
    }
    $JSCompiler_StaticMethods_endDelimited_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$self$$, $bookmark$jscomp$3_field$jscomp$39$$);
  }
}, $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$$ = function($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$, $field$jscomp$40_temp$jscomp$inline_1525$$, $bytes$jscomp$11_value$jscomp$255$$) {
  null != $bytes$jscomp$11_value$jscomp$255$$ && ($bytes$jscomp$11_value$jscomp$255$$ = $jspb$utils$byteSourceToUint8Array$$($bytes$jscomp$11_value$jscomp$255$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$, $field$jscomp$40_temp$jscomp$inline_1525$$, 2), $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$a$, $bytes$jscomp$11_value$jscomp$255$$.length), 
  $field$jscomp$40_temp$jscomp$inline_1525$$ = $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$end$$($JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$a$), $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$f$.push($field$jscomp$40_temp$jscomp$inline_1525$$), $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$f$.push($bytes$jscomp$11_value$jscomp$255$$), $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$self$$.$b$ += 
  $field$jscomp$40_temp$jscomp$inline_1525$$.length + $bytes$jscomp$11_value$jscomp$255$$.length);
}, $JSCompiler_StaticMethods_writeMessage$$ = function($JSCompiler_StaticMethods_writeMessage$self$$, $bookmark$jscomp$4_field$jscomp$41$$, $value$jscomp$256$$, $writerCallback$$) {
  null != $value$jscomp$256$$ && ($bookmark$jscomp$4_field$jscomp$41$$ = $JSCompiler_StaticMethods_beginDelimited_$$($JSCompiler_StaticMethods_writeMessage$self$$, $bookmark$jscomp$4_field$jscomp$41$$), $writerCallback$$($value$jscomp$256$$, $JSCompiler_StaticMethods_writeMessage$self$$), $JSCompiler_StaticMethods_endDelimited_$$($JSCompiler_StaticMethods_writeMessage$self$$, $bookmark$jscomp$4_field$jscomp$41$$));
}, $JSCompiler_StaticMethods_writeRepeatedInt32$$ = function($JSCompiler_StaticMethods_writeRepeatedInt32$self$$, $field$jscomp$45$$, $value$jscomp$260$$) {
  if (null != $value$jscomp$260$$) {
    for (var $i$jscomp$205$$ = 0; $i$jscomp$205$$ < $value$jscomp$260$$.length; $i$jscomp$205$$++) {
      var $JSCompiler_StaticMethods_writeSignedVarint32_$self$jscomp$inline_1527$$ = $JSCompiler_StaticMethods_writeRepeatedInt32$self$$, $value$jscomp$inline_1529$$ = $value$jscomp$260$$[$i$jscomp$205$$];
      null != $value$jscomp$inline_1529$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeSignedVarint32_$self$jscomp$inline_1527$$, $field$jscomp$45$$, 0), $JSCompiler_StaticMethods_writeSignedVarint32$$($JSCompiler_StaticMethods_writeSignedVarint32_$self$jscomp$inline_1527$$.$a$, $value$jscomp$inline_1529$$));
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedInt64$$ = function($JSCompiler_StaticMethods_writeRepeatedInt64$self$$, $field$jscomp$47$$, $value$jscomp$262$$) {
  if (null != $value$jscomp$262$$) {
    for (var $i$jscomp$207$$ = 0; $i$jscomp$207$$ < $value$jscomp$262$$.length; $i$jscomp$207$$++) {
      var $JSCompiler_StaticMethods_writeSignedVarint64_$self$jscomp$inline_1531$$ = $JSCompiler_StaticMethods_writeRepeatedInt64$self$$, $value$jscomp$inline_1533$$ = $value$jscomp$262$$[$i$jscomp$207$$];
      null != $value$jscomp$inline_1533$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeSignedVarint64_$self$jscomp$inline_1531$$, $field$jscomp$47$$, 0), $JSCompiler_StaticMethods_writeSignedVarint64$$($JSCompiler_StaticMethods_writeSignedVarint64_$self$jscomp$inline_1531$$.$a$, $value$jscomp$inline_1533$$));
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedUint32$$ = function($JSCompiler_StaticMethods_writeRepeatedUint32$self$$, $field$jscomp$49$$, $value$jscomp$264$$) {
  if (null != $value$jscomp$264$$) {
    for (var $i$jscomp$209$$ = 0; $i$jscomp$209$$ < $value$jscomp$264$$.length; $i$jscomp$209$$++) {
      var $JSCompiler_StaticMethods_writeUnsignedVarint32_$self$jscomp$inline_1535$$ = $JSCompiler_StaticMethods_writeRepeatedUint32$self$$, $value$jscomp$inline_1537$$ = $value$jscomp$264$$[$i$jscomp$209$$];
      null != $value$jscomp$inline_1537$$ && ($JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeUnsignedVarint32_$self$jscomp$inline_1535$$, $field$jscomp$49$$, 0), $JSCompiler_StaticMethods_writeUnsignedVarint32$$($JSCompiler_StaticMethods_writeUnsignedVarint32_$self$jscomp$inline_1535$$.$a$, $value$jscomp$inline_1537$$));
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedFixed32$$ = function($JSCompiler_StaticMethods_writeRepeatedFixed32$self$$, $field$jscomp$56$$, $value$jscomp$271$$) {
  if (null != $value$jscomp$271$$) {
    for (var $i$jscomp$216$$ = 0; $i$jscomp$216$$ < $value$jscomp$271$$.length; $i$jscomp$216$$++) {
      $JSCompiler_StaticMethods_writeFixed32$$($JSCompiler_StaticMethods_writeRepeatedFixed32$self$$, $field$jscomp$56$$, $value$jscomp$271$$[$i$jscomp$216$$]);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedEnum$$ = function($JSCompiler_StaticMethods_writeRepeatedEnum$self$$, $field$jscomp$65$$, $value$jscomp$280$$) {
  if (null != $value$jscomp$280$$) {
    for (var $i$jscomp$225$$ = 0; $i$jscomp$225$$ < $value$jscomp$280$$.length; $i$jscomp$225$$++) {
      $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeEnum$$($JSCompiler_StaticMethods_writeRepeatedEnum$self$$, $field$jscomp$65$$, $value$jscomp$280$$[$i$jscomp$225$$]);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedString$$ = function($JSCompiler_StaticMethods_writeRepeatedString$self$$, $field$jscomp$66$$, $value$jscomp$281$$) {
  if (null != $value$jscomp$281$$) {
    for (var $i$jscomp$226$$ = 0; $i$jscomp$226$$ < $value$jscomp$281$$.length; $i$jscomp$226$$++) {
      $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$$($JSCompiler_StaticMethods_writeRepeatedString$self$$, $field$jscomp$66$$, $value$jscomp$281$$[$i$jscomp$226$$]);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedBytes$$ = function($JSCompiler_StaticMethods_writeRepeatedBytes$self$$, $field$jscomp$67$$, $value$jscomp$282$$) {
  if (null != $value$jscomp$282$$) {
    for (var $i$jscomp$227$$ = 0; $i$jscomp$227$$ < $value$jscomp$282$$.length; $i$jscomp$227$$++) {
      $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeBytes$$($JSCompiler_StaticMethods_writeRepeatedBytes$self$$, $field$jscomp$67$$, $value$jscomp$282$$[$i$jscomp$227$$]);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedMessage$$ = function($JSCompiler_StaticMethods_writeRepeatedMessage$self$$, $field$jscomp$68$$, $value$jscomp$283$$, $writerCallback$jscomp$2$$) {
  if (null != $value$jscomp$283$$) {
    for (var $i$jscomp$228$$ = 0; $i$jscomp$228$$ < $value$jscomp$283$$.length; $i$jscomp$228$$++) {
      var $bookmark$jscomp$5$$ = $JSCompiler_StaticMethods_beginDelimited_$$($JSCompiler_StaticMethods_writeRepeatedMessage$self$$, $field$jscomp$68$$);
      $writerCallback$jscomp$2$$($value$jscomp$283$$[$i$jscomp$228$$], $JSCompiler_StaticMethods_writeRepeatedMessage$self$$);
      $JSCompiler_StaticMethods_endDelimited_$$($JSCompiler_StaticMethods_writeRepeatedMessage$self$$, $bookmark$jscomp$5$$);
    }
  }
}, $JSCompiler_StaticMethods_writeRepeatedGroup$$ = function($JSCompiler_StaticMethods_writeRepeatedGroup$self$$, $field$jscomp$69$$, $value$jscomp$284$$, $writerCallback$jscomp$3$$) {
  if (null != $value$jscomp$284$$) {
    for (var $i$jscomp$229$$ = 0; $i$jscomp$229$$ < $value$jscomp$284$$.length; $i$jscomp$229$$++) {
      $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeRepeatedGroup$self$$, $field$jscomp$69$$, 3), $writerCallback$jscomp$3$$($value$jscomp$284$$[$i$jscomp$229$$], $JSCompiler_StaticMethods_writeRepeatedGroup$self$$), $JSCompiler_StaticMethods_writeFieldHeader_$$($JSCompiler_StaticMethods_writeRepeatedGroup$self$$, $field$jscomp$69$$, 4);
    }
  }
}, $JSCompiler_StaticMethods_writePackedEnum$$ = function($JSCompiler_StaticMethods_writePackedEnum$self$$, $bookmark$jscomp$17_field$jscomp$92$$, $value$jscomp$307$$) {
  if (null != $value$jscomp$307$$ && $value$jscomp$307$$.length) {
    $bookmark$jscomp$17_field$jscomp$92$$ = $JSCompiler_StaticMethods_beginDelimited_$$($JSCompiler_StaticMethods_writePackedEnum$self$$, $bookmark$jscomp$17_field$jscomp$92$$);
    for (var $i$jscomp$252$$ = 0; $i$jscomp$252$$ < $value$jscomp$307$$.length; $i$jscomp$252$$++) {
      var $JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeEnum$self$jscomp$inline_1539$$ = $JSCompiler_StaticMethods_writePackedEnum$self$$.$a$, $value$jscomp$inline_1540$$ = $value$jscomp$307$$[$i$jscomp$252$$];
      $goog$asserts$assert$$($value$jscomp$inline_1540$$ == Math.floor($value$jscomp$inline_1540$$));
      $goog$asserts$assert$$(-2147483648 <= $value$jscomp$inline_1540$$ && 2147483648 > $value$jscomp$inline_1540$$);
      $JSCompiler_StaticMethods_writeSignedVarint32$$($JSCompiler_StaticMethods_jspb_BinaryEncoder_prototype$writeEnum$self$jscomp$inline_1539$$, $value$jscomp$inline_1540$$);
    }
    $JSCompiler_StaticMethods_endDelimited_$$($JSCompiler_StaticMethods_writePackedEnum$self$$, $bookmark$jscomp$17_field$jscomp$92$$);
  }
};
var $jspb$Message$$ = function() {
}, $jspb$Message$SUPPORTS_UINT8ARRAY_$$ = "function" == typeof Uint8Array;
$jspb$Message$$.prototype.$getJsPbMessageId$ = function() {
  return this.$messageId_$;
};
var $jspb$Message$initialize$$ = function($msg$jscomp$35$$, $data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$, $messageId_obj$jscomp$inline_1545$$, $i$jscomp$265_suggestedPivot$$, $repeatedFields$$) {
  $msg$jscomp$35$$.$a$ = null;
  $data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$ || ($data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$ = $messageId_obj$jscomp$inline_1545$$ ? [$messageId_obj$jscomp$inline_1545$$] : []);
  $msg$jscomp$35$$.$messageId_$ = $messageId_obj$jscomp$inline_1545$$ ? String($messageId_obj$jscomp$inline_1545$$) : void 0;
  $msg$jscomp$35$$.$o$ = 0 === $messageId_obj$jscomp$inline_1545$$ ? -1 : 0;
  $msg$jscomp$35$$.$f$ = $data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$;
  a: {
    if ($msg$jscomp$35$$.$f$.length && ($data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$ = $msg$jscomp$35$$.$f$.length - 1, ($messageId_obj$jscomp$inline_1545$$ = $msg$jscomp$35$$.$f$[$data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$]) && "object" == typeof $messageId_obj$jscomp$inline_1545$$ && !$goog$isArray$$($messageId_obj$jscomp$inline_1545$$) && !($jspb$Message$SUPPORTS_UINT8ARRAY_$$ && $messageId_obj$jscomp$inline_1545$$ instanceof 
    Uint8Array))) {
      $msg$jscomp$35$$.$l$ = $data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$ - $msg$jscomp$35$$.$o$;
      $msg$jscomp$35$$.$b$ = $messageId_obj$jscomp$inline_1545$$;
      break a;
    }
    -1 < $i$jscomp$265_suggestedPivot$$ ? ($msg$jscomp$35$$.$l$ = $i$jscomp$265_suggestedPivot$$, $msg$jscomp$35$$.$b$ = null) : $msg$jscomp$35$$.$l$ = Number.MAX_VALUE;
  }
  $msg$jscomp$35$$.$D$ = {};
  if ($repeatedFields$$) {
    for ($i$jscomp$265_suggestedPivot$$ = 0; $i$jscomp$265_suggestedPivot$$ < $repeatedFields$$.length; $i$jscomp$265_suggestedPivot$$++) {
      $data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$ = $repeatedFields$$[$i$jscomp$265_suggestedPivot$$], $data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$ < $msg$jscomp$35$$.$l$ ? ($data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$ += $msg$jscomp$35$$.$o$, $msg$jscomp$35$$.$f$[$data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$] = $msg$jscomp$35$$.$f$[$data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$] || 
      $jspb$Message$EMPTY_LIST_SENTINEL_$$) : $msg$jscomp$35$$.$b$[$data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$] = $msg$jscomp$35$$.$b$[$data$jscomp$65_fieldNumber$jscomp$3_foundIndex$jscomp$inline_1544_index$jscomp$77$$] || $jspb$Message$EMPTY_LIST_SENTINEL_$$;
    }
  }
}, $jspb$Message$EMPTY_LIST_SENTINEL_$$ = Object.freeze ? Object.freeze([]) : [], $jspb$Message$serializeBinaryExtensions$$ = function($proto$jscomp$6$$, $writer$jscomp$1$$, $extensions$jscomp$1$$, $getExtensionFn$jscomp$1$$) {
  for (var $fieldNumber$jscomp$5$$ in $extensions$jscomp$1$$) {
    var $binaryFieldInfo$$ = $extensions$jscomp$1$$[$fieldNumber$jscomp$5$$], $fieldInfo$jscomp$2$$ = $binaryFieldInfo$$.$fieldInfo$;
    if (!$binaryFieldInfo$$.$binaryWriterFn$) {
      throw Error("Message extension present that was generated without binary serialization support");
    }
    var $value$jscomp$315$$ = $getExtensionFn$jscomp$1$$.call($proto$jscomp$6$$, $fieldInfo$jscomp$2$$);
    if (null != $value$jscomp$315$$) {
      if ($fieldInfo$jscomp$2$$.$isMessageType$()) {
        if ($binaryFieldInfo$$.$binaryMessageSerializeFn$) {
          $binaryFieldInfo$$.$binaryWriterFn$.call($writer$jscomp$1$$, $fieldInfo$jscomp$2$$.$fieldIndex$, $value$jscomp$315$$, $binaryFieldInfo$$.$binaryMessageSerializeFn$);
        } else {
          throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");
        }
      } else {
        $binaryFieldInfo$$.$binaryWriterFn$.call($writer$jscomp$1$$, $fieldInfo$jscomp$2$$.$fieldIndex$, $value$jscomp$315$$);
      }
    }
  }
}, $jspb$Message$getField$$ = function($msg$jscomp$39$$, $fieldNumber$jscomp$6_index$jscomp$78$$) {
  if ($fieldNumber$jscomp$6_index$jscomp$78$$ < $msg$jscomp$39$$.$l$) {
    $fieldNumber$jscomp$6_index$jscomp$78$$ += $msg$jscomp$39$$.$o$;
    var $val$jscomp$42$$ = $msg$jscomp$39$$.$f$[$fieldNumber$jscomp$6_index$jscomp$78$$];
    return $val$jscomp$42$$ === $jspb$Message$EMPTY_LIST_SENTINEL_$$ ? $msg$jscomp$39$$.$f$[$fieldNumber$jscomp$6_index$jscomp$78$$] = [] : $val$jscomp$42$$;
  }
  $val$jscomp$42$$ = $msg$jscomp$39$$.$b$[$fieldNumber$jscomp$6_index$jscomp$78$$];
  return $val$jscomp$42$$ === $jspb$Message$EMPTY_LIST_SENTINEL_$$ ? $msg$jscomp$39$$.$b$[$fieldNumber$jscomp$6_index$jscomp$78$$] = [] : $val$jscomp$42$$;
}, $jspb$Message$getOptionalFloatingPointField$$ = function($msg$jscomp$40_value$jscomp$317$$, $fieldNumber$jscomp$7$$) {
  $msg$jscomp$40_value$jscomp$317$$ = $jspb$Message$getField$$($msg$jscomp$40_value$jscomp$317$$, $fieldNumber$jscomp$7$$);
  return null == $msg$jscomp$40_value$jscomp$317$$ ? $msg$jscomp$40_value$jscomp$317$$ : +$msg$jscomp$40_value$jscomp$317$$;
}, $jspb$Message$bytesAsU8$$ = function($value$jscomp$319$$) {
  if (null == $value$jscomp$319$$ || $value$jscomp$319$$ instanceof Uint8Array) {
    return $value$jscomp$319$$;
  }
  if ($goog$isString$$($value$jscomp$319$$)) {
    return $goog$crypt$base64$decodeStringToUint8Array$$($value$jscomp$319$$);
  }
  $goog$asserts$fail$$("Cannot coerce to Uint8Array: " + $goog$typeOf$$($value$jscomp$319$$));
  return null;
}, $jspb$Message$bytesListAsU8$$ = function($value$jscomp$321$$) {
  $jspb$Message$assertConsistentTypes_$$($value$jscomp$321$$);
  return !$value$jscomp$321$$.length || $value$jscomp$321$$[0] instanceof Uint8Array ? $value$jscomp$321$$ : $goog$array$map$$($value$jscomp$321$$, $jspb$Message$bytesAsU8$$);
}, $jspb$Message$assertConsistentTypes_$$ = function($array$jscomp$16$$) {
  if ($array$jscomp$16$$ && 1 < $array$jscomp$16$$.length) {
    var $expected$$ = $goog$typeOf$$($array$jscomp$16$$[0]);
    $goog$array$forEach$$($array$jscomp$16$$, function($array$jscomp$16$$) {
      $goog$typeOf$$($array$jscomp$16$$) != $expected$$ && $goog$asserts$fail$$("Inconsistent type in JSPB repeated field array. Got " + $goog$typeOf$$($array$jscomp$16$$) + " expected " + $expected$$);
    });
  }
}, $jspb$Message$getFieldWithDefault$$ = function($msg$jscomp$42_value$jscomp$322$$, $fieldNumber$jscomp$9$$, $defaultValue$jscomp$4$$) {
  $msg$jscomp$42_value$jscomp$322$$ = $jspb$Message$getField$$($msg$jscomp$42_value$jscomp$322$$, $fieldNumber$jscomp$9$$);
  return null == $msg$jscomp$42_value$jscomp$322$$ ? $defaultValue$jscomp$4$$ : $msg$jscomp$42_value$jscomp$322$$;
}, $jspb$Message$setField$$ = function($msg$jscomp$44$$, $fieldNumber$jscomp$11$$, $value$jscomp$323$$) {
  $fieldNumber$jscomp$11$$ < $msg$jscomp$44$$.$l$ ? $msg$jscomp$44$$.$f$[$fieldNumber$jscomp$11$$ + $msg$jscomp$44$$.$o$] = $value$jscomp$323$$ : $msg$jscomp$44$$.$b$[$fieldNumber$jscomp$11$$] = $value$jscomp$323$$;
}, $jspb$Message$getWrapperField$$ = function($msg$jscomp$48$$, $ctor$jscomp$4$$, $fieldNumber$jscomp$15$$, $opt_required$$) {
  $msg$jscomp$48$$.$a$ || ($msg$jscomp$48$$.$a$ = {});
  if (!$msg$jscomp$48$$.$a$[$fieldNumber$jscomp$15$$]) {
    var $data$jscomp$66$$ = $jspb$Message$getField$$($msg$jscomp$48$$, $fieldNumber$jscomp$15$$);
    if ($opt_required$$ || $data$jscomp$66$$) {
      $msg$jscomp$48$$.$a$[$fieldNumber$jscomp$15$$] = new $ctor$jscomp$4$$($data$jscomp$66$$);
    }
  }
  return $msg$jscomp$48$$.$a$[$fieldNumber$jscomp$15$$];
}, $jspb$Message$getRepeatedWrapperField$$ = function($msg$jscomp$49$$, $ctor$jscomp$5_val$jscomp$43$$, $fieldNumber$jscomp$16$$) {
  $jspb$Message$wrapRepeatedField_$$($msg$jscomp$49$$, $ctor$jscomp$5_val$jscomp$43$$, $fieldNumber$jscomp$16$$);
  $ctor$jscomp$5_val$jscomp$43$$ = $msg$jscomp$49$$.$a$[$fieldNumber$jscomp$16$$];
  $ctor$jscomp$5_val$jscomp$43$$ == $jspb$Message$EMPTY_LIST_SENTINEL_$$ && ($ctor$jscomp$5_val$jscomp$43$$ = $msg$jscomp$49$$.$a$[$fieldNumber$jscomp$16$$] = []);
  return $ctor$jscomp$5_val$jscomp$43$$;
}, $jspb$Message$wrapRepeatedField_$$ = function($msg$jscomp$50$$, $ctor$jscomp$6$$, $fieldNumber$jscomp$17$$) {
  $msg$jscomp$50$$.$a$ || ($msg$jscomp$50$$.$a$ = {});
  if (!$msg$jscomp$50$$.$a$[$fieldNumber$jscomp$17$$]) {
    for (var $data$jscomp$67$$ = $jspb$Message$getField$$($msg$jscomp$50$$, $fieldNumber$jscomp$17$$), $wrappers$$ = [], $i$jscomp$268$$ = 0; $i$jscomp$268$$ < $data$jscomp$67$$.length; $i$jscomp$268$$++) {
      $wrappers$$[$i$jscomp$268$$] = new $ctor$jscomp$6$$($data$jscomp$67$$[$i$jscomp$268$$]);
    }
    $msg$jscomp$50$$.$a$[$fieldNumber$jscomp$17$$] = $wrappers$$;
  }
}, $jspb$Message$setWrapperField$$ = function($msg$jscomp$51$$, $fieldNumber$jscomp$18$$, $value$jscomp$327$$) {
  $msg$jscomp$51$$.$a$ || ($msg$jscomp$51$$.$a$ = {});
  var $data$jscomp$68$$ = $value$jscomp$327$$ ? $JSCompiler_StaticMethods_toArray$$($value$jscomp$327$$) : $value$jscomp$327$$;
  $msg$jscomp$51$$.$a$[$fieldNumber$jscomp$18$$] = $value$jscomp$327$$;
  $jspb$Message$setField$$($msg$jscomp$51$$, $fieldNumber$jscomp$18$$, $data$jscomp$68$$);
}, $jspb$Message$setRepeatedWrapperField$$ = function($msg$jscomp$53$$, $fieldNumber$jscomp$20$$, $value$jscomp$329$$) {
  $msg$jscomp$53$$.$a$ || ($msg$jscomp$53$$.$a$ = {});
  $value$jscomp$329$$ = $value$jscomp$329$$ || [];
  for (var $data$jscomp$70$$ = [], $i$jscomp$269$$ = 0; $i$jscomp$269$$ < $value$jscomp$329$$.length; $i$jscomp$269$$++) {
    $data$jscomp$70$$[$i$jscomp$269$$] = $JSCompiler_StaticMethods_toArray$$($value$jscomp$329$$[$i$jscomp$269$$]);
  }
  $msg$jscomp$53$$.$a$[$fieldNumber$jscomp$20$$] = $value$jscomp$329$$;
  $jspb$Message$setField$$($msg$jscomp$53$$, $fieldNumber$jscomp$20$$, $data$jscomp$70$$);
}, $jspb$Message$addToRepeatedWrapperField$$ = function($array$jscomp$17_msg$jscomp$54$$, $fieldNumber$jscomp$21$$, $insertedValue_value$jscomp$330$$, $ctor$jscomp$7$$) {
  $jspb$Message$wrapRepeatedField_$$($array$jscomp$17_msg$jscomp$54$$, $ctor$jscomp$7$$, $fieldNumber$jscomp$21$$);
  var $wrapperArray$$ = $array$jscomp$17_msg$jscomp$54$$.$a$[$fieldNumber$jscomp$21$$];
  $wrapperArray$$ || ($wrapperArray$$ = $array$jscomp$17_msg$jscomp$54$$.$a$[$fieldNumber$jscomp$21$$] = []);
  $insertedValue_value$jscomp$330$$ = $insertedValue_value$jscomp$330$$ ? $insertedValue_value$jscomp$330$$ : new $ctor$jscomp$7$$;
  $array$jscomp$17_msg$jscomp$54$$ = $jspb$Message$getField$$($array$jscomp$17_msg$jscomp$54$$, $fieldNumber$jscomp$21$$);
  $wrapperArray$$.push($insertedValue_value$jscomp$330$$);
  $array$jscomp$17_msg$jscomp$54$$.push($JSCompiler_StaticMethods_toArray$$($insertedValue_value$jscomp$330$$));
}, $JSCompiler_StaticMethods_syncMapFields_$$ = function($JSCompiler_StaticMethods_syncMapFields_$self$$) {
  if ($JSCompiler_StaticMethods_syncMapFields_$self$$.$a$) {
    for (var $fieldNumber$jscomp$22$$ in $JSCompiler_StaticMethods_syncMapFields_$self$$.$a$) {
      var $val$jscomp$44$$ = $JSCompiler_StaticMethods_syncMapFields_$self$$.$a$[$fieldNumber$jscomp$22$$];
      if ($goog$isArray$$($val$jscomp$44$$)) {
        for (var $i$jscomp$271$$ = 0; $i$jscomp$271$$ < $val$jscomp$44$$.length; $i$jscomp$271$$++) {
          $val$jscomp$44$$[$i$jscomp$271$$] && $JSCompiler_StaticMethods_toArray$$($val$jscomp$44$$[$i$jscomp$271$$]);
        }
      } else {
        $val$jscomp$44$$ && $JSCompiler_StaticMethods_toArray$$($val$jscomp$44$$);
      }
    }
  }
}, $JSCompiler_StaticMethods_toArray$$ = function($JSCompiler_StaticMethods_toArray$self$$) {
  $JSCompiler_StaticMethods_syncMapFields_$$($JSCompiler_StaticMethods_toArray$self$$);
  return $JSCompiler_StaticMethods_toArray$self$$.$f$;
};
$jspb$Message$$.prototype.$serialize$ = $jspb$Message$SUPPORTS_UINT8ARRAY_$$ ? function() {
  var $old_toJSON$$ = Uint8Array.prototype.toJSON;
  Uint8Array.prototype.toJSON = function() {
    return $goog$crypt$base64$encodeByteArray$$(this);
  };
  try {
    var $result$jscomp$75$$ = JSON.stringify($JSCompiler_StaticMethods_toArray$$(this), $jspb$Message$serializeSpecialNumbers_$$);
  } finally {
    Uint8Array.prototype.toJSON = $old_toJSON$$;
  }
  return $result$jscomp$75$$;
} : function() {
  return JSON.stringify($JSCompiler_StaticMethods_toArray$$(this), $jspb$Message$serializeSpecialNumbers_$$);
};
var $jspb$Message$serializeSpecialNumbers_$$ = function($key$jscomp$149$$, $value$jscomp$331$$) {
  if ($goog$isNumber$$($value$jscomp$331$$)) {
    if (isNaN($value$jscomp$331$$)) {
      return "NaN";
    }
    if (Infinity === $value$jscomp$331$$) {
      return "Infinity";
    }
    if (-Infinity === $value$jscomp$331$$) {
      return "-Infinity";
    }
  }
  return $value$jscomp$331$$;
}, $jspb$Message$buildMessageFromArray$$ = function($data$jscomp$72$$) {
  var $messageCtor$$ = $jspb$Message$registry_$$[$data$jscomp$72$$[0]];
  if (!$messageCtor$$) {
    throw Error("Unknown JsPb message type: " + $data$jscomp$72$$[0]);
  }
  return new $messageCtor$$($data$jscomp$72$$);
};
$jspb$Message$$.prototype.toString = function() {
  $JSCompiler_StaticMethods_syncMapFields_$$(this);
  return this.$f$.toString();
};
$jspb$Message$$.prototype.$w$ = function($fieldInfo$jscomp$4$$) {
  if (this.$b$) {
    this.$a$ || (this.$a$ = {});
    var $fieldNumber$jscomp$23$$ = $fieldInfo$jscomp$4$$.$fieldIndex$;
    if ($fieldInfo$jscomp$4$$.$b$) {
      if ($fieldInfo$jscomp$4$$.$isMessageType$()) {
        return this.$a$[$fieldNumber$jscomp$23$$] || (this.$a$[$fieldNumber$jscomp$23$$] = $goog$array$map$$(this.$b$[$fieldNumber$jscomp$23$$] || [], function($fieldNumber$jscomp$23$$) {
          return new $fieldInfo$jscomp$4$$.$a$($fieldNumber$jscomp$23$$);
        })), this.$a$[$fieldNumber$jscomp$23$$];
      }
    } else {
      if ($fieldInfo$jscomp$4$$.$isMessageType$()) {
        return !this.$a$[$fieldNumber$jscomp$23$$] && this.$b$[$fieldNumber$jscomp$23$$] && (this.$a$[$fieldNumber$jscomp$23$$] = new $fieldInfo$jscomp$4$$.$a$(this.$b$[$fieldNumber$jscomp$23$$])), this.$a$[$fieldNumber$jscomp$23$$];
      }
    }
    return this.$b$[$fieldNumber$jscomp$23$$];
  }
};
var $jspb$Message$compareExtensions$$ = function($extension1$$, $extension2$$) {
  $extension1$$ = $extension1$$ || {};
  $extension2$$ = $extension2$$ || {};
  var $keys$jscomp$16$$ = {}, $name$jscomp$168$$;
  for ($name$jscomp$168$$ in $extension1$$) {
    $keys$jscomp$16$$[$name$jscomp$168$$] = 0;
  }
  for ($name$jscomp$168$$ in $extension2$$) {
    $keys$jscomp$16$$[$name$jscomp$168$$] = 0;
  }
  for ($name$jscomp$168$$ in $keys$jscomp$16$$) {
    if (!$jspb$Message$compareFields$$($extension1$$[$name$jscomp$168$$], $extension2$$[$name$jscomp$168$$])) {
      return !1;
    }
  }
  return !0;
}, $jspb$Message$compareFields$$ = function($field1$$, $field2$$) {
  if ($field1$$ == $field2$$) {
    return !0;
  }
  if (!$goog$isObject$$($field1$$) || !$goog$isObject$$($field2$$) || $field1$$.constructor != $field2$$.constructor) {
    return !1;
  }
  if ($jspb$Message$SUPPORTS_UINT8ARRAY_$$ && $field1$$.constructor === Uint8Array) {
    if ($field1$$.length != $field2$$.length) {
      return !1;
    }
    for (var $i$jscomp$273$$ = 0; $i$jscomp$273$$ < $field1$$.length; $i$jscomp$273$$++) {
      if ($field1$$[$i$jscomp$273$$] != $field2$$[$i$jscomp$273$$]) {
        return !1;
      }
    }
    return !0;
  }
  if ($field1$$.constructor === Array) {
    for (var $extension1$jscomp$1$$ = void 0, $extension2$jscomp$1$$ = void 0, $length$jscomp$41$$ = Math.max($field1$$.length, $field2$$.length), $i$jscomp$273$$ = 0; $i$jscomp$273$$ < $length$jscomp$41$$; $i$jscomp$273$$++) {
      var $val1$$ = $field1$$[$i$jscomp$273$$], $val2$$ = $field2$$[$i$jscomp$273$$];
      $val1$$ && $val1$$.constructor == Object && ($goog$asserts$assert$$(void 0 === $extension1$jscomp$1$$), $goog$asserts$assert$$($i$jscomp$273$$ === $field1$$.length - 1), $extension1$jscomp$1$$ = $val1$$, $val1$$ = void 0);
      $val2$$ && $val2$$.constructor == Object && ($goog$asserts$assert$$(void 0 === $extension2$jscomp$1$$), $goog$asserts$assert$$($i$jscomp$273$$ === $field2$$.length - 1), $extension2$jscomp$1$$ = $val2$$, $val2$$ = void 0);
      if (!$jspb$Message$compareFields$$($val1$$, $val2$$)) {
        return !1;
      }
    }
    return $extension1$jscomp$1$$ || $extension2$jscomp$1$$ ? ($extension1$jscomp$1$$ = $extension1$jscomp$1$$ || {}, $extension2$jscomp$1$$ = $extension2$jscomp$1$$ || {}, $jspb$Message$compareExtensions$$($extension1$jscomp$1$$, $extension2$jscomp$1$$)) : !0;
  }
  if ($field1$$.constructor === Object) {
    return $jspb$Message$compareExtensions$$($field1$$, $field2$$);
  }
  throw Error("Invalid type in JSPB array");
};
$jspb$Message$$.prototype.clone = function() {
  return $jspb$Message$cloneMessage$$(this);
};
var $jspb$Message$cloneMessage$$ = function($msg$jscomp$58$$) {
  return new $msg$jscomp$58$$.constructor($jspb$Message$clone_$$($JSCompiler_StaticMethods_toArray$$($msg$jscomp$58$$)));
}, $jspb$Message$clone_$$ = function($obj$jscomp$104$$) {
  var $o$jscomp$12$$;
  if ($goog$isArray$$($obj$jscomp$104$$)) {
    for (var $clone$jscomp$3_clonedArray$$ = Array($obj$jscomp$104$$.length), $i$jscomp$275_key$jscomp$150$$ = 0; $i$jscomp$275_key$jscomp$150$$ < $obj$jscomp$104$$.length; $i$jscomp$275_key$jscomp$150$$++) {
      null != ($o$jscomp$12$$ = $obj$jscomp$104$$[$i$jscomp$275_key$jscomp$150$$]) && ($clone$jscomp$3_clonedArray$$[$i$jscomp$275_key$jscomp$150$$] = "object" == typeof $o$jscomp$12$$ ? $jspb$Message$clone_$$($o$jscomp$12$$) : $o$jscomp$12$$);
    }
    return $clone$jscomp$3_clonedArray$$;
  }
  if ($jspb$Message$SUPPORTS_UINT8ARRAY_$$ && $obj$jscomp$104$$ instanceof Uint8Array) {
    return new Uint8Array($obj$jscomp$104$$);
  }
  $clone$jscomp$3_clonedArray$$ = {};
  for ($i$jscomp$275_key$jscomp$150$$ in $obj$jscomp$104$$) {
    null != ($o$jscomp$12$$ = $obj$jscomp$104$$[$i$jscomp$275_key$jscomp$150$$]) && ($clone$jscomp$3_clonedArray$$[$i$jscomp$275_key$jscomp$150$$] = "object" == typeof $o$jscomp$12$$ ? $jspb$Message$clone_$$($o$jscomp$12$$) : $o$jscomp$12$$);
  }
  return $clone$jscomp$3_clonedArray$$;
}, $jspb$Message$registerMessageType$$ = function($id$jscomp$69$$, $constructor$jscomp$4$$) {
  $jspb$Message$registry_$$[$id$jscomp$69$$] = $constructor$jscomp$4$$;
  $constructor$jscomp$4$$.messageId = $id$jscomp$69$$;
}, $jspb$Message$registry_$$ = {};
var $proto$chat$frontend$hangouts$SyncMetadata$$ = function($opt_data$jscomp$16$$) {
  $jspb$Message$initialize$$(this, $opt_data$jscomp$16$$, 0, -1, null);
};
$goog$inherits$$($proto$chat$frontend$hangouts$SyncMetadata$$, $jspb$Message$$);
$proto$chat$frontend$hangouts$SyncMetadata$$.prototype.$serializeBinary$ = function() {
  var $writer$jscomp$2$$ = new $jspb$BinaryWriter$$;
  $proto$chat$frontend$hangouts$SyncMetadata$serializeBinaryToWriter$$(this, $writer$jscomp$2$$);
  return $JSCompiler_StaticMethods_getResultBuffer$$($writer$jscomp$2$$);
};
var $proto$chat$frontend$hangouts$SyncMetadata$serializeBinaryToWriter$$ = function($message$jscomp$137$$, $writer$jscomp$3$$) {
  var $f$jscomp$66$$ = $jspb$Message$getField$$($message$jscomp$137$$, 1);
  null != $f$jscomp$66$$ && $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$$($writer$jscomp$3$$, 1, $f$jscomp$66$$);
  $f$jscomp$66$$ = $jspb$Message$getField$$($message$jscomp$137$$, 2);
  null != $f$jscomp$66$$ && $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$$($writer$jscomp$3$$, 2, $f$jscomp$66$$);
  $f$jscomp$66$$ = $jspb$Message$getWrapperField$$($message$jscomp$137$$, $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$$, 3);
  null != $f$jscomp$66$$ && $JSCompiler_StaticMethods_writeMessage$$($writer$jscomp$3$$, 3, $f$jscomp$66$$, $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$serializeBinaryToWriter$$);
}, $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$$ = function($opt_data$jscomp$17$$) {
  $jspb$Message$initialize$$(this, $opt_data$jscomp$17$$, 0, -1, null);
};
$goog$inherits$$($proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$$, $jspb$Message$$);
$proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$$.prototype.$serializeBinary$ = function() {
  var $writer$jscomp$4$$ = new $jspb$BinaryWriter$$;
  $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$serializeBinaryToWriter$$(this, $writer$jscomp$4$$);
  return $JSCompiler_StaticMethods_getResultBuffer$$($writer$jscomp$4$$);
};
var $proto$chat$frontend$hangouts$SyncMetadata$HangoutCookie$serializeBinaryToWriter$$ = function($message$jscomp$138$$, $writer$jscomp$5$$) {
  var $f$jscomp$68$$ = $jspb$Message$getField$$($message$jscomp$138$$, 1);
  null != $f$jscomp$68$$ && $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeString$$($writer$jscomp$5$$, 1, $f$jscomp$68$$);
  $f$jscomp$68$$ = $jspb$Message$getField$$($message$jscomp$138$$, 2);
  null != $f$jscomp$68$$ && $JSCompiler_StaticMethods_jspb_BinaryWriter_prototype$writeInt64$$($writer$jscomp$5$$, 2, $f$jscomp$68$$);
};
$proto$chat$frontend$hangouts$SyncMetadata$$.prototype.$getVersion$ = function() {
  return $jspb$Message$getField$$(this, 1);
};
var $realtime$network$CookieStorage$$ = function() {
  this.$a$ = null;
}, $JSCompiler_StaticMethods_updateFromHangoutCookie_$$ = function($JSCompiler_StaticMethods_updateFromHangoutCookie_$self$$, $hangoutCookie$jscomp$2$$) {
  if (!$JSCompiler_StaticMethods_updateFromHangoutCookie_$self$$.$a$ || $jspb$Message$getField$$($JSCompiler_StaticMethods_updateFromHangoutCookie_$self$$.$a$, 2) < $jspb$Message$getField$$($hangoutCookie$jscomp$2$$, 2)) {
    $JSCompiler_StaticMethods_updateFromHangoutCookie_$self$$.$a$ = $jspb$Message$cloneMessage$$($hangoutCookie$jscomp$2$$);
  }
}, $JSCompiler_StaticMethods_getAsMeetingToken$$ = function($JSCompiler_StaticMethods_getAsMeetingToken$self$$) {
  return $JSCompiler_StaticMethods_getAsMeetingToken$self$$.$a$ ? $jspb$Message$getField$$($JSCompiler_StaticMethods_getAsMeetingToken$self$$.$a$, 2) + ";" + $jspb$Message$getField$$($JSCompiler_StaticMethods_getAsMeetingToken$self$$.$a$, 1) : null;
};
var $module$exports$mr$cloud$turn$CredentialService$$ = function() {
  this.$logger_$ = $mr$Logger$getInstance$$("mr.cloud.CredentialService");
}, $JSCompiler_StaticMethods_getCredentials$$ = function($JSCompiler_StaticMethods_getCredentials$self$$) {
  var $resolver$jscomp$18$$ = new $mr$PromiseResolver$$, $url$jscomp$95$$ = $mr$cloud$TURN_CREDS_CONFIG$$.$a$ + "/iceconfig?key=" + $mr$cloud$TURN_CREDS_CONFIG$$.$b$;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getCredentials$self$$.$logger_$, "Requesting TURN credentials from " + $url$jscomp$95$$);
  var $xhr$jscomp$11$$ = $goog$net$XhrIo$send$$($url$jscomp$95$$, function() {
    $JSCompiler_StaticMethods_isSuccess$$($xhr$jscomp$11$$) ? ($JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_getCredentials$self$$.$logger_$, "Got TURN credentials: " + $JSCompiler_StaticMethods_getResponseText$$($xhr$jscomp$11$$)), $resolver$jscomp$18$$.resolve($JSCompiler_StaticMethods_onHttpCallComplete_$$($JSCompiler_StaticMethods_getCredentials$self$$, $JSCompiler_StaticMethods_getResponseJson$$($xhr$jscomp$11$$)))) : $resolver$jscomp$18$$.resolve($JSCompiler_StaticMethods_onHttpCallFailed_$$($JSCompiler_StaticMethods_getCredentials$self$$));
  }, "POST", void 0, {"Content-Type":"application/json"});
  return $resolver$jscomp$18$$.$a$;
}, $JSCompiler_StaticMethods_onHttpCallComplete_$$ = function($JSCompiler_StaticMethods_onHttpCallComplete_$self$$, $response$jscomp$21$$) {
  try {
    $goog$asserts$assertObject$$($response$jscomp$21$$);
    var $result$jscomp$76$$ = [];
    $goog$asserts$assertArray$$($response$jscomp$21$$.iceServers).forEach(function($JSCompiler_StaticMethods_onHttpCallComplete_$self$$) {
      $goog$asserts$assertArray$$($JSCompiler_StaticMethods_onHttpCallComplete_$self$$.urls).forEach(function($response$jscomp$21$$) {
        0 == $response$jscomp$21$$.indexOf("turn:") && $result$jscomp$76$$.push({url:$goog$asserts$assertString$$($response$jscomp$21$$), credential:$goog$asserts$assertString$$($JSCompiler_StaticMethods_onHttpCallComplete_$self$$.credential), username:$goog$asserts$assertString$$($JSCompiler_StaticMethods_onHttpCallComplete_$self$$.username)});
      });
    });
    return $result$jscomp$76$$;
  } catch ($e$jscomp$83$$) {
    return $JSCompiler_StaticMethods_onHttpCallComplete_$self$$.$logger_$.error("Error parsing TURN credentials.", $e$jscomp$83$$), [];
  }
}, $JSCompiler_StaticMethods_onHttpCallFailed_$$ = function($JSCompiler_StaticMethods_onHttpCallFailed_$self$$) {
  $JSCompiler_StaticMethods_onHttpCallFailed_$self$$.$logger_$.error("XHR failed fetching TURN credentials.", null);
  return [];
};
var $mr$cloud$CloudComponentProvider$$ = function() {
  this.$o$ = this.$H$ = this.$F$ = this.$D$ = this.$B$ = this.$l$ = this.$A$ = this.$h$ = this.$b$ = this.$j$ = this.$g$ = this.$f$ = this.$w$ = this.$a$ = null;
}, $JSCompiler_StaticMethods_getCookieStorage$$ = function() {
  var $JSCompiler_StaticMethods_getCookieStorage$self$$ = $mr$cloud$CloudComponentProvider$$.$getInstance$();
  null == $JSCompiler_StaticMethods_getCookieStorage$self$$.$o$ && ($JSCompiler_StaticMethods_getCookieStorage$self$$.$o$ = new $realtime$network$CookieStorage$$);
  return $JSCompiler_StaticMethods_getCookieStorage$self$$.$o$;
}, $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$ = function($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$self$$) {
  null == $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$self$$.$a$ && ($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$self$$.$a$ = new $mr$cloud$identity$IdentityService$$);
  return $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$self$$.$a$;
}, $JSCompiler_StaticMethods_getGapiService$$ = function($JSCompiler_StaticMethods_getGapiService$self$$) {
  null == $JSCompiler_StaticMethods_getGapiService$self$$.$w$ && ($JSCompiler_StaticMethods_getGapiService$self$$.$w$ = new $mr$cloud$gapi$GapiService$$($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($JSCompiler_StaticMethods_getGapiService$self$$)));
  return $JSCompiler_StaticMethods_getGapiService$self$$.$w$;
}, $JSCompiler_StaticMethods_getGcdMessageSender$$ = function($JSCompiler_StaticMethods_getGcdMessageSender$self$$) {
  null == $JSCompiler_StaticMethods_getGcdMessageSender$self$$.$A$ && ($JSCompiler_StaticMethods_getGcdMessageSender$self$$.$A$ = new $mr$cloud$messaging$gcd$MessageSender$$($JSCompiler_StaticMethods_getGapiService$$($JSCompiler_StaticMethods_getGcdMessageSender$self$$)));
  return $JSCompiler_StaticMethods_getGcdMessageSender$self$$.$A$;
};
$goog$addSingletonGetter$$($mr$cloud$CloudComponentProvider$$);
var $mr$CloudProvider$$ = function($providerManagerCallbacks$jscomp$5$$) {
  this.$a$ = $providerManagerCallbacks$jscomp$5$$;
  this.$b$ = new Map;
  this.$D$ = new Map;
  this.$w$ = [];
  this.$h$ = this.$H$ = this.$B$ = this.$F$ = this.$j$ = null;
  this.$l$ = this.$g$ = this.$f$ = !1;
  this.$A$ = new Map;
  this.$o$ = new Map;
  $mr$PersistentDataManager$register$$(this);
};
$mr$CloudProvider$$.prototype.getName = function() {
  return "cloud";
};
$mr$CloudProvider$$.prototype.$initialize$ = function() {
  var $$jscomp$this$jscomp$135$$ = this;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Initializing Cloud MRP");
  var $componentProvider$$ = $mr$cloud$CloudComponentProvider$$.$getInstance$();
  null == $componentProvider$$.$g$ && (null == $componentProvider$$.$f$ && ($componentProvider$$.$f$ = new $mr$cloud$devices$CloudDevicesService$$($JSCompiler_StaticMethods_getGapiService$$($componentProvider$$))), $componentProvider$$.$g$ = new $mr$cloud$discovery$CloudSinkDiscoveryService$$($componentProvider$$.$f$, this));
  this.$w$.push($componentProvider$$.$g$);
  if (null == $componentProvider$$.$h$) {
    null == $componentProvider$$.$b$ && ($componentProvider$$.$b$ = new $mr$cloud$calendar$CalendarService$$($JSCompiler_StaticMethods_getGapiService$$($componentProvider$$), $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$)));
    var $JSCompiler_temp_const$jscomp$4169_JSCompiler_temp_const$jscomp$4172_JSCompiler_temp_const$jscomp$5081$$ = $componentProvider$$.$b$;
    null == $componentProvider$$.$j$ && ($componentProvider$$.$j$ = new $mr$cloud$mesi$MesiService$$($JSCompiler_StaticMethods_getGapiService$$($componentProvider$$)));
    $componentProvider$$.$h$ = new $mr$cloud$discovery$HangoutSinkDiscoveryService$$($JSCompiler_temp_const$jscomp$4169_JSCompiler_temp_const$jscomp$4172_JSCompiler_temp_const$jscomp$5081$$, $componentProvider$$.$j$, this);
  }
  this.$j$ = $componentProvider$$.$h$;
  this.$w$.push(this.$j$);
  this.$F$ = $JSCompiler_StaticMethods_getGcdMessageSender$$($componentProvider$$);
  this.$B$ = $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$);
  if (null == $componentProvider$$.$D$) {
    if (null == $componentProvider$$.$l$) {
      $JSCompiler_temp_const$jscomp$4169_JSCompiler_temp_const$jscomp$4172_JSCompiler_temp_const$jscomp$5081$$ = $JSCompiler_StaticMethods_getGcdMessageSender$$($componentProvider$$);
      var $JSCompiler_temp_const$jscomp$5080$$ = $JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$);
      null == $componentProvider$$.$H$ && ($componentProvider$$.$H$ = new $module$exports$mr$cloud$turn$CredentialService$$($JSCompiler_StaticMethods_getGapiService$$($componentProvider$$)));
      $componentProvider$$.$l$ = new $mr$cloud$messaging$CloudMessageHandler$$($JSCompiler_temp_const$jscomp$4169_JSCompiler_temp_const$jscomp$4172_JSCompiler_temp_const$jscomp$5081$$, $JSCompiler_temp_const$jscomp$5080$$, $componentProvider$$.$H$, this);
    }
    $JSCompiler_temp_const$jscomp$4169_JSCompiler_temp_const$jscomp$4172_JSCompiler_temp_const$jscomp$5081$$ = $componentProvider$$.$l$;
    null == $componentProvider$$.$B$ && ($componentProvider$$.$B$ = new $mr$cloud$messaging$HangoutMessageHandler$$($JSCompiler_StaticMethods_mr_cloud_CloudComponentProvider_prototype$getIdentityService$$($componentProvider$$), this));
    $componentProvider$$.$D$ = new $mr$cloud$messaging$MessageProcessor$$($JSCompiler_temp_const$jscomp$4169_JSCompiler_temp_const$jscomp$4172_JSCompiler_temp_const$jscomp$5081$$, $componentProvider$$.$B$, this);
  }
  this.$H$ = $componentProvider$$.$D$;
  null == $componentProvider$$.$F$ && ($componentProvider$$.$F$ = new $mr$cloud$settings$SettingsService$$);
  this.$h$ = $componentProvider$$.$F$;
  $JSCompiler_StaticMethods_getCloudEnabledSetting$$(this.$h$).then(function($componentProvider$$) {
    $$jscomp$this$jscomp$135$$.$f$ = $componentProvider$$;
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($$jscomp$this$jscomp$135$$.$logger_$, "Cloud enabled setting: " + $$jscomp$this$jscomp$135$$.$f$);
  });
  $JSCompiler_StaticMethods_getCloudOnSetting$$(this.$h$).then(function($componentProvider$$) {
    $$jscomp$this$jscomp$135$$.$g$ = $componentProvider$$;
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($$jscomp$this$jscomp$135$$.$logger_$, "Cloud on setting: " + $$jscomp$this$jscomp$135$$.$g$);
  });
  $JSCompiler_StaticMethods_setOnCloudSettingChangedCallback$$(this.$h$, function($componentProvider$$) {
    $$jscomp$this$jscomp$135$$.$f$ = $componentProvider$$;
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($$jscomp$this$jscomp$135$$.$logger_$, "Cloud enabled setting: " + $$jscomp$this$jscomp$135$$.$f$);
    $$jscomp$this$jscomp$135$$.$f$ && $JSCompiler_StaticMethods_initiateSinkDiscovery_$$($$jscomp$this$jscomp$135$$);
  });
  $JSCompiler_StaticMethods_getNotifiedHangoutPrivacySetting$$(this.$h$).then(function($componentProvider$$) {
    $$jscomp$this$jscomp$135$$.$l$ = $componentProvider$$;
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($$jscomp$this$jscomp$135$$.$logger_$, "Privacy notified setting: " + $$jscomp$this$jscomp$135$$.$l$);
  });
};
$mr$CloudProvider$$.prototype.$module$contents$mr$DialProvider_DialProvider_prototype$getRoutes$ = function() {
  return Array.from(this.$b$.values());
};
$mr$CloudProvider$$.prototype.$getAvailableSinks$ = function($sourceUrn$jscomp$74$$) {
  if (!$JSCompiler_StaticMethods_isCloudAllowed_$$(this, $sourceUrn$jscomp$74$$)) {
    return $mr$SinkList$EMPTY$$;
  }
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "GetAvailableSinks for " + $sourceUrn$jscomp$74$$);
  var $cloudSinks$jscomp$1$$ = [];
  if (this.$g$ || $JSCompiler_StaticMethods_shouldCheckForSinks_$$()) {
    $cloudSinks$jscomp$1$$ = $JSCompiler_StaticMethods_initiateSinkDiscovery_$$(this);
  }
  this.$o$.clear();
  for (var $$jscomp$loop$75_mrSinks$$ = {}, $$jscomp$iter$18$$ = $$jscomp$makeIterator$$(this.$A$.values()), $$jscomp$key$routeSink$$ = $$jscomp$iter$18$$.next(); !$$jscomp$key$routeSink$$.done; $$jscomp$loop$75_mrSinks$$ = {$routeSink$:$$jscomp$loop$75_mrSinks$$.$routeSink$, $found$:$$jscomp$loop$75_mrSinks$$.$found$}, $$jscomp$key$routeSink$$ = $$jscomp$iter$18$$.next()) {
    $$jscomp$loop$75_mrSinks$$.$routeSink$ = $$jscomp$key$routeSink$$.value, $$jscomp$loop$75_mrSinks$$.$found$ = !1, $cloudSinks$jscomp$1$$.forEach(function($sourceUrn$jscomp$74$$) {
      return function($cloudSinks$jscomp$1$$) {
        $cloudSinks$jscomp$1$$.$mrSink$.id == $sourceUrn$jscomp$74$$.$routeSink$.$mrSink$.id && ($sourceUrn$jscomp$74$$.$found$ = !0, $cloudSinks$jscomp$1$$.$mrSink$.friendlyName = $sourceUrn$jscomp$74$$.$routeSink$.$mrSink$.friendlyName);
      };
    }($$jscomp$loop$75_mrSinks$$)), $$jscomp$loop$75_mrSinks$$.$found$ || this.$o$.set($$jscomp$loop$75_mrSinks$$.$routeSink$.$mrSink$.id, $$jscomp$loop$75_mrSinks$$.$routeSink$);
  }
  $cloudSinks$jscomp$1$$ = $cloudSinks$jscomp$1$$.concat.apply($cloudSinks$jscomp$1$$, [].concat($$jscomp$arrayFromIterable$$(this.$o$.values())));
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, function() {
    return "Available sinks are..." + JSON.stringify($cloudSinks$jscomp$1$$);
  });
  $$jscomp$loop$75_mrSinks$$ = $cloudSinks$jscomp$1$$.map(function($sourceUrn$jscomp$74$$) {
    return $sourceUrn$jscomp$74$$.$mrSink$;
  });
  this.$j$ && ($$jscomp$loop$75_mrSinks$$ = $$jscomp$loop$75_mrSinks$$.concat($mr$CloudProvider$PSEUDO_SINK_$$));
  return new $mr$SinkList$$($$jscomp$loop$75_mrSinks$$, $mr$MediaSourceUtils$getWhitelistedOrigins$$($sourceUrn$jscomp$74$$));
};
var $JSCompiler_StaticMethods_initiateSinkDiscovery_$$ = function($JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$) {
  var $cloudSinks$jscomp$2$$ = [];
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$.$logger_$, "Checking cloud discovery services");
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$g$ = $goog$now$$();
  $JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$.$w$.forEach(function($JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$) {
    $JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$ = $JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinks$();
    $cloudSinks$jscomp$2$$ = $cloudSinks$jscomp$2$$.concat($JSCompiler_StaticMethods_initiateSinkDiscovery_$self$$);
  });
  return $cloudSinks$jscomp$2$$;
};
$JSCompiler_prototypeAlias$$ = $mr$CloudProvider$$.prototype;
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function() {
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function() {
};
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function() {
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function() {
};
$JSCompiler_prototypeAlias$$.$setDiscoveryEnabled$ = function() {
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$DialProvider_DialProvider_prototype$getSinkById$ = function($cloudSink$jscomp$11_id$jscomp$70$$) {
  return ($cloudSink$jscomp$11_id$jscomp$70$$ = $JSCompiler_StaticMethods_getCloudSinkById_$$(this, $cloudSink$jscomp$11_id$jscomp$70$$)) ? $cloudSink$jscomp$11_id$jscomp$70$$.$mrSink$ : null;
};
$JSCompiler_prototypeAlias$$.createRoute = function($sourceUrn$jscomp$77$$, $sinkId$jscomp$53$$, $presentationId$jscomp$29$$, $offTheRecord$jscomp$12$$, $cloudSink$jscomp$12_existingRoute_timeoutMillis$jscomp$15$$, $opt_origin$jscomp$8$$, $opt_tabId$jscomp$13$$) {
  var $$jscomp$this$jscomp$136$$ = this;
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "createRoute called");
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "urn: " + $sourceUrn$jscomp$77$$ + " sinkId:" + $sinkId$jscomp$53$$);
  if ($cloudSink$jscomp$12_existingRoute_timeoutMillis$jscomp$15$$ = this.$D$.get($sinkId$jscomp$53$$)) {
    return $JSCompiler_StaticMethods_chain$$(this.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$updateMirroring$(this, $cloudSink$jscomp$12_existingRoute_timeoutMillis$jscomp$15$$, $sourceUrn$jscomp$77$$, $presentationId$jscomp$29$$, $opt_tabId$jscomp$13$$, function($sinkId$jscomp$53$$) {
      $sinkId$jscomp$53$$.mediaSource = $sourceUrn$jscomp$77$$;
      $sinkId$jscomp$53$$.$mirrorInitData$.tabId = $opt_tabId$jscomp$13$$;
      return $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$($sinkId$jscomp$53$$);
    }), function($sourceUrn$jscomp$77$$) {
      $$jscomp$this$jscomp$136$$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteUpdated$($$jscomp$this$jscomp$136$$, $sourceUrn$jscomp$77$$);
      return $sourceUrn$jscomp$77$$;
    });
  }
  $cloudSink$jscomp$12_existingRoute_timeoutMillis$jscomp$15$$ = $JSCompiler_StaticMethods_getCloudSinkById_$$(this, $sinkId$jscomp$53$$);
  return $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$$(this, $sourceUrn$jscomp$77$$, $cloudSink$jscomp$12_existingRoute_timeoutMillis$jscomp$15$$, $sinkId$jscomp$53$$, $presentationId$jscomp$29$$, $offTheRecord$jscomp$12$$, $opt_tabId$jscomp$13$$);
};
var $JSCompiler_StaticMethods_createRouteErrorHandler_$$ = function($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$, $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$, $route$jscomp$59$$, $cloudSink$jscomp$13$$, $failReason$$) {
  $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$ instanceof $mr$RouteRequestError$$ && 2 == $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$.errorCode ? $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$, $route$jscomp$59$$, 6, null) : ($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$.$logger_$.error("Error on start session", 
  $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$ instanceof Error ? $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$ : Error("Expected an Error value, got " + $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$)), $JSCompiler_StaticMethods_terminateRouteInternal$$($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$, 
  $route$jscomp$59$$, $failReason$$, new $mr$Issue$$($mr$cloud$Messages$MSG_MR_CONNECT_FAILED$$, "warning")));
  if ($JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$ = $JSCompiler_StaticMethods_createRouteErrorHandler_$self$$.$j$) {
    $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$ = $JSCompiler_StaticMethods_createRouteErrorHandler_$self$$.$j$, $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$.$b$.delete($cloudSink$jscomp$13$$.deviceId) ? ($JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$.$a$.$a$.delete($cloudSink$jscomp$13$$.$mrSink$.id), 
    $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$ = !0) : $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$ = !1;
  }
  $JSCompiler_StaticMethods_removeIfManualSink$self$jscomp$inline_1565_JSCompiler_temp$jscomp$178_err$jscomp$32$$ && $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$($JSCompiler_StaticMethods_createRouteErrorHandler_$self$$, [$cloudSink$jscomp$13$$.$mrSink$]);
}, $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$$ = function($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$78$$, $cloudSink$jscomp$14$$, $sinkId$jscomp$54$$, $presentationId$jscomp$30$$, $isHangout$jscomp$1_offTheRecord$jscomp$13$$, $opt_tabId$jscomp$14$$) {
  if ($isHangout$jscomp$1_offTheRecord$jscomp$13$$) {
    return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("not supported"));
  }
  $isHangout$jscomp$1_offTheRecord$jscomp$13$$ = !1;
  switch($JSCompiler_StaticMethods_getPreferredSinkChannelType_$$($cloudSink$jscomp$14$$)) {
    case "cloud":
      $mr$cloud$CloudAnalytics$recordSessionType$$(1);
      break;
    case "mesi":
      $isHangout$jscomp$1_offTheRecord$jscomp$13$$ = !0;
      if (!$JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$l$) {
        $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$l$ = !0;
        $JSCompiler_StaticMethods_setNotifiedHangoutPrivacySetting$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$h$);
        var $issue$jscomp$2$$ = $JSCompiler_StaticMethods_setSecondaryActions$$();
        $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$getIssueSender$().send($issue$jscomp$2$$);
      }
      $mr$cloud$CloudAnalytics$recordSessionType$$(0);
  }
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$b$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($cloudSink$jscomp$14$$.model, null);
  var $route$jscomp$60$$ = $mr$Route$createRoute$$($presentationId$jscomp$30$$, $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.getName(), $sinkId$jscomp$54$$, $sourceUrn$jscomp$78$$, !0, "", null);
  $isHangout$jscomp$1_offTheRecord$jscomp$13$$ && ($route$jscomp$60$$.customControllerPath = "cloud_route_details/view.html?routeId=" + $route$jscomp$60$$.id);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$b$.set($route$jscomp$60$$.id, $route$jscomp$60$$);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$D$.set($sinkId$jscomp$54$$, $route$jscomp$60$$);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$A$.set($route$jscomp$60$$.id, $cloudSink$jscomp$14$$);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$a$.$onRouteAdded$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $route$jscomp$60$$);
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$a$.$requestKeepAlive$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$getStorageKey$(), !0);
  if ($mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$78$$) && !$isHangout$jscomp$1_offTheRecord$jscomp$13$$) {
    return $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$logger_$, "starting presentation on route: " + $route$jscomp$60$$.id), $JSCompiler_StaticMethods_module$contents$mr$CancellablePromise_CancellablePromise_prototype$catch$$($JSCompiler_StaticMethods_startPresentation_$$($route$jscomp$60$$, $sourceUrn$jscomp$78$$), function($sourceUrn$jscomp$78$$) {
      $JSCompiler_StaticMethods_createRouteErrorHandler_$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$78$$, $goog$asserts$assert$$($route$jscomp$60$$), $cloudSink$jscomp$14$$, 7);
      throw $sourceUrn$jscomp$78$$;
    });
  }
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$logger_$, "starting mirroring on route: " + $route$jscomp$60$$.id);
  $route$jscomp$60$$.$mirrorInitData$ = {tabId:$opt_tabId$jscomp$14$$, sessionId:"", $sinkIpAddress$:"", $sinkModelName$:$cloudSink$jscomp$14$$.model};
  $mr$MediaSourceUtils$isPresentationSource$$($sourceUrn$jscomp$78$$) && ($route$jscomp$60$$.isOffscreenPresentation = !0);
  return $JSCompiler_StaticMethods_module$contents$mr$CancellablePromise_CancellablePromise_prototype$catch$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$startMirroring$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $route$jscomp$60$$, $presentationId$jscomp$30$$), function($sourceUrn$jscomp$78$$) {
    $JSCompiler_StaticMethods_createRouteErrorHandler_$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$doCreateRoute_$self$$, $sourceUrn$jscomp$78$$, $goog$asserts$assert$$($route$jscomp$60$$), $cloudSink$jscomp$14$$, 5);
    throw $sourceUrn$jscomp$78$$;
  });
};
$mr$CloudProvider$$.prototype.terminateRoute = function($routeId$jscomp$81$$) {
  var $route$jscomp$61$$ = this.$b$.get($routeId$jscomp$81$$);
  return $route$jscomp$61$$ ? $JSCompiler_StaticMethods_terminateRouteInternal$$(this, $route$jscomp$61$$, 0, null) : Promise.reject(new $mr$RouteRequestError$$(3, "Route in cloud provider not found for routeId " + $routeId$jscomp$81$$));
};
var $JSCompiler_StaticMethods_terminateRouteInternal$$ = function($JSCompiler_StaticMethods_terminateRouteInternal$self$$, $route$jscomp$62$$, $reason$jscomp$28_undiscoveredSink$$, $issue$jscomp$3$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_terminateRouteInternal$self$$.$logger_$, "terminating route: " + $route$jscomp$62$$.id);
  var $routeRemoved_sinkIdRemoved_sinkRemoved$$ = $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$b$.delete($route$jscomp$62$$.id);
  $goog$asserts$assert$$($routeRemoved_sinkIdRemoved_sinkRemoved$$);
  $routeRemoved_sinkIdRemoved_sinkRemoved$$ = $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$D$.delete($route$jscomp$62$$.sinkId);
  $goog$asserts$assert$$($routeRemoved_sinkIdRemoved_sinkRemoved$$);
  $routeRemoved_sinkIdRemoved_sinkRemoved$$ = $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$A$.get($route$jscomp$62$$.id);
  $goog$asserts$assert$$($routeRemoved_sinkIdRemoved_sinkRemoved$$);
  $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$A$.delete($route$jscomp$62$$.id);
  $issue$jscomp$3$$ && $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$getIssueSender$().send($issue$jscomp$3$$);
  $mr$Analytics$recordEnum$$("MediaRouter.Cloud.Session.End", $reason$jscomp$28_undiscoveredSink$$, $mr$cloud$CloudAnalytics$SESSION_END_REASON$$);
  switch($reason$jscomp$28_undiscoveredSink$$) {
    case 1:
      break;
    default:
      switch($JSCompiler_StaticMethods_getPreferredSinkChannelType_$$($routeRemoved_sinkIdRemoved_sinkRemoved$$)) {
        case "cloud":
          $JSCompiler_StaticMethods_mr_cloud_messaging_gcd_MessageSender_prototype$sendMessage_$$($JSCompiler_StaticMethods_terminateRouteInternal$self$$.$F$, $routeRemoved_sinkIdRemoved_sinkRemoved$$.deviceId, $mr$cloud$messaging$gcd$STOP_SESSION_MESSAGE_$$, {});
      }
  }
  $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$($JSCompiler_StaticMethods_terminateRouteInternal$self$$, $route$jscomp$62$$);
  0 == $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$b$.size && $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$a$.$requestKeepAlive$($JSCompiler_StaticMethods_terminateRouteInternal$self$$.$getStorageKey$(), !1);
  $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$a$.onPresentationConnectionStateChanged($route$jscomp$62$$.id, "terminated");
  $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$o$.has($route$jscomp$62$$.sinkId) && ($reason$jscomp$28_undiscoveredSink$$ = $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$o$.get($route$jscomp$62$$.sinkId), $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$($JSCompiler_StaticMethods_terminateRouteInternal$self$$, [$reason$jscomp$28_undiscoveredSink$$.$mrSink$]), $JSCompiler_StaticMethods_terminateRouteInternal$self$$.$o$.delete($route$jscomp$62$$.sinkId));
  return Promise.resolve();
};
$JSCompiler_prototypeAlias$$ = $mr$CloudProvider$$.prototype;
$JSCompiler_prototypeAlias$$.sendRouteMessage = function($route$jscomp$63_routeId$jscomp$82$$, $message$jscomp$139$$, $channelType$jscomp$2_opt_extraInfo$jscomp$5$$) {
  if ($channelType$jscomp$2_opt_extraInfo$jscomp$5$$ && $channelType$jscomp$2_opt_extraInfo$jscomp$5$$.channelType) {
    $channelType$jscomp$2_opt_extraInfo$jscomp$5$$ = $channelType$jscomp$2_opt_extraInfo$jscomp$5$$.channelType;
    var $sink$jscomp$105$$ = ($route$jscomp$63_routeId$jscomp$82$$ = this.$b$.get($route$jscomp$63_routeId$jscomp$82$$) || void 0) ? $goog$asserts$assert$$($JSCompiler_StaticMethods_getCloudSinkById_$$(this, $route$jscomp$63_routeId$jscomp$82$$.sinkId)) : void 0;
    return $JSCompiler_StaticMethods_processMessage$$(this.$H$, $channelType$jscomp$2_opt_extraInfo$jscomp$5$$, $message$jscomp$139$$, $route$jscomp$63_routeId$jscomp$82$$, $sink$jscomp$105$$);
  }
  return $goog$isString$$($message$jscomp$139$$) ? ($JSCompiler_StaticMethods_sendMessageResponse$$(this, $message$jscomp$139$$, $route$jscomp$63_routeId$jscomp$82$$), Promise.resolve()) : Promise.reject(Error("Channel type missing"));
};
$JSCompiler_prototypeAlias$$.sendRouteBinaryMessage = function($routeId$jscomp$83$$) {
  return Promise.reject(Error("Route " + $routeId$jscomp$83$$ + " does not support sending binary data."));
};
$JSCompiler_prototypeAlias$$.$getMirrorSettings$ = function($sinkId$jscomp$55$$) {
  var $settings$jscomp$4$$ = new $mr$mirror$Settings$$;
  "hangouts" != this.$getMirrorServiceName$($sinkId$jscomp$55$$) && ($settings$jscomp$4$$.senderSideLetterboxing = !0);
  $JSCompiler_StaticMethods_clampMaxDimensionsToScreenSize_$$($settings$jscomp$4$$);
  Object.freeze($settings$jscomp$4$$);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Settings for " + $sinkId$jscomp$55$$ + ": " + $JSCompiler_StaticMethods_toJsonString$$($settings$jscomp$4$$));
  if (!$settings$jscomp$4$$.shouldCaptureAudio && !$settings$jscomp$4$$.shouldCaptureVideo) {
    throw Error("Cannot start mirroring without video or audio capture.");
  }
  return $settings$jscomp$4$$;
};
$JSCompiler_prototypeAlias$$.$getMirrorServiceName$ = function($cloudSink$jscomp$15_sinkId$jscomp$56$$) {
  var $mirrorServiceName$jscomp$1$$ = null;
  $cloudSink$jscomp$15_sinkId$jscomp$56$$ = $JSCompiler_StaticMethods_getCloudSinkById_$$(this, $cloudSink$jscomp$15_sinkId$jscomp$56$$);
  switch($JSCompiler_StaticMethods_getPreferredSinkChannelType_$$($cloudSink$jscomp$15_sinkId$jscomp$56$$)) {
    case "cloud":
      $mirrorServiceName$jscomp$1$$ = "webrtc";
      break;
    case "mesi":
      $mirrorServiceName$jscomp$1$$ = $cloudSink$jscomp$15_sinkId$jscomp$56$$.$isMeeting$ ? "meetings" : "hangouts";
  }
  return $mirrorServiceName$jscomp$1$$;
};
$JSCompiler_prototypeAlias$$.$canRoute$ = function($sourceUrn$jscomp$79$$, $sinkId$jscomp$57$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$fine$$(this.$logger_$, "Checking canRoute: " + $sourceUrn$jscomp$79$$ + " for sinkId: " + $sinkId$jscomp$57$$);
  return $JSCompiler_StaticMethods_isCloudAllowed_$$(this, $sourceUrn$jscomp$79$$) && !!this.$module$contents$mr$DialProvider_DialProvider_prototype$getSinkById$($sinkId$jscomp$57$$);
};
$JSCompiler_prototypeAlias$$.$canJoin$ = function($sourceUrn$jscomp$80$$, $presentationId$jscomp$31$$) {
  return "https://hangouts.google.com/cloudmrp-mirroring" == $sourceUrn$jscomp$80$$ && this.$b$.has($presentationId$jscomp$31$$);
};
$JSCompiler_prototypeAlias$$.joinRoute = function($route$jscomp$65_sourceUrn$jscomp$81$$, $presentationId$jscomp$32$$) {
  return ($route$jscomp$65_sourceUrn$jscomp$81$$ = this.$b$.get($presentationId$jscomp$32$$)) ? $module$contents$mr$CancellablePromise_CancellablePromise$resolve$$($route$jscomp$65_sourceUrn$jscomp$81$$) : $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("not supported"));
};
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function() {
  return $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("not supported"));
};
$JSCompiler_prototypeAlias$$.detachRoute = function() {
};
var $JSCompiler_StaticMethods_onSinksAdded$$ = function($JSCompiler_StaticMethods_onSinksAdded$self$$, $cloudSink$jscomp$16_sinks$jscomp$20$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_onSinksAdded$self$$.$logger_$, $cloudSink$jscomp$16_sinks$jscomp$20$$.length + " sinks added");
  0 < $cloudSink$jscomp$16_sinks$jscomp$20$$.length && !$JSCompiler_StaticMethods_onSinksAdded$self$$.$g$ && ($JSCompiler_StaticMethods_turnOnCloudSetting$$($JSCompiler_StaticMethods_onSinksAdded$self$$.$h$), $JSCompiler_StaticMethods_onSinksAdded$self$$.$g$ = !0);
  $cloudSink$jscomp$16_sinks$jscomp$20$$ = $JSCompiler_StaticMethods_getCloudSinkById_$$($JSCompiler_StaticMethods_onSinksAdded$self$$, $cloudSink$jscomp$16_sinks$jscomp$20$$[0].id);
  $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$a$ = new $module$contents$mr$SinkUtils_SinkUtils$DeviceData$$($cloudSink$jscomp$16_sinks$jscomp$20$$.model, null);
  $JSCompiler_StaticMethods_onSinksAdded$self$$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
  $JSCompiler_StaticMethods_onSinksAdded$self$$.$a$.onSinkAvailabilityUpdated($JSCompiler_StaticMethods_onSinksAdded$self$$, 2);
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_onSinksAdded$self$$.$logger_$, "sinkAvailability changed to AVAILABLE");
}, $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$$ = function($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$, $sinks$jscomp$21$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$logger_$, $sinks$jscomp$21$$.length + " sinks removed");
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$w$.some(function($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$) {
    return 0 < $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinks$().length;
  }) || ($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$a$.onSinkAvailabilityUpdated($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$, 0), $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$logger_$, "sinkAvailability changed to UNAVAILABLE"));
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksRemoved$self$$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
}, $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$$ = function($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$self$$, $sinks$jscomp$22$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$self$$.$logger_$, $sinks$jscomp$22$$.length + " sinks updated");
  $JSCompiler_StaticMethods_mr_CloudProvider_prototype$onSinksUpdated$self$$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$();
}, $JSCompiler_StaticMethods_sendMessageResponse$$ = function($JSCompiler_StaticMethods_sendMessageResponse$self$$, $message$jscomp$141$$, $routeId$jscomp$86$$, $isRouteMessage$$) {
  (void 0 === $isRouteMessage$$ ? 0 : $isRouteMessage$$) ? $JSCompiler_StaticMethods_sendMessageResponse$self$$.$a$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$($JSCompiler_StaticMethods_sendMessageResponse$self$$, $routeId$jscomp$86$$, $message$jscomp$141$$) : $JSCompiler_StaticMethods_sendMessageResponse$self$$.$a$.$onInternalMessage$($JSCompiler_StaticMethods_sendMessageResponse$self$$, $routeId$jscomp$86$$, $message$jscomp$141$$);
}, $JSCompiler_StaticMethods_getCloudSinkById_$$ = function($JSCompiler_StaticMethods_getCloudSinkById_$self$$, $id$jscomp$71_route$jscomp$inline_1578$$) {
  var $sink$jscomp$106_sink$jscomp$inline_1577$$ = $JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$$($JSCompiler_StaticMethods_getCloudSinkById_$self$$, $id$jscomp$71_route$jscomp$inline_1578$$);
  $sink$jscomp$106_sink$jscomp$inline_1577$$ || ($sink$jscomp$106_sink$jscomp$inline_1577$$ = null, ($id$jscomp$71_route$jscomp$inline_1578$$ = $JSCompiler_StaticMethods_getCloudSinkById_$self$$.$D$.get($id$jscomp$71_route$jscomp$inline_1578$$)) && ($sink$jscomp$106_sink$jscomp$inline_1577$$ = $JSCompiler_StaticMethods_getCloudSinkById_$self$$.$A$.get($id$jscomp$71_route$jscomp$inline_1578$$.id)));
  return $sink$jscomp$106_sink$jscomp$inline_1577$$;
}, $JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$$ = function($JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$self$$, $id$jscomp$72$$) {
  var $sink$jscomp$107$$ = null;
  $JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$self$$.$w$.some(function($JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$self$$) {
    $sink$jscomp$107$$ = $JSCompiler_StaticMethods_getDiscoveryCloudSinkById_$self$$.$mr_cloud_discovery_CloudSinkDiscoveryService_prototype$getSinkById$($id$jscomp$72$$);
    return !!$sink$jscomp$107$$;
  });
  return $sink$jscomp$107$$;
}, $JSCompiler_StaticMethods_getPreferredSinkChannelType_$$ = function($cloudSink$jscomp$18$$) {
  return $goog$array$contains$$($cloudSink$jscomp$18$$.$a$, "cloud") ? "cloud" : $goog$array$contains$$($cloudSink$jscomp$18$$.$a$, "mesi") ? "mesi" : null;
}, $JSCompiler_StaticMethods_shouldCheckForSinks_$$ = function() {
  var $lastCheck$$ = $module$contents$mr$SinkUtils_SinkUtils$getInstance$$().$g$;
  return 3E5 <= Date.now() - $lastCheck$$;
}, $JSCompiler_StaticMethods_isCloudAllowed_$$ = function($JSCompiler_StaticMethods_isCloudAllowed_$self$$, $isPresentationSource_sourceUrn$jscomp$83$$) {
  var $isMirrorSource$$ = $mr$MediaSourceUtils$isMirrorSource$$($isPresentationSource_sourceUrn$jscomp$83$$);
  $isPresentationSource_sourceUrn$jscomp$83$$ = $mr$MediaSourceUtils$isPresentationSource$$($isPresentationSource_sourceUrn$jscomp$83$$);
  if ($JSCompiler_StaticMethods_isCloudAllowed_$self$$.$B$.$f$ && !$JSCompiler_StaticMethods_isCloudAllowed_$self$$.$B$.$a$ && $isMirrorSource$$) {
    return $JSCompiler_StaticMethods_isCloudAllowed_$self$$.$a$.onSinkAvailabilityUpdated($JSCompiler_StaticMethods_isCloudAllowed_$self$$, 2), !0;
  }
  var $result$jscomp$77$$ = !1;
  $JSCompiler_StaticMethods_isCloudAllowed_$self$$.$f$ && $JSCompiler_StaticMethods_isCloudAllowed_$self$$.$B$.$a$ && ($result$jscomp$77$$ = !0);
  return $result$jscomp$77$$ && ($isMirrorSource$$ || $isPresentationSource_sourceUrn$jscomp$83$$);
};
$mr$CloudProvider$$.prototype.searchSinks = function($foundSinkPromise_sourceUrn$jscomp$84$$, $searchCriteria$jscomp$5$$) {
  var $$jscomp$this$jscomp$138$$ = this;
  if (!$JSCompiler_StaticMethods_isCloudAllowed_$$(this, $foundSinkPromise_sourceUrn$jscomp$84$$)) {
    return Promise.reject(Error("err"));
  }
  $foundSinkPromise_sourceUrn$jscomp$84$$ = $JSCompiler_StaticMethods_addManualSink$$(this.$j$, $searchCriteria$jscomp$5$$);
  $foundSinkPromise_sourceUrn$jscomp$84$$.then(function($foundSinkPromise_sourceUrn$jscomp$84$$) {
    $JSCompiler_StaticMethods_onSinksAdded$$($$jscomp$this$jscomp$138$$, [$foundSinkPromise_sourceUrn$jscomp$84$$]);
  });
  return $foundSinkPromise_sourceUrn$jscomp$84$$;
};
var $JSCompiler_StaticMethods_getHangoutsOrMeetingsMirrorService_$$ = function($JSCompiler_StaticMethods_getHangoutsOrMeetingsMirrorService_$self_mirrorServiceName$jscomp$2$$, $route$jscomp$67_routeId$jscomp$87$$) {
  $route$jscomp$67_routeId$jscomp$87$$ = $JSCompiler_StaticMethods_getHangoutsOrMeetingsMirrorService_$self_mirrorServiceName$jscomp$2$$.$b$.get($route$jscomp$67_routeId$jscomp$87$$);
  if (!$route$jscomp$67_routeId$jscomp$87$$) {
    return Promise.reject(Error("Route not found"));
  }
  $JSCompiler_StaticMethods_getHangoutsOrMeetingsMirrorService_$self_mirrorServiceName$jscomp$2$$ = $JSCompiler_StaticMethods_getHangoutsOrMeetingsMirrorService_$self_mirrorServiceName$jscomp$2$$.$getMirrorServiceName$($route$jscomp$67_routeId$jscomp$87$$.sinkId);
  return "hangouts" != $JSCompiler_StaticMethods_getHangoutsOrMeetingsMirrorService_$self_mirrorServiceName$jscomp$2$$ && "meetings" != $JSCompiler_StaticMethods_getHangoutsOrMeetingsMirrorService_$self_mirrorServiceName$jscomp$2$$ ? Promise.reject(Error("Unsupported sink channel type")) : $JSCompiler_StaticMethods_getMirrorService$$($mr$Assertions$assert$$($mr$Module$moduleById_$$.get("mr.ProviderManager") || null), $JSCompiler_StaticMethods_getHangoutsOrMeetingsMirrorService_$self_mirrorServiceName$jscomp$2$$);
};
$JSCompiler_prototypeAlias$$ = $mr$CloudProvider$$.prototype;
$JSCompiler_prototypeAlias$$.createMediaRouteController = function($routeId$jscomp$88$$, $controllerRequest$jscomp$5$$, $observer$jscomp$5$$) {
  return $JSCompiler_StaticMethods_getHangoutsOrMeetingsMirrorService_$$(this, $routeId$jscomp$88$$).then(function($service$jscomp$11$$) {
    return $service$jscomp$11$$.createMediaRouteController($routeId$jscomp$88$$, $controllerRequest$jscomp$5$$, $observer$jscomp$5$$);
  });
};
$JSCompiler_prototypeAlias$$.provideSinks = function() {
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "CloudProvider";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [void 0, {cloudEnabled:this.$f$, cloudOn:this.$g$, notifiedHangoutsPrivacy:this.$l$}];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $persistentData$jscomp$2$$ = $mr$PersistentDataManager$getPersistentData$$(this);
  $persistentData$jscomp$2$$ && ($persistentData$jscomp$2$$.cloudEnabled && (this.$f$ = $persistentData$jscomp$2$$.cloudEnabled), $persistentData$jscomp$2$$.cloudOn && (this.$g$ = $persistentData$jscomp$2$$.cloudOn), $persistentData$jscomp$2$$.notifiedHangoutsPrivacy && (this.$l$ = $persistentData$jscomp$2$$.notifiedHangoutsPrivacy));
};
var $JSCompiler_StaticMethods_startPresentation_$$ = function($cloudWebRtcSession_route$jscomp$68$$, $sourceUrn$jscomp$85$$) {
  $cloudWebRtcSession_route$jscomp$68$$ = new $mr$presentation$webrtc$CloudWebRtcSession$$($cloudWebRtcSession_route$jscomp$68$$, $sourceUrn$jscomp$85$$);
  return $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($cloudWebRtcSession_route$jscomp$68$$.start());
};
$mr$CloudProvider$$.prototype.$logger_$ = $mr$Logger$getInstance$$("mr.CloudProvider");
var $mr$CloudProvider$PSEUDO_SINK_$$ = new $mr$Sink$$("pseudo:cloud", "", "meeting", "", "default");
var $mr$ExternalMessageListener$$ = function() {
  $mr$EventListener$$.call(this, 12, "ExternalMessageListener", "mr.ProviderManager", chrome.runtime.onMessageExternal);
};
$$jscomp$inherits$$($mr$ExternalMessageListener$$, $mr$EventListener$$);
$mr$ExternalMessageListener$$.prototype.$validateEvent$ = function($message$jscomp$142$$, $sender$jscomp$5$$) {
  return $sender$jscomp$5$$.id && -1 != $mr$ExternalMessageListener$WHITELIST_$$.indexOf($sender$jscomp$5$$.id) ? "start" == $message$jscomp$142$$.type || "stop" == $message$jscomp$142$$.type : !1;
};
$mr$ExternalMessageListener$$.prototype.$deferredReturnValue$ = function() {
  return !0;
};
var $mr$ExternalMessageListener$get$$ = function() {
  $mr$ExternalMessageListener$listener_$$ || ($mr$ExternalMessageListener$listener_$$ = new $mr$ExternalMessageListener$$);
  return $mr$ExternalMessageListener$listener_$$;
}, $mr$ExternalMessageListener$listener_$$ = null, $mr$ExternalMessageListener$WHITELIST_$$ = ["idmofbkcelhplfjnmmdolenpigiiiecc", "ggedfkijiiammpnbdadhllnehapomdge", "njjegkblellcjnakomndbaloifhcoccg"];
var $mr$InternalMessageListener$$ = function() {
  $mr$EventListener$$.call(this, 11, "InternalMessageListener", "mr.ProviderManager", chrome.runtime.onMessage);
};
$$jscomp$inherits$$($mr$InternalMessageListener$$, $mr$EventListener$$);
$mr$InternalMessageListener$$.prototype.$validateEvent$ = function($message$jscomp$143$$, $sender$jscomp$6$$) {
  return "retrieve_log_data" == $message$jscomp$143$$.type && $sender$jscomp$6$$.id == chrome.runtime.id && $sender$jscomp$6$$.url == "chrome-extension://" + $sender$jscomp$6$$.id + "/feedback.html";
};
$mr$InternalMessageListener$$.prototype.$deferredReturnValue$ = function() {
  return !0;
};
var $mr$InternalMessageListener$get$$ = function() {
  $mr$InternalMessageListener$listener_$$ || ($mr$InternalMessageListener$listener_$$ = new $mr$InternalMessageListener$$);
  return $mr$InternalMessageListener$listener_$$;
}, $mr$InternalMessageListener$listener_$$ = null;
var $mr$IssueSenderImpl$$ = function() {
  this.$a$ = null;
  this.$logger_$ = $mr$Logger$getInstance$$("mr.IssueSenderImpl");
};
$mr$IssueSenderImpl$$.prototype.init = function($mediaRouterService$$) {
  this.$a$ = $mediaRouterService$$;
};
$mr$IssueSenderImpl$$.prototype.send = function($issue$jscomp$5$$) {
  if (this.$a$) {
    if (this.$a$.onIssue) {
      this.$a$.onIssue($issue$jscomp$5$$);
    } else {
      this.$logger_$.error("MediaRouterService.onIssue not defined.");
    }
  } else {
    this.$logger_$.error("MediaRouterService is not set.");
  }
};
var $mr$InternalMessageEvent$$ = function($routeId$jscomp$89$$, $message$jscomp$144$$) {
  this.type = "internal_message";
  this.routeId = $routeId$jscomp$89$$;
  this.message = $message$jscomp$144$$;
};
var $mr$MessagePortImpl_$$ = function($routeId$jscomp$90$$, $sendMessage$$, $messageEventTarget$$) {
  this.$a$ = $routeId$jscomp$90$$;
  this.$g$ = $sendMessage$$;
  this.$f$ = $messageEventTarget$$;
  this.onMessage = function() {
  };
  $messageEventTarget$$.listen("internal_message", this.$b$, this);
};
$mr$MessagePortImpl_$$.prototype.sendMessage = function($message$jscomp$145$$, $opt_extraInfo$jscomp$6$$) {
  return this.$g$(this.$a$, $message$jscomp$145$$, $opt_extraInfo$jscomp$6$$);
};
$mr$MessagePortImpl_$$.prototype.$b$ = function($event$jscomp$28$$) {
  if ($event$jscomp$28$$.routeId == this.$a$) {
    this.onMessage($event$jscomp$28$$.message);
  }
};
$mr$MessagePortImpl_$$.prototype.$dispose$ = function() {
  this.onMessage = function() {
  };
  this.$f$.$w$("internal_message", this.$b$, this);
};
var $mr$MessagePortImpl_$NULL_INSTANCE_$$ = new $mr$MessagePortImpl_$$("", function() {
  return Promise.resolve();
}, new $module$contents$mr$EventTarget_EventTarget$$), $mr$MessagePortServiceImpl$$ = function($providerManagerCallbacks$jscomp$6$$) {
  this.$a$ = $providerManagerCallbacks$jscomp$6$$;
}, $JSCompiler_StaticMethods_getInternalMessenger$$ = function($routeId$jscomp$91$$) {
  var $JSCompiler_StaticMethods_getInternalMessenger$self$$ = $mr$MessagePortService$service_$$, $provider$jscomp$24$$ = $JSCompiler_StaticMethods_getInternalMessenger$self$$.$a$.$getProviderFromRouteId$($routeId$jscomp$91$$);
  return $provider$jscomp$24$$ ? new $mr$MessagePortImpl_$$($routeId$jscomp$91$$, $provider$jscomp$24$$.sendRouteMessage.bind($provider$jscomp$24$$), $JSCompiler_StaticMethods_getInternalMessenger$self$$.$a$.$getRouteMessageEventTarget$()) : $mr$MessagePortImpl_$NULL_INSTANCE_$$;
};
var $mr$ProviderManager$$ = function() {
  this.$logger_$ = $mr$Logger$getInstance$$("mr.ProviderManager");
  this.$b$ = [];
  this.$a$ = new Map;
  this.$l$ = new Map;
  this.$g$ = new Set;
  this.$h$ = new Set;
  this.$A$ = new Map;
  this.$f$ = this.$w$ = null;
  this.$J$ = new $module$contents$mr$EventTarget_EventTarget$$;
  this.$K$ = new $module$contents$mr$Throttle_Throttle$$(this.$sendRoutesQueryResultToMr_$, 500, this);
  this.$R$ = new $module$contents$mr$Throttle_Throttle$$(this.$L$, 500, this);
  this.$j$ = new $mr$RouteMessageSender$$(this, 524288);
  this.$H$ = 0;
  this.$I$ = new $mr$IssueSenderImpl$$;
  this.$o$ = new Map;
  this.$F$ = -1 == window.navigator.userAgent.indexOf("Windows");
  this.$D$ = [];
  this.$B$ = [];
  var $handler$jscomp$inline_1583_handler$jscomp$inline_1586$$ = new $mr$InternalMessageHandler$$(this);
  this.$N$ = $handler$jscomp$inline_1583_handler$jscomp$inline_1586$$.onMessage.bind($handler$jscomp$inline_1583_handler$jscomp$inline_1586$$);
  $handler$jscomp$inline_1583_handler$jscomp$inline_1586$$ = new $mr$ExternalMessageHandler$$(this);
  this.$M$ = $handler$jscomp$inline_1583_handler$jscomp$inline_1586$$.onMessage.bind($handler$jscomp$inline_1583_handler$jscomp$inline_1586$$);
  this.onBeforeInvokeHandler = this.onBeforeInvokeHandler;
  this.createRoute = this.createRoute;
  this.joinRoute = this.joinRoute;
  this.connectRouteByRouteId = this.connectRouteByRouteId;
  this.terminateRoute = this.terminateRoute;
  this.startObservingMediaSinks = this.startObservingMediaSinks;
  this.stopObservingMediaSinks = this.stopObservingMediaSinks;
  this.sendRouteMessage = this.sendRouteMessage;
  this.sendRouteBinaryMessage = this.sendRouteBinaryMessage;
  this.startListeningForRouteMessages = this.startListeningForRouteMessages;
  this.stopListeningForRouteMessages = this.stopListeningForRouteMessages;
  this.startObservingMediaRoutes = this.startObservingMediaRoutes;
  this.stopObservingMediaRoutes = this.stopObservingMediaRoutes;
  this.detachRoute = this.detachRoute;
  this.enableMdnsDiscovery = this.enableMdnsDiscovery;
  this.searchSinks = this.searchSinks;
  this.provideSinks = this.provideSinks;
  this.updateMediaSinks = this.updateMediaSinks;
  this.createMediaRouteController = this.createMediaRouteController;
};
$$jscomp$inherits$$($mr$ProviderManager$$, $mr$Module$$);
$mr$ProviderManager$$.prototype.handleEvent = function($event$jscomp$29$$, $args$jscomp$33$$) {
  for (var $$jscomp$restParams$jscomp$11$$ = [], $$jscomp$restIndex$jscomp$11$$ = 1; $$jscomp$restIndex$jscomp$11$$ < arguments.length; ++$$jscomp$restIndex$jscomp$11$$) {
    $$jscomp$restParams$jscomp$11$$[$$jscomp$restIndex$jscomp$11$$ - 1] = arguments[$$jscomp$restIndex$jscomp$11$$];
  }
  if ($event$jscomp$29$$ == chrome.runtime.onMessage) {
    this.$N$.apply(this, [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$11$$)));
  } else {
    if ($event$jscomp$29$$ == chrome.runtime.onMessageExternal) {
      this.$M$.apply(this, [].concat($$jscomp$arrayFromIterable$$($$jscomp$restParams$jscomp$11$$)));
    } else {
      throw Error("Unhandled event");
    }
  }
};
var $JSCompiler_StaticMethods_getMirrorService$$ = function($JSCompiler_StaticMethods_getMirrorService$self$$, $moduleId$jscomp$7_serviceName$jscomp$3$$) {
  $moduleId$jscomp$7_serviceName$jscomp$3$$ = $JSCompiler_StaticMethods_getMirrorService$self$$.$A$.get($moduleId$jscomp$7_serviceName$jscomp$3$$);
  return $mr$Module$load$$($moduleId$jscomp$7_serviceName$jscomp$3$$).then(function($moduleId$jscomp$7_serviceName$jscomp$3$$) {
    $moduleId$jscomp$7_serviceName$jscomp$3$$.$initialize$($JSCompiler_StaticMethods_getMirrorService$self$$);
    return $moduleId$jscomp$7_serviceName$jscomp$3$$;
  });
};
$mr$ProviderManager$$.prototype.$initialize$ = function($dialProvider_mediaRouterService$jscomp$1$$, $providers$jscomp$2$$, $config$jscomp$10$$) {
  this.$A$.set("webrtc", "mr.mirror.webrtc.WebRtcService");
  this.$A$.set("cast_streaming", "mr.mirror.cast.Service");
  this.$A$.set("hangouts", "mr.mirror.hangouts.HangoutsService");
  this.$A$.set("meetings", "mr.mirror.hangouts.MeetingsService");
  var $service$jscomp$inline_1590$$ = new $mr$MessagePortServiceImpl$$(this);
  $mr$MessagePortService$service_$$ || ($mr$MessagePortService$service_$$ = $service$jscomp$inline_1590$$);
  this.$f$ = $dialProvider_mediaRouterService$jscomp$1$$;
  this.$I$.init($dialProvider_mediaRouterService$jscomp$1$$);
  this.$j$.init(this.$f$.onRouteMessagesReceived.bind(this.$f$));
  $providers$jscomp$2$$.forEach(this.$P$, this);
  ($dialProvider_mediaRouterService$jscomp$1$$ = $JSCompiler_StaticMethods_getProviderByName$$(this, "dial")) && $dialProvider_mediaRouterService$jscomp$1$$.$setDiscoveryEnabled$($config$jscomp$10$$ ? $config$jscomp$10$$.enable_dial_discovery : !0);
  $mr$PersistentDataManager$register$$(this);
  $mr$Module$onModuleLoaded$$("mr.ProviderManager", this);
};
$mr$ProviderManager$$.prototype.$P$ = function($provider$jscomp$25$$) {
  if ($JSCompiler_StaticMethods_getProviderByName$$(this, $provider$jscomp$25$$.getName())) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, "Provider " + $provider$jscomp$25$$.getName() + " already registered.");
  } else {
    try {
      $provider$jscomp$25$$.$initialize$(), this.$b$.push($provider$jscomp$25$$), this.$o$.set($provider$jscomp$25$$.getName(), 0);
    } catch ($error$jscomp$58$$) {
      $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, "Provider " + $provider$jscomp$25$$.getName() + " failed to initialize.", $error$jscomp$58$$);
    }
  }
};
var $JSCompiler_StaticMethods_addTimeout_$$ = function($JSCompiler_StaticMethods_addTimeout_$self$$, $routePromise$$, $timeout$jscomp$5$$) {
  return new Promise(function($resolve$jscomp$41$$, $reject$jscomp$41$$) {
    var $timerId$jscomp$1$$ = null;
    $JSCompiler_StaticMethods_addTimeout_$self$$.$H$++;
    $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$($JSCompiler_StaticMethods_addTimeout_$self$$);
    $timerId$jscomp$1$$ = window.setTimeout(function() {
      $timerId$jscomp$1$$ = null;
      $routePromise$$.cancel(new $mr$RouteRequestError$$(2, "timeout after " + $timeout$jscomp$5$$ + " ms."));
    }, $timeout$jscomp$5$$);
    $routePromise$$.$a$.then(function($routePromise$$) {
      $JSCompiler_StaticMethods_addTimeout_$self$$.$H$--;
      $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$($JSCompiler_StaticMethods_addTimeout_$self$$);
      null != $timerId$jscomp$1$$ && window.clearTimeout($timerId$jscomp$1$$);
      $resolve$jscomp$41$$($routePromise$$);
    }, function($routePromise$$) {
      $JSCompiler_StaticMethods_addTimeout_$self$$.$H$--;
      $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$($JSCompiler_StaticMethods_addTimeout_$self$$);
      null != $timerId$jscomp$1$$ && window.clearTimeout($timerId$jscomp$1$$);
      $reject$jscomp$41$$($routePromise$$ instanceof $mr$RouteRequestError$$ ? $routePromise$$ : $routePromise$$ instanceof Error ? new $mr$RouteRequestError$$(0, $routePromise$$.message, $routePromise$$.stack) : new $mr$RouteRequestError$$(0));
    });
  });
};
$mr$ProviderManager$$.prototype.onBeforeInvokeHandler = function() {
  $mr$EventAnalytics$recordEvent$$(0);
};
var $JSCompiler_StaticMethods_mojoOriginToString_$$ = function($origin$jscomp$20$$) {
  return "string" == typeof $origin$jscomp$20$$ ? $origin$jscomp$20$$ : $origin$jscomp$20$$.unique ? "" : $origin$jscomp$20$$.scheme + "://" + $origin$jscomp$20$$.host + "\n       " + ($origin$jscomp$20$$.port ? ":" + $origin$jscomp$20$$.port : "") + "/";
};
$JSCompiler_prototypeAlias$$ = $mr$ProviderManager$$.prototype;
$JSCompiler_prototypeAlias$$.createRoute = function($routePromise$jscomp$1_sourceUrn$jscomp$86$$, $sinkId$jscomp$58$$, $presentationId$jscomp$34$$, $origin$jscomp$21$$, $tabId$jscomp$31$$, $timeoutMillis$jscomp$17$$, $offTheRecord$jscomp$15$$) {
  $offTheRecord$jscomp$15$$ = void 0 === $offTheRecord$jscomp$15$$ ? !1 : $offTheRecord$jscomp$15$$;
  var $$jscomp$this$jscomp$141$$ = this, $provider$jscomp$26$$ = $JSCompiler_StaticMethods_getProviderFor_$$(this, $routePromise$jscomp$1_sourceUrn$jscomp$86$$, $sinkId$jscomp$58$$);
  if (!$provider$jscomp$26$$) {
    return Promise.reject(new $mr$RouteRequestError$$(7, "No provider supports createRoute with source: " + $routePromise$jscomp$1_sourceUrn$jscomp$86$$ + " and sink: " + $sinkId$jscomp$58$$));
  }
  var $originString$$ = void 0;
  void 0 !== $origin$jscomp$21$$ && ($originString$$ = $JSCompiler_StaticMethods_mojoOriginToString_$$($origin$jscomp$21$$));
  $timeoutMillis$jscomp$17$$ = $timeoutMillis$jscomp$17$$ && 0 < $timeoutMillis$jscomp$17$$ ? $timeoutMillis$jscomp$17$$ : 6E4;
  $routePromise$jscomp$1_sourceUrn$jscomp$86$$ = $provider$jscomp$26$$.createRoute($routePromise$jscomp$1_sourceUrn$jscomp$86$$, $sinkId$jscomp$58$$, $presentationId$jscomp$34$$, $offTheRecord$jscomp$15$$, $timeoutMillis$jscomp$17$$, $originString$$, $tabId$jscomp$31$$);
  return $JSCompiler_StaticMethods_addTimeout_$$(this, $routePromise$jscomp$1_sourceUrn$jscomp$86$$, $timeoutMillis$jscomp$17$$).then(function($routePromise$jscomp$1_sourceUrn$jscomp$86$$) {
    return $routePromise$jscomp$1_sourceUrn$jscomp$86$$;
  }, function($routePromise$jscomp$1_sourceUrn$jscomp$86$$) {
    $$jscomp$this$jscomp$141$$.$logger_$.error("Error creating route.", $routePromise$jscomp$1_sourceUrn$jscomp$86$$);
    throw $routePromise$jscomp$1_sourceUrn$jscomp$86$$;
  });
};
$JSCompiler_prototypeAlias$$.connectRouteByRouteId = function($routePromise$jscomp$2_sourceUrn$jscomp$87$$, $routeId$jscomp$92$$, $presentationId$jscomp$35$$, $origin$jscomp$22$$, $tabId$jscomp$32$$, $timeoutMillis$jscomp$18$$) {
  var $provider$jscomp$27$$ = this.$a$.get($routeId$jscomp$92$$);
  if (!$provider$jscomp$27$$) {
    return Promise.reject(new $mr$RouteRequestError$$(7, "No provider supports join " + $routeId$jscomp$92$$));
  }
  $routePromise$jscomp$2_sourceUrn$jscomp$87$$ = $provider$jscomp$27$$.connectRouteByRouteId($routePromise$jscomp$2_sourceUrn$jscomp$87$$, $routeId$jscomp$92$$, $presentationId$jscomp$35$$, $JSCompiler_StaticMethods_mojoOriginToString_$$($origin$jscomp$22$$), $tabId$jscomp$32$$);
  return $JSCompiler_StaticMethods_addTimeout_$$(this, $routePromise$jscomp$2_sourceUrn$jscomp$87$$, $timeoutMillis$jscomp$18$$ && 0 < $timeoutMillis$jscomp$18$$ ? $timeoutMillis$jscomp$18$$ : 3E4);
};
$JSCompiler_prototypeAlias$$.joinRoute = function($routePromise$jscomp$3_sourceUrn$jscomp$88$$, $presentationId$jscomp$36$$, $origin$jscomp$23$$, $tabId$jscomp$33$$, $timeoutMillis$jscomp$19$$, $offTheRecord$jscomp$16$$) {
  $offTheRecord$jscomp$16$$ = void 0 === $offTheRecord$jscomp$16$$ ? !1 : $offTheRecord$jscomp$16$$;
  var $provider$jscomp$28$$ = $JSCompiler_StaticMethods_getProviderForJoin_$$(this, $routePromise$jscomp$3_sourceUrn$jscomp$88$$, $presentationId$jscomp$36$$);
  if (!$provider$jscomp$28$$) {
    return Promise.reject(new $mr$RouteRequestError$$(7, "No provider supports join " + $presentationId$jscomp$36$$));
  }
  $timeoutMillis$jscomp$19$$ = $timeoutMillis$jscomp$19$$ && 0 < $timeoutMillis$jscomp$19$$ ? $timeoutMillis$jscomp$19$$ : 3E4;
  $routePromise$jscomp$3_sourceUrn$jscomp$88$$ = $provider$jscomp$28$$.joinRoute($routePromise$jscomp$3_sourceUrn$jscomp$88$$, $presentationId$jscomp$36$$, $offTheRecord$jscomp$16$$, $timeoutMillis$jscomp$19$$, $JSCompiler_StaticMethods_mojoOriginToString_$$($origin$jscomp$23$$), $tabId$jscomp$33$$);
  return $JSCompiler_StaticMethods_addTimeout_$$(this, $routePromise$jscomp$3_sourceUrn$jscomp$88$$, $timeoutMillis$jscomp$19$$);
};
$JSCompiler_prototypeAlias$$.terminateRoute = function($routeId$jscomp$93$$) {
  var $provider$jscomp$29$$ = this.$a$.get($routeId$jscomp$93$$);
  return $provider$jscomp$29$$ ? $JSCompiler_StaticMethods_maybeStopMirrorSession_$$(this, $routeId$jscomp$93$$).then(function() {
    return $provider$jscomp$29$$.terminateRoute($routeId$jscomp$93$$);
  }) : Promise.reject(new $mr$RouteRequestError$$(3, "Route not found for routeId " + $routeId$jscomp$93$$));
};
$JSCompiler_prototypeAlias$$.startObservingMediaSinks = function($sourceUrn$jscomp$89$$) {
  this.$g$.has($sourceUrn$jscomp$89$$) || (this.$g$.add($sourceUrn$jscomp$89$$), this.$b$.forEach(function($p$jscomp$10$$) {
    $p$jscomp$10$$.startObservingMediaSinks($sourceUrn$jscomp$89$$);
  }));
  $JSCompiler_StaticMethods_querySinks_$$(this, $sourceUrn$jscomp$89$$);
};
$JSCompiler_prototypeAlias$$.stopObservingMediaSinks = function($sourceUrn$jscomp$90$$) {
  this.$g$.delete($sourceUrn$jscomp$90$$) ? $JSCompiler_StaticMethods_doStopObservingMediaSinks_$$(this, $sourceUrn$jscomp$90$$) : $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "No existing query " + $sourceUrn$jscomp$90$$);
};
var $JSCompiler_StaticMethods_doStopObservingMediaSinks_$$ = function($JSCompiler_StaticMethods_doStopObservingMediaSinks_$self$$, $sourceUrn$jscomp$91$$) {
  $JSCompiler_StaticMethods_doStopObservingMediaSinks_$self$$.$b$.forEach(function($JSCompiler_StaticMethods_doStopObservingMediaSinks_$self$$) {
    $JSCompiler_StaticMethods_doStopObservingMediaSinks_$self$$.stopObservingMediaSinks($sourceUrn$jscomp$91$$);
  });
}, $JSCompiler_StaticMethods_querySinks_$$ = function($JSCompiler_StaticMethods_querySinks_$self$$, $sourceUrn$jscomp$92$$) {
  if ("urn:x-org.chromium.media:source:tab:-1" == $sourceUrn$jscomp$92$$) {
    $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_querySinks_$self$$.$logger_$, "No sinks for sourceUrn: " + $sourceUrn$jscomp$92$$);
  } else {
    var $sinks$jscomp$24$$ = new Map, $origins$jscomp$1$$ = [];
    $JSCompiler_StaticMethods_querySinks_$self$$.$b$.forEach(function($p$jscomp$12$$) {
      var $sinkList$$ = $p$jscomp$12$$.$getAvailableSinks$($sourceUrn$jscomp$92$$);
      0 < $sinkList$$.sinks.length && ($origins$jscomp$1$$ = $sinkList$$.origins);
      $sinkList$$.sinks.forEach(function($sourceUrn$jscomp$92$$) {
        $sinks$jscomp$24$$.has($sourceUrn$jscomp$92$$.id) ? $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$($JSCompiler_StaticMethods_querySinks_$self$$.$logger_$, "Detected duplicate sink " + $sourceUrn$jscomp$92$$.id + " from provider: " + $p$jscomp$12$$.getName()) : $sinks$jscomp$24$$.set($sourceUrn$jscomp$92$$.id, $sourceUrn$jscomp$92$$);
      });
    });
    $JSCompiler_StaticMethods_sendSinksToMr_$$($JSCompiler_StaticMethods_querySinks_$self$$, $sourceUrn$jscomp$92$$, Array.from($sinks$jscomp$24$$.values()), $origins$jscomp$1$$ || []);
  }
}, $JSCompiler_StaticMethods_sendSinksToMr_$$ = function($JSCompiler_StaticMethods_sendSinksToMr_$self$$, $sourceUrn$jscomp$93$$, $sinkList$jscomp$1$$, $origins$jscomp$2$$) {
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($JSCompiler_StaticMethods_sendSinksToMr_$self$$.$logger_$, "Sending " + $sinkList$jscomp$1$$.length + " sinks to MR for " + $sourceUrn$jscomp$93$$);
  $JSCompiler_StaticMethods_sendSinksToMr_$self$$.$f$.onSinksReceived($sourceUrn$jscomp$93$$, $sinkList$jscomp$1$$, $origins$jscomp$2$$.map($mr$MojoUtils$stringToMojoOrigin$$));
};
$JSCompiler_prototypeAlias$$ = $mr$ProviderManager$$.prototype;
$JSCompiler_prototypeAlias$$.sendRouteMessage = function($JSCompiler_temp$jscomp$4174_promise$jscomp$inline_4475_routeId$jscomp$94$$, $message$jscomp$146$$, $opt_extraInfo$jscomp$7$$) {
  var $provider$jscomp$30$$ = this.$a$.get($JSCompiler_temp$jscomp$4174_promise$jscomp$inline_4475_routeId$jscomp$94$$);
  $provider$jscomp$30$$ ? ($JSCompiler_temp$jscomp$4174_promise$jscomp$inline_4475_routeId$jscomp$94$$ = $provider$jscomp$30$$.sendRouteMessage($JSCompiler_temp$jscomp$4174_promise$jscomp$inline_4475_routeId$jscomp$94$$, $message$jscomp$146$$, $opt_extraInfo$jscomp$7$$), $JSCompiler_temp$jscomp$4174_promise$jscomp$inline_4475_routeId$jscomp$94$$ = $JSCompiler_StaticMethods_addTimeout_$$(this, $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_temp$jscomp$4174_promise$jscomp$inline_4475_routeId$jscomp$94$$), 
  3E4)) : $JSCompiler_temp$jscomp$4174_promise$jscomp$inline_4475_routeId$jscomp$94$$ = Promise.reject(Error("Invalid route ID " + $JSCompiler_temp$jscomp$4174_promise$jscomp$inline_4475_routeId$jscomp$94$$));
  return $JSCompiler_temp$jscomp$4174_promise$jscomp$inline_4475_routeId$jscomp$94$$;
};
$JSCompiler_prototypeAlias$$.sendRouteBinaryMessage = function($JSCompiler_temp$jscomp$4175_promise$jscomp$inline_4478_routeId$jscomp$95$$, $data$jscomp$75$$) {
  var $provider$jscomp$31$$ = this.$a$.get($JSCompiler_temp$jscomp$4175_promise$jscomp$inline_4478_routeId$jscomp$95$$);
  $provider$jscomp$31$$ ? ($JSCompiler_temp$jscomp$4175_promise$jscomp$inline_4478_routeId$jscomp$95$$ = $provider$jscomp$31$$.sendRouteBinaryMessage($JSCompiler_temp$jscomp$4175_promise$jscomp$inline_4478_routeId$jscomp$95$$, $data$jscomp$75$$), $JSCompiler_temp$jscomp$4175_promise$jscomp$inline_4478_routeId$jscomp$95$$ = $JSCompiler_StaticMethods_addTimeout_$$(this, $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_temp$jscomp$4175_promise$jscomp$inline_4478_routeId$jscomp$95$$), 
  3E4)) : $JSCompiler_temp$jscomp$4175_promise$jscomp$inline_4478_routeId$jscomp$95$$ = Promise.reject(Error("Invalid route ID " + $JSCompiler_temp$jscomp$4175_promise$jscomp$inline_4478_routeId$jscomp$95$$));
  return $JSCompiler_temp$jscomp$4175_promise$jscomp$inline_4478_routeId$jscomp$95$$;
};
$JSCompiler_prototypeAlias$$.startListeningForRouteMessages = function($queue$jscomp$inline_4482_routeId$jscomp$96$$) {
  var $JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_1599$$ = this.$j$;
  $JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_1599$$.$b$.has($queue$jscomp$inline_4482_routeId$jscomp$96$$) || ($JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_1599$$.$b$.add($queue$jscomp$inline_4482_routeId$jscomp$96$$), ($queue$jscomp$inline_4482_routeId$jscomp$96$$ = $JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_1599$$.$a$.get($queue$jscomp$inline_4482_routeId$jscomp$96$$)) && 0 < $queue$jscomp$inline_4482_routeId$jscomp$96$$.length && 
  $JSCompiler_StaticMethods_scheduleSend$$($JSCompiler_StaticMethods_listenForRouteMessages$self$jscomp$inline_1599$$));
};
$JSCompiler_prototypeAlias$$.stopListeningForRouteMessages = function($routeId$jscomp$97$$) {
  this.$j$.stopListeningForRouteMessages($routeId$jscomp$97$$);
};
$JSCompiler_prototypeAlias$$.detachRoute = function($routeId$jscomp$98$$) {
  var $provider$jscomp$32$$ = this.$a$.get($routeId$jscomp$98$$);
  $provider$jscomp$32$$ ? $provider$jscomp$32$$.detachRoute($routeId$jscomp$98$$) : $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Route " + $routeId$jscomp$98$$ + " does not exist.");
};
$JSCompiler_prototypeAlias$$.enableMdnsDiscovery = function() {
  this.$F$ = !0;
  this.$D$.forEach(function($callback$jscomp$431$$) {
    $callback$jscomp$431$$();
  });
  this.$D$.length = 0;
};
var $JSCompiler_StaticMethods_getProviderFor_$$ = function($JSCompiler_StaticMethods_getProviderFor_$self$$, $sourceUrn$jscomp$94$$, $sinkId$jscomp$59$$) {
  return $JSCompiler_StaticMethods_getProviderFor_$self$$.$b$.find(function($JSCompiler_StaticMethods_getProviderFor_$self$$) {
    return $JSCompiler_StaticMethods_getProviderFor_$self$$.$canRoute$($sourceUrn$jscomp$94$$, $sinkId$jscomp$59$$);
  }) || null;
}, $JSCompiler_StaticMethods_getProviderForJoin_$$ = function($JSCompiler_StaticMethods_getProviderForJoin_$self$$, $sourceUrn$jscomp$95$$, $presentationId$jscomp$37$$) {
  return $JSCompiler_StaticMethods_getProviderForJoin_$self$$.$b$.find(function($JSCompiler_StaticMethods_getProviderForJoin_$self$$) {
    return $JSCompiler_StaticMethods_getProviderForJoin_$self$$.$canJoin$($sourceUrn$jscomp$95$$, $presentationId$jscomp$37$$);
  }) || null;
};
$mr$ProviderManager$$.prototype.$L$ = function() {
  var $$jscomp$this$jscomp$143$$ = this;
  this.$g$.forEach(function($sourceUrn$jscomp$96$$) {
    $JSCompiler_StaticMethods_querySinks_$$($$jscomp$this$jscomp$143$$, $sourceUrn$jscomp$96$$);
  });
};
var $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$ = function($JSCompiler_StaticMethods_maybeUpdateKeepAlive_$self$$) {
  $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$self$$.$f$.setKeepAlive(0 < $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$self$$.$H$ || 0 < $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$self$$.$B$.length);
};
$JSCompiler_prototypeAlias$$ = $mr$ProviderManager$$.prototype;
$JSCompiler_prototypeAlias$$.startObservingMediaRoutes = function($sourceUrn$jscomp$97$$) {
  this.$h$.has($sourceUrn$jscomp$97$$) || (this.$h$.add($sourceUrn$jscomp$97$$), this.$b$.forEach(function($p$jscomp$13$$) {
    $p$jscomp$13$$.startObservingMediaRoutes($sourceUrn$jscomp$97$$);
  }));
  this.$K$.$f$();
};
$JSCompiler_prototypeAlias$$.stopObservingMediaRoutes = function($sourceUrn$jscomp$98$$) {
  this.$h$.delete($sourceUrn$jscomp$98$$) ? this.$b$.forEach(function($provider$jscomp$35$$) {
    $provider$jscomp$35$$.stopObservingMediaRoutes($sourceUrn$jscomp$98$$);
  }) : $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "No existing route query " + $sourceUrn$jscomp$98$$);
};
$JSCompiler_prototypeAlias$$.$sendRoutesQueryResultToMr_$ = function() {
  var $$jscomp$this$jscomp$144$$ = this;
  if (0 != this.$h$.size) {
    var $routeList$$ = [];
    this.$b$.forEach(function($$jscomp$this$jscomp$144$$) {
      $routeList$$ = $routeList$$.concat($$jscomp$this$jscomp$144$$.$module$contents$mr$DialProvider_DialProvider_prototype$getRoutes$());
    });
    this.$h$.forEach(function($sourceUrn$jscomp$99$$) {
      var $nonLocalJoinableRouteIds$$ = [];
      $$jscomp$this$jscomp$144$$.$b$.forEach(function($$jscomp$this$jscomp$144$$) {
        $$jscomp$this$jscomp$144$$.$module$contents$mr$DialProvider_DialProvider_prototype$getRoutes$().forEach(function($routeList$$) {
          !$routeList$$.$createdLocally$ && $$jscomp$this$jscomp$144$$.$canJoin$($sourceUrn$jscomp$99$$, void 0, $routeList$$) && $nonLocalJoinableRouteIds$$.push($routeList$$.id);
        });
      });
      $$jscomp$this$jscomp$144$$.$f$.onRoutesUpdated($routeList$$, $sourceUrn$jscomp$99$$, $nonLocalJoinableRouteIds$$);
    });
  }
};
$JSCompiler_prototypeAlias$$.$getStorageKey$ = function() {
  return "ProviderManager";
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$SinkUtils_SinkUtils_prototype$getData$ = function() {
  return [new $mr$ProviderManager$PersistentData_$$(this.$b$.map(function($p$jscomp$16$$) {
    return $p$jscomp$16$$.getName();
  }), Array.from(this.$g$), Array.from(this.$h$), Array.from(this.$a$, function($$jscomp$destructuring$var14_routeId$jscomp$99$$) {
    var $$jscomp$destructuring$var15_provider$jscomp$36$$ = $$jscomp$makeIterator$$($$jscomp$destructuring$var14_routeId$jscomp$99$$);
    $$jscomp$destructuring$var14_routeId$jscomp$99$$ = $$jscomp$destructuring$var15_provider$jscomp$36$$.next().value;
    $$jscomp$destructuring$var15_provider$jscomp$36$$ = $$jscomp$destructuring$var15_provider$jscomp$36$$.next().value;
    return [$$jscomp$destructuring$var14_routeId$jscomp$99$$, $$jscomp$destructuring$var15_provider$jscomp$36$$.getName()];
  }), Array.from(this.$o$), this.$F$, this.$w$)];
};
$JSCompiler_prototypeAlias$$.$loadSavedData$ = function() {
  var $savedData$jscomp$17$$ = $mr$PersistentDataManager$getTemporaryData$$(this);
  if ($savedData$jscomp$17$$) {
    this.$g$ = new Set($savedData$jscomp$17$$.$j$);
    this.$h$ = new Set($savedData$jscomp$17$$.$g$);
    for (var $$jscomp$iter$19$$ = $$jscomp$makeIterator$$($savedData$jscomp$17$$.$f$), $$jscomp$key$$jscomp$destructuring$var16_routeId$jscomp$100$$ = $$jscomp$iter$19$$.next(); !$$jscomp$key$$jscomp$destructuring$var16_routeId$jscomp$100$$.done; $$jscomp$key$$jscomp$destructuring$var16_routeId$jscomp$100$$ = $$jscomp$iter$19$$.next()) {
      var $$jscomp$destructuring$var17_providerName$jscomp$3$$ = $$jscomp$makeIterator$$($$jscomp$key$$jscomp$destructuring$var16_routeId$jscomp$100$$.value), $$jscomp$key$$jscomp$destructuring$var16_routeId$jscomp$100$$ = $$jscomp$destructuring$var17_providerName$jscomp$3$$.next().value, $$jscomp$destructuring$var17_providerName$jscomp$3$$ = $$jscomp$destructuring$var17_providerName$jscomp$3$$.next().value, $provider$jscomp$37$$ = $JSCompiler_StaticMethods_getProviderByName$$(this, $$jscomp$destructuring$var17_providerName$jscomp$3$$);
      $mr$Assertions$assert$$($provider$jscomp$37$$, "Provider not found: " + $$jscomp$destructuring$var17_providerName$jscomp$3$$);
      this.$a$.set($$jscomp$key$$jscomp$destructuring$var16_routeId$jscomp$100$$, $provider$jscomp$37$$);
    }
    this.$o$ = new Map($savedData$jscomp$17$$.$h$);
    this.$w$ = $savedData$jscomp$17$$.$a$ || null;
    $savedData$jscomp$17$$.$b$ && this.enableMdnsDiscovery();
  }
};
$JSCompiler_prototypeAlias$$.$getProviderFromRouteId$ = function($routeId$jscomp$101$$) {
  return this.$a$.get($routeId$jscomp$101$$);
};
$JSCompiler_prototypeAlias$$.$onRouteAdded$ = function($provider$jscomp$38$$, $route$jscomp$72$$) {
  this.$a$.set($route$jscomp$72$$.id, $provider$jscomp$38$$);
  this.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteUpdated$($provider$jscomp$38$$, $route$jscomp$72$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteRemoved$ = function($provider$jscomp$39$$, $route$jscomp$73$$) {
  $JSCompiler_StaticMethods_maybeStopMirrorSession_$$(this, $route$jscomp$73$$.id);
  this.$a$.delete($route$jscomp$73$$.id);
  var $JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_1602$$ = this.$j$, $routeId$jscomp$inline_1603$$ = $route$jscomp$73$$.id;
  $JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_1602$$.$b$.delete($routeId$jscomp$inline_1603$$);
  var $queue$jscomp$inline_1604$$ = $JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_1602$$.$a$.get($routeId$jscomp$inline_1603$$);
  $queue$jscomp$inline_1604$$ && ($JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_1602$$.$a$.delete($routeId$jscomp$inline_1603$$), $JSCompiler_StaticMethods_onMessagesRemoved_$$($JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_1602$$, $queue$jscomp$inline_1604$$), $JSCompiler_StaticMethods_updateShouldKeepAlive_$$($JSCompiler_StaticMethods_mr_RouteMessageSender_prototype$onRouteRemoved$self$jscomp$inline_1602$$));
  this.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteUpdated$($provider$jscomp$39$$, $route$jscomp$73$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteUpdated$ = function() {
  0 < this.$h$.size && this.$K$.$f$();
};
$JSCompiler_prototypeAlias$$.$onMirrorContentTitleUpdated$ = function($route$jscomp$75$$) {
  var $provider$jscomp$41$$ = this.$a$.get($route$jscomp$75$$.id);
  $provider$jscomp$41$$ && this.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteUpdated$($provider$jscomp$41$$, $route$jscomp$75$$);
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onRouteMessage$ = function($provider$jscomp$42$$, $routeId$jscomp$102$$, $message$jscomp$147$$) {
  this.$a$.has($routeId$jscomp$102$$) ? ("string" === typeof $message$jscomp$147$$ || $message$jscomp$147$$ instanceof Uint8Array || ($message$jscomp$147$$ = JSON.stringify($message$jscomp$147$$)), this.$j$.send($routeId$jscomp$102$$, $message$jscomp$147$$)) : $JSCompiler_StaticMethods_mr_Logger_prototype$warning$$(this.$logger_$, "Got route message for closed route " + $routeId$jscomp$102$$);
};
$JSCompiler_prototypeAlias$$.onPresentationConnectionStateChanged = function($routeId$jscomp$103$$, $state$jscomp$15$$) {
  "terminated" == $state$jscomp$15$$ && this.$j$.$j$();
  this.$f$.onPresentationConnectionStateChanged($routeId$jscomp$103$$, $state$jscomp$15$$);
};
$JSCompiler_prototypeAlias$$.onPresentationConnectionClosed = function($routeId$jscomp$104$$, $reason$jscomp$29$$, $message$jscomp$148$$) {
  this.$j$.$j$();
  this.$f$.onPresentationConnectionClosed($routeId$jscomp$104$$, $reason$jscomp$29$$, $message$jscomp$148$$);
};
$JSCompiler_prototypeAlias$$.$onMirrorSessionEnded$ = function($routeId$jscomp$105$$) {
  this.$l$.delete($routeId$jscomp$105$$);
  var $provider$jscomp$43$$ = this.$a$.get($routeId$jscomp$105$$);
  $provider$jscomp$43$$ && $provider$jscomp$43$$.terminateRoute($routeId$jscomp$105$$);
};
$JSCompiler_prototypeAlias$$.$onInternalMessage$ = function($provider$jscomp$44$$, $routeId$jscomp$106$$, $message$jscomp$149$$) {
  this.$J$.dispatchEvent(new $mr$InternalMessageEvent$$($routeId$jscomp$106$$, $message$jscomp$149$$));
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$onSinksUpdated$ = function() {
  this.$R$.$f$();
};
$JSCompiler_prototypeAlias$$.onSinkAvailabilityUpdated = function($newAvailability_provider$jscomp$45$$, $availability$jscomp$3$$) {
  var $$jscomp$this$jscomp$145$$ = this, $currentAvailability_oldValue$jscomp$1$$ = this.$o$.get($newAvailability_provider$jscomp$45$$.getName());
  $mr$Assertions$assert$$(void 0 !== $currentAvailability_oldValue$jscomp$1$$, "oldValue != undefined");
  $currentAvailability_oldValue$jscomp$1$$ != $availability$jscomp$3$$ && ($currentAvailability_oldValue$jscomp$1$$ = $JSCompiler_StaticMethods_computeSinkAvailability_$$(this), this.$o$.set($newAvailability_provider$jscomp$45$$.getName(), $availability$jscomp$3$$), $newAvailability_provider$jscomp$45$$ = $JSCompiler_StaticMethods_computeSinkAvailability_$$(this), $currentAvailability_oldValue$jscomp$1$$ != $newAvailability_provider$jscomp$45$$ && (this.$f$.onSinkAvailabilityUpdated($newAvailability_provider$jscomp$45$$), 
  0 == $newAvailability_provider$jscomp$45$$ && (this.$g$.forEach(function($newAvailability_provider$jscomp$45$$) {
    $JSCompiler_StaticMethods_doStopObservingMediaSinks_$$($$jscomp$this$jscomp$145$$, $newAvailability_provider$jscomp$45$$);
  }), this.$g$.clear())));
};
var $JSCompiler_StaticMethods_computeSinkAvailability_$$ = function($JSCompiler_StaticMethods_computeSinkAvailability_$self$$) {
  return Array.from($JSCompiler_StaticMethods_computeSinkAvailability_$self$$.$o$.values()).reduce(function($JSCompiler_StaticMethods_computeSinkAvailability_$self$$, $cur$jscomp$4$$) {
    return Math.max($JSCompiler_StaticMethods_computeSinkAvailability_$self$$, $cur$jscomp$4$$);
  }, 0);
};
$mr$ProviderManager$$.prototype.$getRouteMessageEventTarget$ = function() {
  return this.$J$;
};
$mr$ProviderManager$$.prototype.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$getIssueSender$ = function() {
  return this.$I$;
};
var $JSCompiler_StaticMethods_maybeStopMirrorSession_$$ = function($JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$, $routeId$jscomp$107$$) {
  return $JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$.$l$.has($routeId$jscomp$107$$) ? $JSCompiler_StaticMethods_getMirrorService$$($JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$, $JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$.$l$.get($routeId$jscomp$107$$)).then(function($mirrorService$$) {
    $JSCompiler_StaticMethods_maybeStopMirrorSession_$self$$.$l$.delete($routeId$jscomp$107$$);
    return $JSCompiler_StaticMethods_stopCurrentMirroring$$($mirrorService$$);
  }) : Promise.resolve(!1);
};
$JSCompiler_prototypeAlias$$ = $mr$ProviderManager$$.prototype;
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$startMirroring$ = function($provider$jscomp$46$$, $route$jscomp$76$$, $opt_presentationId$jscomp$7$$, $opt_streamStartedCallback$jscomp$5$$) {
  var $$jscomp$this$jscomp$147$$ = this, $mirrorServiceName$jscomp$3$$ = $mr$Assertions$assertString$$($provider$jscomp$46$$.$getMirrorServiceName$($route$jscomp$76$$.sinkId));
  $JSCompiler_StaticMethods_mr_Logger_prototype$info$$(this.$logger_$, "Starting mirroring using service: " + $mirrorServiceName$jscomp$3$$);
  this.$l$.set($route$jscomp$76$$.id, $mirrorServiceName$jscomp$3$$);
  return $module$contents$mr$CancellablePromise_CancellablePromise$withUncancellableStep$$($JSCompiler_StaticMethods_getMirrorService$$(this, $mirrorServiceName$jscomp$3$$), function($mirrorService$jscomp$1$$) {
    $$jscomp$this$jscomp$147$$.$w$ = $mirrorServiceName$jscomp$3$$;
    return $JSCompiler_StaticMethods_module$contents$mr$CancellablePromise_CancellablePromise_prototype$catch$$($JSCompiler_StaticMethods_mr_mirror_Service_prototype$startMirroring$$($mirrorService$jscomp$1$$, $route$jscomp$76$$, $mr$Assertions$assertString$$($route$jscomp$76$$.mediaSource), $provider$jscomp$46$$.$getMirrorSettings$($route$jscomp$76$$.sinkId), $opt_presentationId$jscomp$7$$, $opt_streamStartedCallback$jscomp$5$$), function($provider$jscomp$46$$) {
      if ($provider$jscomp$46$$ instanceof $mr$mirror$Error$$ && 3 == $provider$jscomp$46$$.reason) {
        throw new $mr$RouteRequestError$$(8);
      }
      throw $provider$jscomp$46$$;
    });
  });
};
$JSCompiler_prototypeAlias$$.$module$contents$mr$cast$DialProviderWrapper_DialProviderWrapper_prototype$updateMirroring$ = function($provider$jscomp$47$$, $route$jscomp$77$$, $sourceUrn$jscomp$101$$, $opt_presentationId$jscomp$8$$, $opt_tabId$jscomp$15$$, $opt_streamStartedCallback$jscomp$6$$) {
  var $$jscomp$this$jscomp$148$$ = this, $mirrorServiceName$jscomp$4$$ = this.$l$.get($route$jscomp$77$$.id);
  return $mirrorServiceName$jscomp$4$$ ? $module$contents$mr$CancellablePromise_CancellablePromise$withUncancellableStep$$($JSCompiler_StaticMethods_getMirrorService$$(this, $mirrorServiceName$jscomp$4$$), function($mirrorService$jscomp$2$$) {
    $$jscomp$this$jscomp$148$$.$w$ = $mirrorServiceName$jscomp$4$$;
    var $mirrorSettings$jscomp$inline_1613$$ = $provider$jscomp$47$$.$getMirrorSettings$($route$jscomp$77$$.sinkId);
    $JSCompiler_StaticMethods_mr_Logger_prototype$info$$($mirrorService$jscomp$2$$.$logger$, "Update mirroring on route " + $route$jscomp$77$$.id);
    return $mirrorService$jscomp$2$$.$g$ ? $module$contents$mr$CancellablePromise_CancellablePromise$forPromise$$($JSCompiler_StaticMethods_ensureMirroringOfSourceIsAllowed_$$($sourceUrn$jscomp$101$$, $opt_tabId$jscomp$15$$).then($mirrorService$jscomp$2$$.$H$.bind($mirrorService$jscomp$2$$, $route$jscomp$77$$, $sourceUrn$jscomp$101$$, $mirrorSettings$jscomp$inline_1613$$, $opt_presentationId$jscomp$8$$, $opt_streamStartedCallback$jscomp$6$$))) : $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Not initialized"));
  }) : $module$contents$mr$CancellablePromise_CancellablePromise$reject$$(Error("Route " + $route$jscomp$77$$.id + " is not mirroring"));
};
$JSCompiler_prototypeAlias$$.$registerMdnsDiscoveryEnabledCallback$ = function($callback$jscomp$432$$) {
  this.$F$ ? $callback$jscomp$432$$() : -1 == this.$D$.indexOf($callback$jscomp$432$$) && this.$D$.push($callback$jscomp$432$$);
};
$JSCompiler_prototypeAlias$$.$isMdnsDiscoveryEnabled$ = function() {
  return this.$F$;
};
$JSCompiler_prototypeAlias$$.$requestKeepAlive$ = function($componentId$jscomp$2$$, $keepAlive$jscomp$2$$) {
  var $index$jscomp$80$$ = this.$B$.indexOf($componentId$jscomp$2$$), $componentKeepAlive$$ = 0 <= $index$jscomp$80$$;
  $keepAlive$jscomp$2$$ && !$componentKeepAlive$$ ? this.$B$.push($componentId$jscomp$2$$) : !$keepAlive$jscomp$2$$ && $componentKeepAlive$$ && this.$B$.splice($index$jscomp$80$$, 1);
  $JSCompiler_StaticMethods_maybeUpdateKeepAlive_$$(this);
};
var $JSCompiler_StaticMethods_getProviderByName$$ = function($JSCompiler_StaticMethods_getProviderByName$self$$, $name$jscomp$169$$) {
  return $JSCompiler_StaticMethods_getProviderByName$self$$.$b$.find(function($JSCompiler_StaticMethods_getProviderByName$self$$) {
    return $JSCompiler_StaticMethods_getProviderByName$self$$.getName() == $name$jscomp$169$$;
  }) || null;
};
$mr$ProviderManager$$.prototype.searchSinks = function($sinkId$jscomp$62$$, $sourceUrn$jscomp$103$$, $searchCriteria$jscomp$7$$) {
  var $providerName$jscomp$4_searchOwner$$ = $sinkId$jscomp$62$$.startsWith("pseudo:") ? $sinkId$jscomp$62$$.substring(7) : null;
  return ($providerName$jscomp$4_searchOwner$$ = $providerName$jscomp$4_searchOwner$$ ? $JSCompiler_StaticMethods_getProviderByName$$(this, $providerName$jscomp$4_searchOwner$$) : null) ? $providerName$jscomp$4_searchOwner$$.searchSinks($sourceUrn$jscomp$103$$, $searchCriteria$jscomp$7$$).then(function($sinkId$jscomp$62$$) {
    return $sinkId$jscomp$62$$.id;
  }) : Promise.reject(Error("No provider supports " + $sinkId$jscomp$62$$));
};
$mr$ProviderManager$$.prototype.provideSinks = function($providerName$jscomp$5$$, $sinks$jscomp$25$$) {
  var $provider$jscomp$48$$ = $JSCompiler_StaticMethods_getProviderByName$$(this, $providerName$jscomp$5$$);
  $provider$jscomp$48$$ ? $provider$jscomp$48$$.provideSinks($sinks$jscomp$25$$) : this.$logger_$.error("provideSinks: Provider not found for providerName " + $providerName$jscomp$5$$);
};
$mr$ProviderManager$$.prototype.updateMediaSinks = function($sourceUrn$jscomp$104$$) {
  this.$g$.has($sourceUrn$jscomp$104$$) || $JSCompiler_StaticMethods_querySinks_$$(this, $sourceUrn$jscomp$104$$);
};
$mr$ProviderManager$$.prototype.createMediaRouteController = function($errorMessage$jscomp$1_routeId$jscomp$108$$, $controllerRequest$jscomp$6$$, $observer$jscomp$6$$) {
  var $$jscomp$this$jscomp$149$$ = this, $provider$jscomp$49$$ = this.$a$.get($errorMessage$jscomp$1_routeId$jscomp$108$$);
  return $provider$jscomp$49$$ ? $provider$jscomp$49$$.createMediaRouteController($errorMessage$jscomp$1_routeId$jscomp$108$$, $controllerRequest$jscomp$6$$, $observer$jscomp$6$$).catch(function($errorMessage$jscomp$1_routeId$jscomp$108$$) {
    $$jscomp$this$jscomp$149$$.$logger_$.error("createMediaRouteController failed: " + $errorMessage$jscomp$1_routeId$jscomp$108$$.message);
    $controllerRequest$jscomp$6$$.close();
    $observer$jscomp$6$$.ptr.reset();
    throw $errorMessage$jscomp$1_routeId$jscomp$108$$;
  }) : ($errorMessage$jscomp$1_routeId$jscomp$108$$ = "createMediaRouteController: Provider not found for " + $errorMessage$jscomp$1_routeId$jscomp$108$$, this.$logger_$.error($errorMessage$jscomp$1_routeId$jscomp$108$$), $controllerRequest$jscomp$6$$.close(), $observer$jscomp$6$$.ptr.reset(), Promise.reject(Error($errorMessage$jscomp$1_routeId$jscomp$108$$)));
};
var $mr$ProviderManager$PersistentData_$$ = function($providerNames$$, $sinkQueries$$, $routeQueries$$, $routeIdToProviderName$$, $sinkAvailabilityMap$$, $mdnsEnabled$$, $lastUsedMirrorService$jscomp$1$$) {
  this.$j$ = $sinkQueries$$;
  this.$g$ = $routeQueries$$;
  this.$f$ = $routeIdToProviderName$$;
  this.$h$ = $sinkAvailabilityMap$$;
  this.$b$ = $mdnsEnabled$$;
  this.$a$ = $lastUsedMirrorService$jscomp$1$$;
};

